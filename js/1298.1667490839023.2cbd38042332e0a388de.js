"use strict";(self.webpackChunksources_ui=self.webpackChunksources_ui||[]).push([[1298],{67867:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&a(t,e,r);return o(t,e),t},i=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,a=0,o=t.length;a<o;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.actionPropsGenerator=t.overflowActionsMapper=void 0;var s=r(85893),u=r(92950),p=l(r(92950)),d=r(76857),f=r(25832),m=c(r(94184));function g(e){return void 0!==e.label}t.overflowActionsMapper=function(e,t){var r=e;return(0,u.createElement)(d.DropdownItem,n({},r.props,{className:"ins-c-primary-toolbar__overflow-actions",key:r.value||r.key||"".concat(t,"-overflow"),component:r.props&&r.props.component||p.default.isValidElement(r.label||e)?"div":"button",onClick:function(e){return r.onClick&&r.onClick(e,r,t)}}),r.label||e)},t.actionPropsGenerator=function(e,t){var r,a="object"==typeof e&&null!==typeof e&&"function"==typeof(null==e?void 0:e.onClick)?function(r){return null==e?void 0:e.onClick(r,e,t)}:void 0;return n(n({},null==e?void 0:e.props),{onClick:a,component:(null===(r=null==e?void 0:e.props)||void 0===r?void 0:r.component)||(p.default.isValidElement(e.label||e)?"div":"button"),children:"object"==typeof e&&null!==typeof e?null==e?void 0:e.label:e})},t.default=function(e){var r,a=e.actions,o=void 0===a?[]:a,l=e.overflowActions,c=void 0===l?[]:l,u=e.onSelect,b=void 0===u?function(){}:u,y=e.dropdownProps,v=void 0===y?{}:y,h=e.kebabToggleProps,E=e.exportConfig,_=(0,p.useState)(!1),x=_[0],C=_[1],j=function(e){return C(e)},k=o[0],O=o.slice(1),P=i(i(i(i([],k?[(0,s.jsx)(d.DropdownItem,n({},(0,t.actionPropsGenerator)(k,"first-action"),{className:(0,m.default)("ins-c-primary-toolbar__first-action",g(k)?null===(r=null==k?void 0:k.props)||void 0===r?void 0:r.className:void 0)}),"first-action")]:[],!0),O.map((function(e,r){var a;return(0,s.jsx)(d.DropdownItem,n({},(0,t.actionPropsGenerator)(e,r)),(null==e?void 0:e.key)||(null===(a=null==e?void 0:e.props)||void 0===a?void 0:a.key)||r)})),!0),o.length>0&&c.length>0?[(0,s.jsx)(d.DropdownSeparator,{className:"ins-c-primary-toolbar__overflow-actions-separator"},"separator")]:[],!0),c.map((function(e,r){return(0,t.overflowActionsMapper)(e,r)})),!0);return(0,s.jsxs)(p.Fragment,{children:[k&&(0,s.jsx)(d.ToolbarItem,n({className:"ins-c-primary-toolbar__first-action pf-m-spacer-sm"},{children:g(k)?(0,s.jsx)(d.Button,n({ouiaId:"".concat(k.label)},k.props,{onClick:k.onClick||k.props&&k.props.onClick||void 0},{children:k.label})):k})),E&&(E.extraItems||E.onSelect)&&(0,s.jsx)(d.ToolbarItem,n({className:"pf-m-spacer-sm"},{children:(0,s.jsx)(f.DownloadButton,n({},E))})),(o&&(null==o?void 0:o.length)>0||c.length>0)&&(0,s.jsx)(d.ToolbarItem,n({className:"".concat(o.length<=1?"ins-m-actions--empty":""," ins-c-primary-toolbar__actions pf-m-spacer-sm")},{children:(0,s.jsx)(d.Dropdown,n({},v,{isOpen:x,isPlain:!0,onSelect:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];b&&b.apply(void 0,e),j(!1)},ouiaId:"Actions",toggle:(0,s.jsx)(d.KebabToggle,n({},h,{onToggle:function(e){j(e)}})),dropdownItems:P}))}))]})}},90111:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)},a=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,a=0,o=t.length;a<o;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(85893),c=l(r(92950)),s=r(76857),u=r(40111),p=r(94973),d=l(r(67867)),f=r(92053),m=r(2238),g=r(23670),b=l(r(51256));r(62354),t.default=function(e){var t,r=e.id,l=e.className,y=e.toggleIsExpanded,v=void 0===y?function(){}:y,h=e.bulkSelect,E=e.filterConfig,_=e.dedicatedAction,x=e.actionsConfig,C=e.sortByConfig,j=e.pagination,k=e.activeFiltersConfig,O=e.children,P=e.exportConfig,S=e.expandAll,w=e.useMobileLayout,A=a(e,["id","className","toggleIsExpanded","bulkSelect","filterConfig","dedicatedAction","actionsConfig","sortByConfig","pagination","activeFiltersConfig","children","exportConfig","expandAll","useMobileLayout"]),D=o([],C?[{label:"Sort order ASC",props:{isDisabled:C.direction===p.SortByDirection.asc},onClick:function(e){return C.onSortChange&&C.onSortChange(e,p.SortByDirection.asc)}},{label:"Sort order DESC",props:{isDisabled:C.direction===p.SortByDirection.desc},onClick:function(e){return C.onSortChange&&C.onSortChange(e,p.SortByDirection.desc)}}]:[],!0);return(0,i.jsxs)(s.Toolbar,n({},A,{className:"".concat(l||""," ins-c-primary-toolbar"),toggleIsExpanded:v,id:r?"".concat(r):"ins-primary-data-toolbar",ouiaId:"PrimaryToolbar"},{children:[(0,i.jsxs)(s.ToolbarContent,{children:[(S||h||E||_)&&(0,i.jsxs)(s.ToolbarGroup,n({className:"ins-c-primary-toolbar__group-filter pf-m-spacer-md pf-m-space-items-lg",variant:"filter-group"},{children:[S&&(0,i.jsx)(s.ToolbarItem,{children:(t=S,c.default.isValidElement(t)?S:(0,i.jsx)(s.Button,n({},S.buttonProps,{variant:"plain","aria-label":"".concat(S.isAllExpanded?"Collapse":"Expand"," all"),onClick:function(e){return S.onClick(e,!S.isAllExpanded)},ouiaId:"ExpandCollapseAll",isDisabled:S.isDisabled},{children:(0,i.jsx)(s.ToolbarExpandIconWrapper,{children:S.isAllExpanded?(0,i.jsx)(u.AngleDownIcon,{}):(0,i.jsx)(u.AngleRightIcon,{})})})))}),h&&(0,i.jsx)(s.ToolbarItem,{children:c.default.isValidElement(h)?h:(0,i.jsx)(f.BulkSelect,n({ouiaId:"BulkSelect"},h))}),E&&(0,i.jsx)(s.ToolbarItem,n({className:"ins-c-primary-toolbar__filter"},{children:c.default.isValidElement(E)?E:(0,i.jsx)(m.ConditionalFilter,n({useMobileLayout:w},E))})),_&&(0,i.jsx)(s.ToolbarItem,{children:_})]})),c.default.isValidElement(x)?x:(x&&x.actions&&x.actions.length>0||C||P)&&(0,i.jsx)(d.default,n({},x||{},{exportConfig:P,overflowActions:D})),C&&(0,i.jsx)(s.ToolbarItem,n({className:"ins-c-primary-toolbar__sort-by"},{children:c.default.isValidElement(C)?C:(0,i.jsx)(b.default,n({},C))})),O,j&&(0,i.jsx)(s.ToolbarItem,n({className:"ins-c-primary-toolbar__pagination"},{children:c.default.isValidElement(j)?j:(0,i.jsx)(s.Pagination,n({isCompact:!0,ouiaId:"CompactPagination"},j))}))]}),k&&c.default.isValidElement(k)?(0,i.jsx)(s.ToolbarContent,{children:(0,i.jsx)(s.ToolbarItem,{children:k})}):void 0!==(null==k?void 0:k.filters)&&(k.filters.length>0||!0===k.showDeleteButton)&&(0,i.jsx)(s.ToolbarContent,{children:(0,i.jsx)(s.ToolbarItem,{children:(0,i.jsx)(g.FilterChips,n({},k))})})]}))}},51256:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.flipDirection=void 0;var a=r(85893),o=r(94973),l=r(76857),i=r(40111);function c(e){return e===o.SortByDirection.asc?o.SortByDirection.desc:o.SortByDirection.asc}t.flipDirection=c,t.default=function(e){var t=e.direction,r=void 0===t?o.SortByDirection.asc:t,s=e.onSortChange,u=void 0===s?function(){}:s;return(0,a.jsx)(l.Button,n({variant:"plain",onClick:function(e){return u(e,c(r))}},{children:r===o.SortByDirection.asc?(0,a.jsx)(i.SortAmountUpIcon,{size:"sm"}):(0,a.jsx)(i.SortAmountDownIcon,{size:"sm"})}))}},92053:(e,t,r)=>{r.r(t),r.d(t,{BulkSelect:()=>n.Z,default:()=>n.Z});var n=r(48799)},2238:(e,t,r)=>{r.r(t),r.d(t,{CheckboxFilter:()=>o.Z,ConditionalFilter:()=>n.Z,GroupFilter:()=>a.Z,RadioFilter:()=>l.Z,TextFilter:()=>i.Z,conditionalFilterType:()=>s.Y,default:()=>n.Z,groupType:()=>c.Z,typeMapper:()=>s.w});var n=r(18213),a=r(21556),o=r(40787),l=r(26154),i=r(68097),c=r(22137),s=r(87123)},25832:(e,t,r)=>{r.r(t),r.d(t,{DownloadButton:()=>n.Z,default:()=>n.Z});var n=r(97138)},23670:(e,t,r)=>{r.r(t),r.d(t,{FilterChips:()=>n.Z,default:()=>n.Z});var n=r(51812)},56638:(e,t,r)=>{r.d(t,{Z:()=>f});var n=r(87462),a=r(29439),o=r(45987),l=r(92950),i=r.n(l),c=r(45697),s=r.n(c),u=r(98583),p=["src"],d=function(e){var t=e.src,r=(0,o.Z)(e,p),c=(0,l.useState)(!1),s=(0,a.Z)(c,2),d=s[0],f=s[1];return i().createElement(i().Fragment,null,!d&&i().createElement(u.aN,(0,n.Z)({height:"40px",width:"110px"},r)),i().createElement("img",(0,n.Z)({src:t,"data-testid":"ImageWithPlaceholder",onLoad:function(){return f(!0)},style:{display:d?"initial":"none"}},r)))};d.propTypes={src:s().string.isRequired};const f=d},21298:(e,t,r)=>{r.r(t),r.d(t,{default:()=>I});var n=r(29439),a=r(92950),o=r.n(a),l=r(76857),i=r(40111),c=r(56638);const s=function(e){return o().createElement(l.Card,{isFlat:!0,className:"marketplace-card"},o().createElement(l.CardTitle,{className:"pf-u-pl-md pf-u-pr-md"},o().createElement(c.Z,{src:e.logo_url,className:"marketplace-card-icon"}),o().createElement("br",null),e.title,o().createElement("br",null),o().createElement(l.Label,{className:"pf-u-mt-sm marketplace-label",icon:o().createElement(i.DatabaseIcon,null)},e.primary_category.display_name)),o().createElement(l.CardBody,{className:"marketplace-card-body pf-u-mb-md pf-u-pl-md pf-u-pr-md",isFilled:!0},e.description_short),o().createElement(l.CardFooter,{className:"pf-u-pl-md pf-u-pr-md pf-u-pb-md"},o().createElement(l.Button,{variant:"link",isInline:!0,icon:o().createElement(i.ExternalLinkAltIcon,null),iconPosition:"right",component:"a",href:e.product_page_url,rel:"noopener noreferrer",target:"_blank"},"Add"," ")))};var u=r(15861),p=r(64687),d=r.n(p),f=r(48815),m="/api/marketplace-gateway/v1",g=function(){var e=(0,u.Z)(d().mark((function e(){var t,r=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{perPage:10,page:1},e.abrupt("return",f.be.get("".concat(m,"/unstable"),{params:{limit:t.perPage,offset:(t.page-1)*t.perPage}}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=(0,u.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.be.get("".concat(m,"/categories")));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=r(45697),v=r.n(y),h=r(87462),E=r(4942),_=r(90111),x=r.n(_);const C=function(){return o().createElement(l.Card,{isFlat:!0,className:"marketplace-card"},o().createElement(l.CardTitle,null,o().createElement(l.Skeleton,{role:"progressbar"})),o().createElement(l.CardBody,null,o().createElement(l.Skeleton,{role:"progressbar"})),o().createElement(l.CardFooter,null,o().createElement(l.Skeleton,{role:"progressbar"})))};function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,E.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=function(e){return{page:1,perPage:10,itemCount:(null==e?void 0:e.length)||0,filters:{type:["database"]},categories:null,isLoading:!0,data:e,loaded:0}},P=function(e,t){var r=t.type,n=t.payload,a=t.meta;switch(r){case"SET_PAGE":return k(k({},e),{},{page:n});case"SET_PER_PAGE":return k(k({},e),{},{page:1,perPage:n});case"LOAD_CATEGORIES":return k(k({},e),{},{categories:n,isLoading:!1});case"SET_LOADING_DATA":return k(k({},e),{},{loaded:e.loaded+1});case"LOAD_DATA":return k(k({},e),{},{loaded:Math.max(e.loaded-1,0),data:n,itemCount:a.count})}},S=function(e){return{database:"Database"}[e]||e},w=function(e){var t,r=e.data,c=e.isOpen,u=e.onClose,p=(0,a.useReducer)(P,r,O),d=(0,n.Z)(p,2),f=d[0],m=d[1],y=f.loaded>0;return(0,a.useEffect)((function(){c&&b().then((function(e){var t=e.data;return m({type:"LOAD_CATEGORIES",payload:t})}))}),[c]),(0,a.useEffect)((function(){c&&(m({type:"SET_LOADING_DATA"}),g({perPage:f.perPage,page:f.page}).then((function(e){var t=e.data,r=e.meta;return m({type:"LOAD_DATA",payload:t,meta:r})})))}),[f.page,f.perPage]),o().createElement(l.Modal,{className:"sources",onClose:u,isOpen:c,title:"Browse catalog",description:o().createElement("span",null,"A curated selection of offerings available for purchase from"," ",o().createElement("a",{href:"https://sandbox.marketplace.redhat.com",target:"_blank",rel:"noopener noreferrer"},"Red Hat Marketplace ",o().createElement(i.ExternalLinkAltIcon,null))),variant:"large"},f.isLoading&&o().createElement("div",{className:"pf-u-mb-md marketplace-flex"},o().createElement(C,null),o().createElement(C,null)),!f.isLoading&&o().createElement(o().Fragment,null,o().createElement(x(),{useMobileLayout:!0,className:"marketplace-modal-toolbar",pagination:{itemCount:f.itemCount,page:f.page,perPage:f.perPage,onSetPage:function(e,t){return m({type:"SET_PAGE",payload:t})},onPerPageSelect:function(e,t){return m({type:"SET_PER_PAGE",payload:t})},"data-testid":"pagination"},filterConfig:{items:[{label:"Type",placeholder:"Filter by product type",type:"checkbox",filterValues:{value:["database"],items:f.categories.map((function(e){return{label:e.display_name,value:e.page_name,isDisabled:!0}}))}}]},activeFiltersConfig:{showDeleteButton:!1,filters:(t=f.filters,Object.keys(t).map((function(e){var r;return t[e]&&0!==(null===(r=t[e])||void 0===r?void 0:r.length)?function(e,t){return{type:{category:"Type",chips:t.map((function(e){return{name:S(e)}}))}}[e]||{category:e,chips:t.map((function(e){return{name:e}}))}}(e,t[e]):null})).filter(Boolean))}}),o().createElement("div",{className:"pf-u-mb-md marketplace-flex"},!y&&r.map((function(e){return o().createElement(s,(0,h.Z)({key:e.id},e))})),y&&o().createElement(o().Fragment,null,o().createElement(C,null),o().createElement(C,null)))))};w.propTypes={data:v().array,isOpen:v().bool,onClose:v().func};const A=w;var D=function(e){var t=e.data,r=(0,a.useState)(!1),i=(0,n.Z)(r,2),c=i[0],s=i[1];return o().createElement(o().Fragment,null,o().createElement(A,{onClose:function(){return s(!1)},data:t,isOpen:c}),o().createElement(l.Card,{isFlat:!0,className:"marketplace-card marketplace-seemore-card"},o().createElement(l.CardBody,{isFilled:!0,className:"pf-u-pl-md pf-u-pr-md card-text"},"Not what youâ€™re looking for? Browse the catalog to see more offerings from Red Hat Marketplace."),o().createElement(l.CardFooter,{className:"pf-u-pl-md pf-u-pr-md pf-u-pb-md"},o().createElement(l.Button,{variant:"primary",onClick:function(){return s(!0)}},"See more databases"))))};D.propTypes={data:v().array};const T=D,I=function(){var e=(0,a.useState)(),t=(0,n.Z)(e,2),r=t[0],i=t[1];return(0,a.useEffect)((function(){g().then((function(e){var t=e.data;return i(t)}))}),[]),r?o().createElement("div",{className:"sources"},o().createElement(l.Title,{headingLevel:"h4",size:"xl",className:"pf-u-mb-md"},"Recommended services"),o().createElement("div",{className:"pf-u-mb-md marketplace-flex"},o().createElement(s,r.find((function(e){return"mongodb-enterprise-advanced"===(null==e?void 0:e.product_page_name)}))||r[0]),o().createElement(T,{data:r}))):o().createElement("div",{className:"pf-u-mb-md marketplace-flex"},o().createElement(C,null),o().createElement(C,null))}},62354:(e,t,r)=>{r.r(t)},85893:(e,t,r)=>{e.exports=r(75251)}}]);
//# sourceMappingURL=../sourcemaps/1298.js.map