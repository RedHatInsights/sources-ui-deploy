{"version":3,"sources":["webpack://sources-ui/./src/api/wizardHelpers.js","webpack://sources-ui/./src/components/addSourceWizard/ValidatorReset.js","webpack://sources-ui/./src/components/addSourceWizard/superKey/SuperKeyCredentials.js","webpack://sources-ui/./src/components/addSourceWizard/superKey/configurationStep.js","webpack://sources-ui/./src/components/addSourceWizard/descriptions/SubWatchDescription.js","webpack://sources-ui/./src/components/addSourceWizard/compileAllApplicationComboOptions.js","webpack://sources-ui/./src/components/addSourceWizard/superKey/applicationsStep.js","webpack://sources-ui/./src/components/addSourceWizard/SourceAddSchema.js","webpack://sources-ui/./src/utilities/debouncePromise.js"],"names":["doLoadSourceTypes","getSourcesApi","listSourceTypes","then","data","sourceTypes","doLoadApplicationTypes","listApplicationTypes","applicationTypes","findSource","name","postGraphQL","query","ValidatorReset","formOptions","useFormApi","useEffect","setTimeout","change","propTypes","PropTypes","SuperKeyCredentials","renderForm","values","getState","generateSuperKeyFields","source_type","intl","title","formatMessage","id","defaultMessage","nextStep","source","app_creation_workflow","fields","component","componentTypes","label","isRequired","options","className","Label","color","description","value","validate","type","validatorTypes","Content","condition","when","is","Point","isEnabled","props","StackItem","Flex","FlexItem","spacer","default","fill","Text","SubWatchDescription","useIntl","applications","includes","application","application_type_id","Stack","descriptionMapper","COST_MANAGEMENT_APP_NAME","CLOUD_METER_APP_NAME","labelMapper","compileAllApplicationComboOptions","sort","a","b","display_name","localeCompare","map","t","getActiveVendor","REDHAT_VENDOR","NO_APPLICATION_VALUE","asyncValidator","sourceId","undefined","response","console","error","handleError","sources","find","firstValidation","setFirstValidated","bool","asyncValidatorDebounced","asyncFunction","debounceTime","onlyResolvesLast","awesomeDebouncePromise","debouncePromise","compileAllSourcesComboOptions","product_name","vendor","replace","appMutatorRedHat","appTypes","option","selectedSourceType","appType","app","supported_source_types","shortIcons","amazon","azure","openshift","satellite","google","iconMapper","sourceType","icon_url","src","alt","appId","sourceTypeSelect","redhatTypes","disableAppSelection","mutator","isDisabled","isNotEmpty","applicationStep","menuIsPortal","hideField","typesStep","hasSuperKeyType","schema","authentication","is_superkey","cloudTypesStep","NameDescription","TextContent","key","TextVariants","nameStep","selectedType","placeholder","asyncValidatorDebouncedWrapper","resolveProps","validated","SummaryDescription","chunks","length","Math","floor","random","summaryStep","container","initialWizardState","wizardTitle","inModal","wizardDescription","buttonLabels","submit","back","cancel","next","showTitles","initialState","crossroads","configurationStep","applicationsStep","schemaBuilder"],"mappings":"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","file":"js/1589.f742c94af67c4c26a560.js","sourcesContent":["import { getSourcesApi } from './entities';\n\nexport const doLoadSourceTypes = () =>\n  getSourcesApi()\n    .listSourceTypes()\n    .then((data) => ({ sourceTypes: data.data }));\n\nexport const doLoadApplicationTypes = () =>\n  getSourcesApi()\n    .listApplicationTypes()\n    .then((data) => ({ applicationTypes: data.data }));\n\nexport const findSource = (name) =>\n  getSourcesApi().postGraphQL({\n    query: `{ sources(filter: {name: \"${name}\"})\n        { id, name }\n    }`,\n  });\n","import { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport useFormApi from '@data-driven-forms/react-form-renderer/dist/esm/use-form-api';\n\n// see https://github.com/data-driven-forms/react-forms/issues/431\nconst ValidatorReset = ({ name }) => {\n  const formOptions = useFormApi();\n\n  useEffect(() => {\n    setTimeout(() => formOptions.change(name, '1'));\n\n    return () => formOptions.change(name, '');\n  }, []);\n\n  return null;\n};\n\nValidatorReset.propTypes = {\n  name: PropTypes.string.isRequired,\n};\n\nexport default ValidatorReset;\n","import PropTypes from 'prop-types';\n\nimport useFormApi from '@data-driven-forms/react-form-renderer/dist/esm/use-form-api';\nimport generateSuperKeyFields from './generateSuperKeyFields';\n\nconst SuperKeyCredentials = ({ sourceTypes }) => {\n  const { renderForm, getState } = useFormApi();\n\n  const values = getState().values;\n\n  return renderForm(generateSuperKeyFields(sourceTypes, values.source_type));\n};\n\nSuperKeyCredentials.propTypes = {\n  sourceTypes: PropTypes.array,\n};\n\nexport default SuperKeyCredentials;\n","import React from 'react';\nimport componentTypes from '@data-driven-forms/react-form-renderer/dist/esm/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/dist/esm/validator-types';\nimport { Label } from '@patternfly/react-core/dist/esm/components/Label/Label';\nimport SuperKeyCredentials from './SuperKeyCredentials';\n\nconst configurationStep = (intl, sourceTypes) => ({\n  name: 'configuration_step',\n  title: intl.formatMessage({\n    id: 'wizard.configurationStep',\n    defaultMessage: 'Select configuration',\n  }),\n  nextStep: ({ values }) => {\n    if (!values.source?.app_creation_workflow) {\n      return;\n    }\n\n    return values.source?.app_creation_workflow === 'account_authorization' ? 'select_applications' : 'application_step';\n  },\n  fields: [\n    {\n      component: componentTypes.PLAIN_TEXT,\n      name: 'conf-desc',\n      label: 'Configure your source manually or let us manage all necessary credentials by selecting Superkey configuration.',\n    },\n    {\n      component: componentTypes.RADIO,\n      name: 'source.app_creation_workflow',\n      label: intl.formatMessage({\n        id: 'wizard.configurationMode',\n        defaultMessage: 'Select a configuration mode',\n      }),\n      isRequired: true,\n      options: [\n        {\n          label: (\n            <span className=\"ins-c-sources__wizard--rhel-mag-label\">\n              {intl.formatMessage({\n                id: 'wizard.accountAuth',\n                defaultMessage: 'Account authorization',\n              })}\n              <Label className=\"pf-u-ml-sm\" color=\"purple\">\n                {intl.formatMessage({ id: 'wizard.confMode.reccomended', defaultMessage: 'Recommended' })}\n              </Label>\n            </span>\n          ),\n          description: intl.formatMessage({\n            id: 'wizard.accountAuth.desc',\n            defaultMessage:\n              'A new automated source configuration method. Provide your AWS account credentials and let Red Hat configure and manage your source for you.',\n          }),\n          value: 'account_authorization',\n        },\n      ],\n      validate: [{ type: validatorTypes.REQUIRED }],\n    },\n    {\n      component: componentTypes.SUB_FORM,\n      name: 'sub-form',\n      fields: [\n        {\n          component: 'description',\n          name: 'super-key-credentials',\n          Content: SuperKeyCredentials,\n          sourceTypes,\n        },\n      ],\n      condition: { when: 'source.app_creation_workflow', is: 'account_authorization' },\n      className: 'pf-u-ml-md',\n    },\n    {\n      component: componentTypes.RADIO,\n      name: 'source.app_creation_workflow',\n      options: [\n        {\n          label: intl.formatMessage({\n            id: 'wizard.manualAuth',\n            defaultMessage: 'Manual configuration',\n          }),\n          description: intl.formatMessage({\n            id: 'wizard.manualAuth.desc',\n            defaultMessage:\n              'Configure and manage your source manually if you do not wish to provide Superkey credentials. You will set up sources the same way you do today.',\n          }),\n          value: 'manual_configuration',\n        },\n      ],\n    },\n  ],\n});\n\nexport default configurationStep;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\n\nimport { Text } from '@patternfly/react-core/dist/esm/components/Text/Text';\nimport { Stack } from '@patternfly/react-core/dist/esm/layouts/Stack/Stack';\nimport { StackItem } from '@patternfly/react-core/dist/esm/layouts/Stack/StackItem';\nimport { Flex } from '@patternfly/react-core/dist/esm/layouts/Flex/Flex';\nimport { FlexItem } from '@patternfly/react-core/dist/esm/layouts/Flex/FlexItem';\nimport CheckCircleIcon from '@patternfly/react-icons/dist/esm/icons/check-circle-icon';\n\nimport useFormApi from '@data-driven-forms/react-form-renderer/dist/esm/use-form-api';\n\nconst Point = ({ title, description, isEnabled, ...props }) => (\n  <StackItem {...props}>\n    <Flex>\n      <FlexItem spacer={{ default: 'spacerSm' }}>\n        <CheckCircleIcon fill={isEnabled ? '#3E8635' : '#6A6E73'} />\n      </FlexItem>\n      <FlexItem>\n        <Text className=\"pf-u-mb-xs ins-c-sources__wizard--rhel-desc-title\">{title}</Text>\n        <Text>{description}</Text>\n      </FlexItem>\n    </Flex>\n  </StackItem>\n);\n\nPoint.propTypes = {\n  title: PropTypes.string.isRequired,\n  description: PropTypes.string.isRequired,\n  isEnabled: PropTypes.bool,\n};\n\nconst SubWatchDescription = ({ id }) => {\n  const intl = useIntl();\n  const { getState } = useFormApi();\n\n  const values = getState().values;\n\n  const isEnabled =\n    (values.source.app_creation_workflow === 'account_authorization' && values.applications?.includes(id)) ||\n    (values.source.app_creation_workflow !== 'account_authorization' && values.application?.application_type_id === id);\n\n  return (\n    <Stack>\n      <Point\n        title={intl.formatMessage({\n          id: 'rhelbundle.goldImages.title',\n          defaultMessage: 'Red Hat Gold Images',\n        })}\n        description={intl.formatMessage({\n          id: 'rhelbundle.goldImages.description',\n          defaultMessage: 'Unlock cloud images in AWS and bring your own subscription instead of paying hourly.',\n        })}\n        className=\"pf-u-mb-sm\"\n        isEnabled={isEnabled}\n      />\n      <Point\n        title={intl.formatMessage({\n          id: 'rhelbundle.subwatch.title',\n          defaultMessage: 'High precision subscription watch data',\n        })}\n        description={intl.formatMessage({\n          id: 'rhelbundle.subwatch.description',\n          defaultMessage: 'View precise public cloud usage data in subscription watch.',\n        })}\n        className=\"pf-u-mb-sm\"\n        isEnabled={isEnabled}\n      />\n      <Point\n        title={intl.formatMessage({\n          id: 'rhelbundle.autoregistration.title',\n          defaultMessage: 'Autoregistration',\n        })}\n        description={intl.formatMessage({\n          id: 'rhelbundle.goldImages.description',\n          defaultMessage: 'Cloud instances automatically connect to cloud.redhat.com when provisioned.',\n        })}\n        className=\"pf-u-mb-sm\"\n        isEnabled={isEnabled}\n      />\n      <Point\n        title={intl.formatMessage({\n          id: 'rhelbundle.redhatconnector.title',\n          defaultMessage: 'Red Hat Connector',\n        })}\n        description={intl.formatMessage({\n          id: 'rhelbundle.redhatconnector.description',\n          defaultMessage: 'Simplified set up and registration of connected hosts.',\n        })}\n        isEnabled={isEnabled}\n      />\n    </Stack>\n  );\n};\n\nSubWatchDescription.propTypes = {\n  id: PropTypes.string.isRequired,\n};\n\nexport default SubWatchDescription;\n","import React from 'react';\n\nimport { NO_APPLICATION_VALUE } from './stringConstants';\n\nimport { Label } from '@patternfly/react-core/dist/esm/components/Label/Label';\nimport SubWatchDescription from './descriptions/SubWatchDescription';\nimport { CLOUD_METER_APP_NAME, COST_MANAGEMENT_APP_NAME, getActiveVendor, REDHAT_VENDOR } from '../../utilities/constants';\n\nexport const descriptionMapper = (type, intl) =>\n  ({\n    [COST_MANAGEMENT_APP_NAME]: intl.formatMessage({\n      id: 'cost.app.description',\n      defaultMessage: 'Analyze, forecast, and optimize your Red Hat OpenShift cluster costs in hybrid cloud environments.',\n    }),\n    [CLOUD_METER_APP_NAME]: <SubWatchDescription id={type.id} />,\n  }[type.name]);\n\nexport const labelMapper = (type, intl) =>\n  ({\n    [CLOUD_METER_APP_NAME]: (\n      <span className=\"ins-c-sources__wizard--rhel-mag-label\">\n        RHEL management{' '}\n        <Label className=\"pf-u-ml-sm\" color=\"purple\">\n          {intl.formatMessage({ id: 'sub.bundle', defaultMessage: 'Bundle' })}\n        </Label>\n      </span>\n    ),\n  }[type.name]);\n\nexport const compileAllApplicationComboOptions = (applicationTypes, intl) => [\n  ...applicationTypes\n    .sort((a, b) => a.display_name.localeCompare(b.display_name))\n    .map((t) => ({\n      value: t.id,\n      label: labelMapper(t, intl) || t.display_name,\n      description: descriptionMapper(t, intl),\n    })),\n  ...(getActiveVendor() !== REDHAT_VENDOR\n    ? [\n        {\n          label: intl.formatMessage({\n            id: 'wizard.noApplication',\n            defaultMessage: 'No application',\n          }),\n          value: NO_APPLICATION_VALUE,\n        },\n      ]\n    : []),\n];\n","import componentTypes from '@data-driven-forms/react-form-renderer/dist/esm/component-types';\nimport { compileAllApplicationComboOptions } from '../compileAllApplicationComboOptions';\n\nconst applicationsStep = (applicationTypes, intl) => ({\n  name: 'select_applications',\n  title: intl.formatMessage({\n    id: 'applications.select',\n    defaultMessage: 'Select applications',\n  }),\n  nextStep: 'summary',\n  fields: [\n    {\n      component: componentTypes.PLAIN_TEXT,\n      name: 'conf-desc',\n      label: intl.formatMessage({\n        id: 'applications.description',\n        defaultMessage:\n          // eslint-disable-next-line max-len\n          'Configuring your cloud sources provides additional capabilities included with your subscription. You can turn these features on or off at any time after source creation.',\n      }),\n    },\n    {\n      component: 'switch-group',\n      name: 'applications',\n      label: intl.formatMessage({\n        id: 'applications.availableApplications',\n        defaultMessage: 'Available applications',\n      }),\n      options: compileAllApplicationComboOptions(applicationTypes, intl),\n      applicationTypes,\n    },\n  ],\n});\n\nexport default applicationsStep;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\nimport componentTypes from '@data-driven-forms/react-form-renderer/dist/esm/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/dist/esm/validator-types';\n\nimport { Text, TextVariants } from '@patternfly/react-core/dist/esm/components/Text/Text';\nimport { TextContent } from '@patternfly/react-core/dist/esm/components/Text/TextContent';\n\nimport debouncePromise from '../../utilities/debouncePromise';\nimport { findSource } from '../../api/wizardHelpers';\nimport { schemaBuilder } from './schemaBuilder';\nimport { NO_APPLICATION_VALUE, wizardDescription, wizardTitle } from './stringConstants';\nimport ValidatorReset from './ValidatorReset';\nimport configurationStep from './superKey/configurationStep';\nimport { compileAllApplicationComboOptions } from './compileAllApplicationComboOptions';\nimport applicationsStep from './superKey/applicationsStep';\nimport { getActiveVendor, REDHAT_VENDOR } from '../../utilities/constants';\nimport validated from '../../utilities/resolveProps/validated';\nimport handleError from '../../api/handleError';\n\nexport const asyncValidator = async (value, sourceId = undefined, intl) => {\n  if (!value) {\n    return undefined;\n  }\n\n  let response;\n  try {\n    response = await findSource(value);\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.error(handleError(error));\n    return undefined;\n  }\n\n  if (response.data.sources.find(({ id }) => id !== sourceId)) {\n    throw intl.formatMessage({ defaultMessage: 'That name is taken. Try another.', id: 'wizard.nameTaken' });\n  }\n\n  return undefined;\n};\n\nlet firstValidation = true;\nexport const setFirstValidated = (bool) => (firstValidation = bool);\nexport const getFirstValidated = () => firstValidation;\n\nexport const asyncValidatorDebounced = debouncePromise(asyncValidator);\n\nexport const asyncValidatorDebouncedWrapper = (intl) => {\n  if (getFirstValidated()) {\n    setFirstValidated(false);\n    return (value, id) => (value ? asyncValidator(value, id, intl) : undefined);\n  }\n\n  return asyncValidatorDebounced;\n};\n\nexport const compileAllSourcesComboOptions = (sourceTypes) => [\n  ...sourceTypes\n    .map((type) => ({\n      ...type,\n      product_name: type.vendor === 'Red Hat' ? type.product_name.replace('Red Hat ', '') : type.product_name,\n    }))\n    .sort((a, b) => a.product_name.localeCompare(b.product_name))\n    .map((t) => ({\n      value: t.name,\n      label: t.product_name,\n    })),\n];\n\nexport const appMutatorRedHat = (appTypes) => (option, formOptions) => {\n  const selectedSourceType = formOptions.getState().values.source_type;\n  const appType = appTypes.find((app) => app.id === option.value);\n  const isEnabled = selectedSourceType && appType ? appType.supported_source_types.includes(selectedSourceType) : true;\n\n  if (!isEnabled) {\n    return;\n  }\n\n  return option;\n};\n\nexport const sourceTypeMutator = (appTypes, sourceTypes) => (option, formOptions) => {\n  const selectedApp = formOptions.getState().values.application\n    ? formOptions.getState().values.application.application_type_id\n    : undefined;\n  const appType = appTypes.find((app) => app.id === selectedApp);\n  const isEnabled = appType\n    ? appType.supported_source_types.includes(sourceTypes.find((type) => type.product_name === option.label).name)\n    : true;\n  return {\n    ...option,\n    isDisabled: !isEnabled,\n  };\n};\n\nconst shortIcons = {\n  amazon: '/apps/frontend-assets/partners-icons/aws.svg',\n  'ansible-tower': '/apps/frontend-assets/red-hat-logos/stacked.svg',\n  azure: '/apps/frontend-assets/partners-icons/microsoft-azure-short.svg',\n  openshift: '/apps/frontend-assets/red-hat-logos/stacked.svg',\n  satellite: '/apps/frontend-assets/red-hat-logos/stacked.svg',\n  google: '/apps/frontend-assets/partners-icons/google-cloud-short.svg',\n};\n\nexport const iconMapper = (sourceTypes) => (name) => {\n  const sourceType = sourceTypes.find((type) => type.name === name);\n\n  if (!sourceType || (sourceType.icon_url && !shortIcons[name])) {\n    return null;\n  }\n\n  const Icon = () => (\n    <img\n      src={shortIcons[name] || sourceType.icon_url}\n      alt={sourceType.product_name}\n      className={`ins-c-sources__wizard--icon ${sourceType.vendor === 'Red Hat' ? 'redhat-icon' : 'pf-u-mb-sm'}`}\n    />\n  );\n\n  return Icon;\n};\n\nexport const nextStep = ({ values: { application, source_type } }) => {\n  const appId = application && application.application_type_id !== NO_APPLICATION_VALUE && application.application_type_id;\n  const resultedStep = appId ? `${source_type}-${appId}` : source_type;\n\n  return resultedStep;\n};\n\nconst sourceTypeSelect = ({ intl, sourceTypes, applicationTypes }) => ({\n  component: 'card-select',\n  name: 'source_type',\n  isRequired: true,\n  label: intl.formatMessage({\n    id: 'wizard.selectYourSourceType',\n    defaultMessage: 'A. Select your source type',\n  }),\n  iconMapper: iconMapper(sourceTypes),\n  validate: [\n    {\n      type: validatorTypes.REQUIRED,\n    },\n  ],\n  options: compileAllSourcesComboOptions(sourceTypes, applicationTypes),\n});\n\nconst redhatTypes = ({ intl, sourceTypes, applicationTypes, disableAppSelection }) => [\n  sourceTypeSelect({ intl, sourceTypes, applicationTypes }),\n  {\n    component: 'enhanced-radio',\n    name: 'application.application_type_id',\n    label: intl.formatMessage({\n      id: 'wizard.selectApplication',\n      defaultMessage: 'B. Application',\n    }),\n    options: compileAllApplicationComboOptions(applicationTypes, intl, sourceTypes),\n    mutator: appMutatorRedHat(applicationTypes),\n    isDisabled: disableAppSelection,\n    isRequired: true,\n    validate: [{ type: validatorTypes.REQUIRED }],\n    condition: { when: 'source_type', isNotEmpty: true },\n  },\n];\n\nexport const applicationStep = (applicationTypes, intl) => ({\n  name: 'application_step',\n  title: intl.formatMessage({\n    id: 'wizard.selectApplication',\n    defaultMessage: 'Select application',\n  }),\n  nextStep,\n  fields: [\n    {\n      component: componentTypes.PLAIN_TEXT,\n      name: 'app-description',\n      label: intl.formatMessage({\n        id: 'wizard.applicationDescription',\n        defaultMessage:\n          'Select an application to connect to your source. You can connect additional applications after source creation.',\n      }),\n    },\n    {\n      component: 'enhanced-radio',\n      name: 'application.application_type_id',\n      options: compileAllApplicationComboOptions(applicationTypes, intl),\n      mutator: appMutatorRedHat(applicationTypes),\n      menuIsPortal: true,\n    },\n    {\n      component: componentTypes.TEXT_FIELD,\n      name: 'source_type',\n      hideField: true,\n    },\n  ],\n});\n\nexport const typesStep = (sourceTypes, applicationTypes, disableAppSelection, intl) => ({\n  title: intl.formatMessage({\n    id: 'wizard.chooseAppAndType',\n    defaultMessage: 'Source type and application',\n  }),\n  name: 'types_step',\n  nextStep,\n  fields: [\n    ...redhatTypes({ intl, sourceTypes, applicationTypes, disableAppSelection }),\n    {\n      component: 'description',\n      name: 'fixasyncvalidation',\n      Content: ValidatorReset,\n    },\n  ],\n});\n\nexport const hasSuperKeyType = (sourceType) =>\n  sourceType?.schema.authentication.find(({ is_superkey, type }) => is_superkey || type === 'access_key_secret_key');\n\nexport const cloudTypesStep = (sourceTypes, applicationTypes, intl) => ({\n  title: intl.formatMessage({\n    id: 'wizard.chooseAppAndType',\n    defaultMessage: 'Select source type',\n  }),\n  name: 'types_step',\n  nextStep: ({ values }) => {\n    if (!values.source_type) {\n      return;\n    }\n\n    const sourceType = sourceTypes.find(({ name }) => name === values.source_type);\n\n    return hasSuperKeyType(sourceType) ? 'configuration_step' : 'application_step';\n  },\n  fields: [\n    {\n      component: componentTypes.PLAIN_TEXT,\n      name: 'plain-text',\n      label: intl.formatMessage({\n        id: 'wizard.selectCloudType',\n        defaultMessage: 'Select a cloud provider to connect to your Red Hat account.',\n      }),\n    },\n    {\n      ...sourceTypeSelect({ intl, sourceTypes, applicationTypes }),\n      label: intl.formatMessage({\n        id: 'wizard.selectCloudProvider',\n        defaultMessage: 'Select a cloud provider',\n      }),\n    },\n    {\n      component: 'description',\n      name: 'fixasyncvalidation',\n      Content: ValidatorReset,\n    },\n  ],\n});\n\nexport const NameDescription = () => {\n  const intl = useIntl();\n\n  return (\n    <TextContent key=\"step1\">\n      <Text component={TextVariants.p}>\n        {intl.formatMessage({\n          id: 'wizard.nameDescription',\n          // eslint-disable-next-line max-len\n          defaultMessage:\n            'To import data for an application, you need to connect to a data source. Enter a name, then proceed to select your application and source type.',\n        })}\n      </Text>\n    </TextContent>\n  );\n};\n\nconst nameStep = (intl, selectedType, sourceTypes) => ({\n  title: intl.formatMessage({\n    id: 'wizard.nameSource',\n    defaultMessage: 'Name source',\n  }),\n  name: 'name_step',\n  nextStep: () => {\n    if (selectedType) {\n      if (hasSuperKeyType(sourceTypes.find(({ name }) => name === selectedType))) {\n        return 'configuration_step';\n      }\n\n      return 'application_step';\n    }\n\n    return 'types_step';\n  },\n  fields: [\n    {\n      component: 'description',\n      name: 'description-summary',\n      Content: NameDescription,\n    },\n    {\n      component: componentTypes.TEXT_FIELD,\n      name: 'source.name',\n      type: 'text',\n      label: intl.formatMessage({\n        id: 'wizard.name',\n        defaultMessage: 'Name',\n      }),\n      placeholder: 'Source_1',\n      isRequired: true,\n      validate: [(value) => asyncValidatorDebouncedWrapper(intl)(value, undefined, intl), { type: validatorTypes.REQUIRED }],\n      resolveProps: validated,\n    },\n  ],\n});\n\nexport const SummaryDescription = () => {\n  const intl = useIntl();\n\n  return (\n    <TextContent>\n      <Text component={TextVariants.p}>\n        {intl.formatMessage(\n          {\n            id: 'wizard.summaryDescription',\n            defaultMessage:\n              'Review the information below and click <b>Add</b> to add your source. To edit details in previous steps, click <b>Back</b>.',\n          },\n          {\n            // eslint-disable-next-line react/display-name\n            b: (chunks) => <b key={`b-${chunks.length}-${Math.floor(Math.random() * 1000)}`}>{chunks}</b>,\n          }\n        )}\n      </Text>\n    </TextContent>\n  );\n};\n\nconst summaryStep = (sourceTypes, applicationTypes, intl) => ({\n  fields: [\n    {\n      component: 'description',\n      name: 'description-summary',\n      Content: SummaryDescription,\n    },\n    {\n      name: 'summary',\n      component: 'summary',\n      sourceTypes,\n      applicationTypes,\n    },\n  ],\n  name: 'summary',\n  title: intl.formatMessage({\n    id: 'wizard.reviewDetails',\n    defaultMessage: 'Review details',\n  }),\n});\n\nexport default (sourceTypes, applicationTypes, disableAppSelection, container, intl, selectedType, initialWizardState) => {\n  setFirstValidated(true);\n\n  return {\n    fields: [\n      {\n        component: componentTypes.WIZARD,\n        name: 'wizard',\n        className: 'sources',\n        title: wizardTitle(),\n        inModal: true,\n        description: wizardDescription(),\n        buttonLabels: {\n          submit: intl.formatMessage({\n            id: 'sources.add',\n            defaultMessage: 'Add',\n          }),\n          back: intl.formatMessage({\n            id: 'wizard.back',\n            defaultMessage: 'Back',\n          }),\n          cancel: intl.formatMessage({\n            id: 'wizard.cancel',\n            defaultMessage: 'Cancel',\n          }),\n          next: intl.formatMessage({\n            id: 'wizard.next',\n            defaultMessage: 'Next',\n          }),\n        },\n        container,\n        showTitles: true,\n        initialState: initialWizardState,\n        crossroads: ['application.application_type_id', 'source_type', 'auth_select', 'source.app_creation_workflow'],\n        fields: [\n          nameStep(intl, selectedType, sourceTypes),\n          !selectedType && getActiveVendor() === REDHAT_VENDOR\n            ? typesStep(sourceTypes, applicationTypes, disableAppSelection, intl)\n            : cloudTypesStep(sourceTypes, applicationTypes, intl),\n          configurationStep(intl, sourceTypes),\n          applicationsStep(applicationTypes, intl),\n          applicationStep(applicationTypes, intl),\n          ...schemaBuilder(sourceTypes, applicationTypes),\n          summaryStep(sourceTypes, applicationTypes, intl),\n        ],\n      },\n    ],\n  };\n};\n","import awesomeDebouncePromise from 'awesome-debounce-promise';\n\nconst debouncePromise = (asyncFunction, debounceTime = 250, options = { onlyResolvesLast: false }) =>\n  awesomeDebouncePromise(asyncFunction, debounceTime, options);\n\nexport default debouncePromise;\n"],"sourceRoot":""}