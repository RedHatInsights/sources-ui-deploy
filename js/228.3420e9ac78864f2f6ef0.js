"use strict";(self.webpackChunksources=self.webpackChunksources||[]).push([[228],{27126:(e,t,r)=>{r.d(t,{Z:()=>C});var n=r(92950),a=r.n(n),o=r(43871),i=r(29558),c=r(55140),s=r(58192),u=r(15671),l=r(43144),p=r(97326),d=r(60136),f=r(82963),m=r(61120),g=r(4942),E=r(45697),v=r.n(E),y=r(86706),_=r(60079),h=r(89372);var b=function(e){(0,d.Z)(i,e);var t,r,o=(t=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,m.Z)(t);if(r){var a=(0,m.Z)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,f.Z)(this,e)});function i(){var e;(0,u.Z)(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=o.call.apply(o,[this].concat(r)),(0,g.Z)((0,p.Z)(e),"state",{error:null}),e}return(0,l.Z)(i,[{key:"componentDidCatch",value:function(e){var t=_.Tb(e);this.props.dispatch((0,h.Hz)({title:"".concat(e.toString()," (Sentry ID: ").concat(t,")"),variant:"danger",description:e.stack}))}},{key:"render",value:function(){var e=this.state.error,t=this.props.children;return e?a().createElement(n.Fragment,null,"Error occurred"):a().createElement(n.Fragment,null,t)}}],[{key:"getDerivedStateFromError",value:function(e,t){return{error:e,errorInfo:t}}}]),i}(n.Component);b.propTypes={dispatch:v().func.isRequired,children:v().node};const O=(0,y.$j)()(b);var P=r(93433),S=r(45199),I=function(e){return function(t){return t({type:S.a.SET_WRITE_PERMISSIONS_PENDING}),e("sources",!0).then((function(e){var r=e.reduce((function(e,t){return[].concat((0,P.Z)(e),[null==t?void 0:t.permission])}),[]),n=r.includes("sources:*:*")||r.includes("sources:*:write");t({type:S.a.SET_WRITE_PERMISSIONS_FULFILLED,payload:n})})).catch((function(e){return t({type:S.a.SET_WRITE_PERMISSIONS_REJECTED,payload:{error:{detail:e.detail||e.data,title:"Cannot get user's credentials"}}})}))}},Z=function(e){return function(t){return t({type:S.a.SET_ORG_ADMIN_PENDING}),e().then((function(e){var r=e.identity.user.is_org_admin;t({type:S.a.SET_ORG_ADMIN_FULFILLED,payload:r})})).catch((function(e){return t({type:S.a.SET_ORG_ADMIN_REJECTED,payload:{error:{detail:e.detail||e.data,title:"Cannot get user's credentials"}}})}))}};const D=function(e){var t=e.children,r=(0,y.I0)(),a=(0,c.Z)(),o=a.auth.getUser,i=a.getUserPermissions;return(0,n.useEffect)((function(){Promise.all([r(I(i)),r(Z(o))])}),[]),t};var T=r(15861),N=r(64687),w=r.n(N),M=r(49881),L=r(54876);const R=function(){var e=(0,y.I0)(),t=(0,M.useLocation)().pathname,r=(0,y.v9)((function(e){return e.sources}),y.wU),a=(0,n.useRef)(t),o=(0,c.Z)(),i=o.auth.getToken,s=o.isProd,u=function(){var t=(0,T.Z)(w().mark((function t(){var r,n,a,o;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,L.uY)(),n=r.applications,a=r.types,t.next=3,i();case 3:o=t.sent,n||a?Promise.all([e((0,h.WP)()),e((0,h.qJ)()),e((0,h.Yi)(o,s()))]).then((function(){return e((0,h.il)(L.mB))})):Promise.all([e((0,h.WP)()),e((0,h.qJ)()),e((0,h.il)(L.mB)),e((0,h.Yi)(o,s()))]);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,n.useEffect)((function(){u()}),[]),(0,n.useEffect)((function(){a.current!==t&&((0,L.rh)(r),a.current=t)}),[t]),null};var A=r(7995),j=r(48815);const C=function(){var e,t=(0,c.Z)();return null==t||null===(e=t.updateDocumentTitle)||void 0===e||e.call(t,"Sources"),(0,n.useEffect)((function(){return(0,j.YY)(t.auth.getUser,t.auth.logout),function(){sessionStorage.removeItem(A.t)}}),[]),a().createElement(i.Z,{locale:"en"},a().createElement(a().Fragment,null,a().createElement(o.ZP,null),a().createElement(O,null,a().createElement(D,null,a().createElement("section",{className:"pf-u-p-0"},a().createElement(R,null),a().createElement(s.ZP,null))))))}},58192:(e,t,r)=>{r.d(t,{ZP:()=>A,yS:()=>M,_j:()=>w});var n=r(92950),a=r.n(n),o=r(49881),i=r(98583),c=r(45697),s=r.n(c),u=r(60566),l=r(86706),p=r(86896),d=r(89372),f=r(58185),m=r(16946),g=r(91011);const E=function(){var e=(0,p.Z)(),t=(0,f.E)(),r=(0,l.v9)((function(e){return e.user.isOrgAdmin})),o=(0,l.I0)();return(0,n.useEffect)((function(){if(!1===t){var n=e.formatMessage({id:"sources.insufficietnPerms",defaultMessage:"Insufficient permissions"}),a=(0,m.$)(e,r);o((0,d.Hz)({title:n,variant:"danger",description:a}))}}),[t]),!1===t?a().createElement(g.Z,{to:w.sources.path}):null};var v=r(60409);const y=function(){var e=(0,p.Z)(),t=(0,u.L)(),r=(0,l.I0)();return(0,n.useEffect)((function(){t.paused_at&&r((0,d.Hz)({title:e.formatMessage({id:"sources.sourcePausedRedirect",defaultMessage:"Source is paused"}),variant:"danger",description:e.formatMessage({id:"sources.sourcePausedRedirectDescription",defaultMessage:"You cannot perform this action on a paused source."})}))}),[t.paused_at]),t.paused_at?a().createElement(g.Z,{to:M(w.sourcesDetail.path,t.id)}):null};var _=function(e){var t=e.route,r=e.children;return t.redirectNoId&&(0,u.L)()||!t.redirectNoId?a().createElement(a().Fragment,null,t.noPaused&&a().createElement(y,null),t.writeAccess&&a().createElement(E,null),r):a().createElement(v.Z,null)};_.propTypes={route:s().shape({path:s().string.isRequired,redirectNoId:s().bool,writeAccess:s().bool,noPaused:s().bool}).isRequired,children:s().node.isRequired};var h=function(e){var t=e.route,r=e.children,i=(0,o.useOutletContext)();return a().createElement(_,{route:t},(0,n.cloneElement)(r,i))};h.propTypes={route:s().shape({path:s().string.isRequired,redirectNoId:s().bool,writeAccess:s().bool,noPaused:s().bool}).isRequired,componentProps:s().any,children:s().node.isRequired};const b=h;var O=(0,n.lazy)((function(){return Promise.all([r.e(691),r.e(822),r.e(684),r.e(593)]).then(r.bind(r,75490))})),P=(0,n.lazy)((function(){return Promise.all([r.e(691),r.e(697),r.e(135),r.e(822),r.e(486),r.e(954),r.e(818)]).then(r.bind(r,22616))})),S=(0,n.lazy)((function(){return Promise.all([r.e(691),r.e(697),r.e(135),r.e(822),r.e(486),r.e(954),r.e(728),r.e(932),r.e(791)]).then(r.bind(r,58012))})),I=(0,n.lazy)((function(){return r.e(128).then(r.bind(r,55997))})),Z=(0,n.lazy)((function(){return Promise.all([r.e(691),r.e(697),r.e(135),r.e(822),r.e(486),r.e(954),r.e(932),r.e(994)]).then(r.bind(r,13508))})),D=(0,n.lazy)((function(){return r.e(902).then(r.bind(r,76902))})),T=(0,n.lazy)((function(){return Promise.all([r.e(691),r.e(697),r.e(135),r.e(822),r.e(486),r.e(954),r.e(728),r.e(713)]).then(r.bind(r,72498))})),N=(0,n.lazy)((function(){return Promise.all([r.e(691),r.e(697),r.e(135),r.e(822),r.e(486),r.e(954),r.e(282)]).then(r.bind(r,524))})),w={sources:{path:"/"},sourcesNew:{path:"new",writeAccess:!0},sourcesRemove:{path:"remove/:id",redirectNoId:!0,writeAccess:!0},sourcesDetail:{path:"detail/:id",redirectNoId:!0},sourcesDetailRename:{path:"detail/:id/rename",redirectNoId:!0,writeAccess:!0,noPaused:!0},sourcesDetailRemove:{path:"detail/:id/remove",redirectNoId:!0,writeAccess:!0},sourcesDetailAddApp:{path:"detail/:id/add_app/:app_type_id",redirectNoId:!0,writeAccess:!0,noPaused:!0},sourcesDetailRemoveApp:{path:"detail/:id/remove_app/:app_id",redirectNoId:!0,writeAccess:!0,noPaused:!0},sourcesDetailEditCredentials:{path:"detail/:id/edit_credentials",redirectNoId:!0,writeAccess:!0}},M=function(e,t){return e.replace(":id",t)},L=[{route:{path:"/"},element:O,childRoutes:[{route:w.sourcesRemove,element:I,elementProps:{backPath:w.sources.path}},{route:w.sourcesNew,element:S}]},{route:w.sourcesDetail,element:P,childRoutes:[{route:w.sourcesDetail,path:"remove",element:I},{route:w.sourcesDetailAddApp,path:"add_app/:app_type_id",element:Z},{route:w.sourcesDetailRemoveApp,path:"remove_app/:app_id",element:D},{route:w.sourcesDetail,path:"rename",element:T},{route:w.sourcesDetail,path:"edit_credentials",element:N}]}],R=function e(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(t){var r=t.route,n=t.path,i=t.element,c=t.childRoutes,s=t.elementProps;return a().createElement(o.Route,{key:n||r.path,path:n||r.path,element:a().createElement(b,{route:r},a().createElement(i,s))},e(c))}))};const A=function(){var e=(0,n.useMemo)((function(){return R(L)}),[L]);return a().createElement(n.Suspense,{fallback:a().createElement(i.zx,null)},a().createElement(o.Routes,null,e))}},48815:(e,t,r)=>{r.d(t,{be:()=>v,Cu:()=>D,rL:()=>T,M5:()=>b,ye:()=>M,uc:()=>Z,oI:()=>w,TA:()=>O,i$:()=>h,Rj:()=>_,YY:()=>y,sd:()=>N});var n=r(29439),a=r(78542),o=r.n(a),i=r(4942),c=r(15861),s=r(64687),u=r.n(s),l=r(80729);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var d=r(84866),f=r(4833),m=r(34155),g="".concat(m.env.BASE_PATH||"/api","/sources/v3.1"),E="".concat(m.env.BASE_PATH||"/api","/cost-management/v1"),v=o().create();v.interceptors.response.use((function(e){return e.data?e.data:e})),v.interceptors.response.use(null,(function(e){throw e.response&&e.response.status>=500&&e.response.status<600&&(0,l.e)((function(t){t.setTag("request_id",e.response.req_id)})),e})),v.interceptors.response.use(null,(function(e){if(!o().isCancel(e))try{var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);if(t.response&&t.response.data)throw t.response.data;throw e}catch(e){var r=(0,l.Tb)(e);throw e.sentryId=r,e}})),v.interceptors.response.use((function(e){return e.errors&&e.errors.length>0?Promise.reject({detail:e.errors[0].message}):e})),v.interceptors.response.use(null,(function(e){if(e.errors&&403===e.errors[0].status)return Promise.reject({detail:e.errors[0].detail,title:"Forbidden access"});throw e}));var y=function(e,t){v.interceptors.request.use(function(e){return function(){var t=(0,c.Z)(u().mark((function t(r){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:return t.abrupt("return",r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)),v.interceptors.response.use(null,function(e){return function(t){if(t.response&&401===t.response.status)return e(),!1;throw t}}(t))},_=function(){return{checkAvailabilitySource:function(e){return v.post("".concat(g,"/sources/").concat(e,"/check_availability"))},updateSource:function(e,t){return v.patch("".concat(g,"/sources/").concat(e),t)},updateEndpoint:function(e,t){return v.patch("".concat(g,"/endpoints/").concat(e),t)},createEndpoint:function(e){return v.post("".concat(g,"/endpoints"),e)},updateAuthentication:function(e,t){return v.patch("".concat(g,"/authentications/").concat(e),t)},createAuthentication:function(e){return v.post("".concat(g,"/authentications"),e)},showSource:function(e){return v.get("".concat(g,"/sources/").concat(e))},listSourceEndpoints:function(e){return v.get("".concat(g,"/sources/").concat(e,"/endpoints"))},listSourceApplications:function(e){return v.get("".concat(g,"/sources/").concat(e,"/applications"))},listEndpointAuthentications:function(e){return v.get("".concat(g,"/endpoints/").concat(e,"/authentications"))},deleteSource:function(e){return v.delete("".concat(g,"/sources/").concat(e))},createApplication:function(e){return v.post("".concat(g,"/applications"),e)},postGraphQL:function(e){return v.post("".concat(g,"/graphql"),e)},listSourceTypes:function(){return v.get("".concat(g,"/source_types"))},doLoadAppTypes:function(){return v.get("".concat(g,"/application_types"))},deleteApplication:function(e){return v.delete("".concat(g,"/applications/").concat(e))},createAuthApp:function(e){return v.post("".concat(g,"/application_authentications"),e)},deleteAuthentication:function(e){return v.delete("".concat(g,"/authentications/").concat(e))},showAuthentication:function(e){return v.get("".concat(g,"/authentications/").concat(e))},updateApplication:function(e,t){return v.patch("".concat(g,"/applications/").concat(e),t)},showApplication:function(e){return v.get("".concat(g,"/applications/").concat(e))},listSourceAuthentications:function(e){return v.get("".concat(g,"/sources/").concat(e,"/authentications"))},createSource:function(e){return v.post("".concat(g,"/sources"),e)},getEndpoint:function(e){return v.get("".concat(g,"/endpoints/").concat(e))},getGoogleAccount:function(){return v.get("".concat(g,"/app_meta_data?filter[name]=gcp_service_account"))},bulkCreate:function(e){return v.post("".concat(g,"/bulk_create"),e)},pauseApplication:function(e){return v.post("".concat(g,"/applications/").concat(e,"/pause"))},unpauseApplication:function(e){return v.post("".concat(g,"/applications/").concat(e,"/unpause"))},pauseSource:function(e){return v.post("".concat(g,"/sources/").concat(e,"/pause"))},unpauseSource:function(e){return v.post("".concat(g,"/sources/").concat(e,"/unpause"))},getLighthouseLink:function(){return v.get("".concat(g,"/app_meta_data?filter[name]=azure_lighthouse_template"))},getProvAppType:function(){return v.get("".concat(g,"/application_types?filter[name]=/insights/platform/provisioning"))},getProvMetadata:function(e){return v.get("".concat(g,"/app_meta_data?filter[name]=aws_wizard_account_number&application_type_id=").concat(e))},getProvisioningServiceAccount:function(e){return v.get("".concat(g,"/app_meta_data?filter[name]=gcp_service_account&application_type_id=").concat(e))}}},h=function(){return{listAwsRegions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return v.get("".concat(E,"/sources/aws-s3-regions/?limit=").concat(e,"&offset=").concat(t))}}},b=function(){return _().doLoadAppTypes()},O=function(e){return _().deleteSource(e).catch((function(e){throw{error:{detail:e.errors[0].detail}}}))},P=function(e,t){return"limit:".concat(e,", offset:").concat((t-1)*e)},S=function(e,t){return e?"source_type_id"===e?'sort_by: { name: "source_type.product_name", direction: '.concat(t," }"):"applications"===e?'sort_by: { name: "applications", direction: '.concat(t," }"):'sort_by: { name: "'.concat(e,'", direction: ').concat(t," }"):""},I="\n    id,\n    created_at,\n    source_type_id,\n    name,\n    imported,\n    availability_status,\n    source_ref,\n    last_checked_at,\n    updated_at,\n    last_available_at,\n    app_creation_workflow,\n    paused_at,\n    authentications { authtype, username, availability_status_error, availability_status }\n    applications { application_type_id, id, availability_status_error, availability_status, paused_at, authentications { id, resource_type } },\n    endpoints { id, scheme, host, port, path, receptor_node, role, certificate_authority, verify_ssl, availability_status_error, availability_status, authentications { authtype, availability_status, availability_status_error } }\n",Z=function(e){var t=e.pageSize,r=e.pageNumber,n=e.sortBy,a=e.sortDirection,o=function(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,o=[];n.name&&o.push('{ name: "name", operation: "contains_i", value: "'.concat(n.name,'" }')),(null===(e=n.source_type_id)||void 0===e?void 0:e.length)>0&&o.push('{ name: "source_type_id", operation: "eq", value: ['.concat(n.source_type_id.map((function(e){return'"'.concat(e,'"')})).join(", "),"] }")),(null===(t=n.applications)||void 0===t?void 0:t.length)>0&&o.push('{ name: "applications.application_type_id", operation: "eq", value: ['.concat(n.applications.map((function(e){return'"'.concat(e,'"')})).join(", "),"] }")),a===d.JL&&o.push('{ name: "source_type.category", operation: "eq", value: "Cloud" }'),a===d.B0&&o.push('{ name: "source_type.category", operation: "eq", value: "Red Hat" }');var i=null===(r=n.availability_status)||void 0===r?void 0:r[0];return i&&(i===f.Rl?o.push('{ name: "availability_status", operation: "eq", value: "'.concat(f.Rl,'" }')):i===f.nZ&&o.push('{ name: "availability_status", operation: "eq", value: ["'.concat(f.L,'", "').concat(f.nZ,'"] }'))),o.length>0?"filter: [ ".concat(o.join(", ")," ]"):""}(e.filterValue,e.activeCategory),i=[P(t,r),S(n,a),o].join(",");return _().postGraphQL({query:"{ sources(".concat(i,")\n      { ").concat(I," },\n     meta{count}\n    }")}).then((function(e){return e.data}))},D=function(e){return _().createApplication(e)},T=function(e,t){return _().deleteApplication(e).catch((function(e){var r=(0,n.Z)(e.errors,1)[0].detail;throw{error:{title:t,detail:r}}}))},N=function(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,o=[];n.name&&o.push("filter[name][contains_i]=".concat(n.name)),(null===(e=n.source_type_id)||void 0===e?void 0:e.length)>0&&n.source_type_id.map((function(e){return o.push("filter[source_type_id][]=".concat(e))})),(null===(t=n.applications)||void 0===t?void 0:t.length)>0&&n.applications.map((function(e){return o.push("filter[applications][application_type_id][eq][]=".concat(e))})),a===d.JL&&o.push("filter[source_type][category]=Cloud"),a===d.B0&&o.push("filter[source_type][category]=Red Hat");var i=null===(r=n.availability_status)||void 0===r?void 0:r[0];return i&&(i===f.Rl?o.push("filter[availability_status]=".concat(f.Rl)):i===f.nZ&&(o.push("filter[availability_status][]=".concat(f.L)),o.push("filter[availability_status][]=".concat(f.nZ)))),o.length>0?o.join("&"):""},w=function(e){return _().postGraphQL({query:'{ sources(filter: { name: "id", operation: "eq", value: "'.concat(e,'" })\n            { ').concat(I," }\n        }")}).then((function(e){return e.data}))},M=function(e){return _().postGraphQL({query:'{ sources(filter: { name: "id", operation: "eq", value: "'.concat(e,'" })\n          { applications {\n              application_type_id,\n              id,\n              availability_status_error,\n              availability_status,\n              paused_at,\n              extra,\n              authentications {\n                  id\n              }\n          } }\n      }')}).then((function(e){return e.data}))}},96845:(e,t,r)=>{r.d(t,{S:()=>i,Z:()=>c});var n=r(48815),a=r(27361),o=r.n(a),i=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return e||(t="Undefined error"),t||"string"!=typeof e||(t=e),t||(t=o()(e,"errors[0].detail",JSON.stringify(e,null,2))),r?(0,n.Rj)().deleteSource(r).then((function(){return t})).catch((function(e){var r=o()(e,"errors[0].detail",JSON.stringify(e,null,2));return"".concat(t,". The source was not removed, try remove it later: ").concat(r)})):t};const c=i},28347:(e,t,r)=>{r.d(t,{Z:()=>p});var n=r(87462),a=r(92950),o=r.n(a),i=r(49881),c=r(16959),s=r(45697),u=r.n(s),l=o().forwardRef((function(e,t){return o().createElement(i.Link,(0,n.Z)({},e,{ref:t,to:(0,c.n)(e.to,c.d)}))}));l.displayName="AppLink",l.propTypes={to:u().oneOfType([u().string,u().object])};const p=l},91011:(e,t,r)=>{r.d(t,{Z:()=>p});var n=r(87462),a=r(92950),o=r.n(a),i=r(49881),c=r(16959),s=r(45697),u=r.n(s),l=function(e){return o().createElement(i.Navigate,(0,n.Z)({},e,{to:(0,c.n)(e.to,c.d)}))};l.displayName="AppNavigate",l.propTypes={to:u().oneOfType([u().string,u().object])};const p=l},7995:(e,t,r)=>{r.d(t,{Z:()=>g,t:()=>f});var n=r(29439),a=r(92950),o=r.n(a),i=r(86896),c=r(6848),s=r(11306),u=r(63686),l=r(64408),p=r(4585),d=r(55140),f="ins-c-sources__cloud_cards_expanded",m=function(){var e=(0,a.useState)((function(){var e=sessionStorage.getItem(f);return!e||"true"===e})),t=(0,n.Z)(e,2),r=t[0],m=t[1],g=(0,i.Z)(),E=(0,d.Z)().isBeta;(0,a.useEffect)((function(){sessionStorage.setItem(f,r)}),[r]);var v=E()?"preview/":"",y="/".concat(v,"settings/connector"),_="/".concat(v,"insights/subscriptions/rhel");return o().createElement(c.Card,{isExpanded:r,className:"pf-u-mb-lg pf-u-mt-md pf-u-mt-0-on-md src-c-card-info"},o().createElement(c.CardHeader,{onExpand:function(){return m(!r)}},o().createElement(c.CardTitle,null,g.formatMessage({id:"cloud.nowWhat",defaultMessage:"I connected to cloud. Now what?"}))),o().createElement(c.CardExpandableContent,null,o().createElement(c.CardBody,null,o().createElement(c.TextContent,null,o().createElement(c.Grid,{hasGutter:!0},o().createElement(c.GridItem,{md:4},o().createElement(c.Stack,null,o().createElement(c.StackItem,{className:"pf-u-mb-sm"},o().createElement(c.Text,{className:"src-c-card-info__header"},o().createElement(u.ZP,{className:"pf-u-mr-sm",color:"#0066cc","aria-label":"Builder image icon"}),g.formatMessage({id:"cloud.goldImages",defaultMessage:"Use gold images"}))),o().createElement(c.StackItem,{isFilled:!0},o().createElement(c.Text,{className:"text pf-u-mb-sm"},g.formatMessage({id:"cloud.goldImages.description",defaultMessage:"Connecting to Amazon Web Services or Microsoft Azure unlocks automatic access to Red Hat gold images. View gold images in your provider console."})),o().createElement(c.Text,{className:"text",component:"a",href:"https://access.redhat.com/documentation/en-us/red_hat_subscription_management/2023/html/red_hat_cloud_access_reference_guide/understanding-gold-images_cloud-access#using-gold-images-on-aws_cloud-access",target:"_blank",rel:"noopener noreferrer"},g.formatMessage({id:"cloud.goldImages.awsLink",defaultMessage:"Use Red Hat gold images on AWS"})),o().createElement("br",null),o().createElement(c.Text,{className:"text",component:"a",href:"https://access.redhat.com/documentation/en-us/red_hat_subscription_management/2023/html/red_hat_cloud_access_reference_guide/understanding-gold-images_cloud-access#using-gold-images-on-azure_cloud-access",target:"_blank",rel:"noopener noreferrer"},g.formatMessage({id:"cloud.goldImages.azureLink",defaultMessage:"Use Red Hat gold images on Microsoft Azure"}))),o().createElement(c.StackItem,{className:"pf-u-mt-lg"},o().createElement(c.Text,{className:"text",component:"a",href:"https://access.redhat.com/documentation/en-us/red_hat_subscription_management/2023/html/red_hat_cloud_access_reference_guide/understanding-gold-images_cloud-access",target:"_blank",rel:"noopener noreferrer"},g.formatMessage({id:"cloud.goldImages.moreLink",defaultMessage:"Learn more about Red Hat gold images"}),o().createElement(s.ZP,{className:"pf-u-ml-sm"}))))),o().createElement(c.GridItem,{md:4},o().createElement(c.Stack,null,o().createElement(c.StackItem,{className:"pf-u-mb-sm"},o().createElement(c.Text,{className:"src-c-card-info__header"},o().createElement(l.ZP,{className:"pf-u-mr-sm",color:"#0066cc","aria-label":"Trend up icon"}),g.formatMessage({id:"cloud.insights",defaultMessage:"Explore Red Hat Insights"}))),o().createElement(c.StackItem,{isFilled:!0},o().createElement(c.Text,{className:"text pf-u-mb-sm"},g.formatMessage({id:"cloud.insights.description",defaultMessage:"Use RHEL instances in the cloud and gain other value-add services, such as predictive analytics."})),o().createElement(c.Text,{className:"text",component:"a",href:"https://www.redhat.com/en/technologies/management/insights",target:"_blank",rel:"noopener noreferrer"},g.formatMessage({id:"cloud.insights.insightsLinkt",defaultMessage:"Learn more about Red Hat Insights"}))),o().createElement(c.StackItem,{className:"pf-u-mt-lg"},o().createElement(c.Text,{className:"text",component:"a",href:y,target:"_blank",rel:"noopener noreferrer"},g.formatMessage({id:"cloud.insights.moreLink",defaultMessage:"Enable additional Insights services"}),o().createElement(s.ZP,{className:"pf-u-ml-sm"}))))),o().createElement(c.GridItem,{md:4},o().createElement(c.Stack,null,o().createElement(c.StackItem,{className:"pf-u-mb-sm"},o().createElement(c.Text,{className:"src-c-card-info__header"},o().createElement(p.ZP,{className:"pf-u-mr-sm",color:"#0066cc","aria-label":"List icon"}),g.formatMessage({id:"cloud.subwatch",defaultMessage:"Track usage with Subscriptions"}))),o().createElement(c.StackItem,{isFilled:!0},o().createElement(c.Text,{className:"text pf-u-mb-sm"},g.formatMessage({id:"cloud.subwatch.description",defaultMessage:"Use the Subscriptions service to monitor account-level summaries of your Red Hat subscription profile."})),o().createElement(c.Text,{className:"text",component:"a",href:"https://access.redhat.com/products/subscription-central",target:"_blank",rel:"noopener noreferrer"},g.formatMessage({id:"cloud.subwatch.learnMore",defaultMessage:"Learn more about Subscriptions"}))),o().createElement(c.StackItem,{className:"pf-u-mt-lg"},o().createElement(c.Text,{className:"text",component:"a",href:_,target:"_blank",rel:"noopener noreferrer"},g.formatMessage({id:"cloud.subwatch.goTo",defaultMessage:"Go to Subscriptions"}),o().createElement(s.ZP,{className:"pf-u-ml-sm"}))))))))))};const g=o().memo(m)},60409:(e,t,r)=>{r.d(t,{Z:()=>g});var n=r(29439),a=r(92950),o=r.n(a),i=r(86706),c=r(49881),s=r(86896),u=r(89372),l=r(48815),p=r(59824),d=r(58192),f=r(60566),m=r(91011);const g=function(){var e=(0,c.useParams)().id,t=(0,s.Z)(),r=(0,f.L)(),g=(0,p.W)(),E=(0,i.v9)((function(e){return e.sources}),i.wU),v=E.appTypesLoaded,y=E.sourceTypesLoaded,_=(0,i.I0)(),h=(0,a.useState)(!1),b=(0,n.Z)(h,2),O=b[0],P=b[1];return(0,a.useEffect)((function(){g&&v&&y&&(0,l.oI)(e).then((function(e){var t=(0,n.Z)(e.sources,1)[0];return _((0,u._B)(t)),t})).then((function(r){r||_((0,u.Hz)({title:t.formatMessage({id:"sources.sourceNotFoundTitle",defaultMessage:"Requested source was not found"}),variant:"danger",description:t.formatMessage({id:"sources.sourceNotFoundTitleDescription",defaultMessage:"Source with { id } was not found. Try it again later."},{id:e})})),P(!0)}))}),[g,v,y]),O&&!r?o().createElement(m.Z,{to:d._j.sources.path}):null}},98583:(e,t,r)=>{r.d(t,{X6:()=>S,Xf:()=>h,aN:()=>y,mI:()=>b,sk:()=>O,zx:()=>_});var n=r(87462),a=r(45987),o=r(92950),i=r.n(o),c=r(45697),s=r.n(c),u=r(4259),l=r(89376),p=r(39173),d=r(44873),f=r(6848),m=r(30567),g=r(86896),E=["isDeleting"],v=["row"],y=function(e){var t=e.width,r=void 0===t?"100%":t,n=e.height,a=void 0===n?"100%":n,o=e.className,c=void 0===o?"":o;return i().createElement("span",{className:"src-c-loader ".concat(c),style:{width:r,height:a},role:"progressbar"})};y.propTypes={className:s().string,width:s().oneOfType([s().string,s().number]),height:s().oneOfType([s().string,s().number])};var _=function(){var e=(0,g.Z)();return i().createElement(i().Fragment,null,i().createElement(l.Z,null,i().createElement(p.Z,{title:e.formatMessage({id:"sources.sources",defaultMessage:"Sources"})})),i().createElement(d.Z,{type:"content"},i().createElement("div",{className:"src-c-fake_content pf-u-p-lg"},i().createElement(y,null))))},h=function(){return i().createElement(y,{className:"top-pagination",height:30,width:200})},b=function(){return i().createElement(f.Bullseye,{className:"src-c-bullseye__placeholder-loader","data-testid":"placeholder-table"},i().createElement(f.Spinner,{size:"xl"}))},O=function(e){var t=e.row,r=t.isDeleting,o=(0,a.Z)(t,E),c=(0,a.Z)(e,v);return r?i().createElement("tr",null,i().createElement("td",{colSpan:m.W,className:"pf-u-p-md","data-testid":"removing-row"},i().createElement(y,{height:100}))):i().createElement(u.RowWrapper,(0,n.Z)({},c,{row:o,className:"src-c-row-vertical-centered","data-testid":"row"}))};O.propTypes={row:s().object.isRequired};var P=function(e){return i().createElement(f.Card,{className:"pf-u-m-md"},i().createElement(f.CardBody,null,i().createElement(y,e)))},S=function(){return i().createElement("div",{className:"src-c-detail-page"},i().createElement(l.Z,null,i().createElement(y,{height:96})),i().createElement(f.Grid,null,i().createElement(f.GridItem,{md:"6"},i().createElement(P,{height:218})),i().createElement(f.GridItem,{md:"6"},i().createElement(P,{height:218})),i().createElement(f.GridItem,{md:"12"},i().createElement(P,{height:324}))))}},94688:(e,t,r)=>{r.d(t,{M:()=>n,b:()=>a});var n="manual_configuration",a="account_authorization"},58185:(e,t,r)=>{r.d(t,{E:()=>a});var n=r(86706),a=function(){var e=(0,n.v9)((function(e){var t=e.user;return null==t?void 0:t.writePermissions}));if("boolean"==typeof e)return!!e}},59824:(e,t,r)=>{r.d(t,{W:()=>a});var n=r(86706),a=function(){return(0,n.v9)((function(e){return e.sources.loaded}))<=0}},60566:(e,t,r)=>{r.d(t,{L:()=>o});var n=r(86706),a=r(49881),o=function(){var e=(0,a.useParams)().id;return(0,n.v9)((function(t){return t.sources.entities.find((function(t){return t.id===e}))}))}},13458:(e,t,r)=>{r.d(t,{$g:()=>m,BW:()=>p,Gs:()=>f,Q9:()=>l,aE:()=>d,aI:()=>i,d5:()=>g,dD:()=>s,ei:()=>c,lN:()=>u});var n=r(4942);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var i=["LOAD_ENTITIES","CREATE_SOURCE","REMOVE_SOURCE","LOAD_HCS_ENROLLMENT","LOAD_SOURCE_TYPES","LOAD_APP_TYPES","REMOVE_APPLICATION","RENAME_SOURCE"].reduce((function(e,t){var r;return o(o({},e),{},(r={},(0,n.Z)(r,t,t),(0,n.Z)(r,"".concat(t,"_PENDING"),"".concat(t,"_PENDING")),(0,n.Z)(r,"".concat(t,"_FULFILLED"),"".concat(t,"_FULFILLED")),(0,n.Z)(r,"".concat(t,"_REJECTED"),"".concat(t,"_REJECTED")),r))}),{}),c="SORT_ENTITIES",s="PAGE_AND_SIZE",u="FILTER_SOURCES",l="ADD_APP_TO_SOURCE",p="SET_COUNT",d="ADD_HIDDEN_SOURCE",f="CLEAR_FILTERS",m="SET_CATEGORY",g="STATUS_CHECK_PENDING"},89372:(e,t,r)=>{r.d(t,{_B:()=>M,Hz:()=>D,K5:()=>R,OU:()=>Z,qJ:()=>P,il:()=>h,Yi:()=>O,WP:()=>b,zm:()=>I,xz:()=>C,Yn:()=>w,Gd:()=>N,wZ:()=>T,d4:()=>A,AX:()=>k,Qr:()=>j,mE:()=>L,Bb:()=>S});var n=r(4942),a=r(92950),o=r.n(a),i=r(17546),c=r(27957),s=r(83215),u=r(13458),l=r(48815),p=r(36488),d=r(96845),f=r(84569),m=r(15861),g=r(64687),E=r.n(g),v=function(){var e=(0,m.Z)(E().mark((function e(t,r){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://billing.".concat(r?"":"stage.","api.redhat.com/v1/authorization/hcsEnrollment"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return 200!==e.status?{hcsDeal:!1}:e.json()})).catch((function(e){return console.error(e),console.log("Failed to check HCS enrollment"),{hcsDeal:!1}})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(e){return function(t,r){t({type:u.aI.LOAD_ENTITIES_PENDING,options:"function"==typeof e?e(r):e});var n=r().sources,a=n.pageSize,o=n.pageNumber,i=n.sortBy,c=n.sortDirection,s=n.filterValue,p=n.activeCategory;return(0,l.uc)({pageSize:a,pageNumber:o,sortBy:i,sortDirection:c,filterValue:s,activeCategory:p}).then((function(e){var r=e.sources,n=e.meta;return t({type:u.aI.LOAD_ENTITIES_FULFILLED,payload:{sources:r,meta:n}})})).catch((function(e){return t({type:u.aI.LOAD_ENTITIES_REJECTED,meta:{noError:!0},payload:{error:{detail:e.detail||e.data,title:e.title||"Fetching data failed, try refresh page"}}})}))}},b=function(){return function(e){return e({type:u.aI.LOAD_SOURCE_TYPES_PENDING}),(0,l.Rj)().listSourceTypes().then((function(e){return e.data})).then((function(t){return e({type:u.aI.LOAD_SOURCE_TYPES_FULFILLED,payload:t})})).catch((function(t){return e({type:u.aI.LOAD_SOURCE_TYPES_REJECTED,payload:{error:t},meta:{noError:!0}})}))}},O=function(e,t){return function(r){return r({type:u.aI.LOAD_HCS_ENROLLMENT_PENDING}),v(e,t).then((function(e){var t=e.hcsDeal;return r({type:u.aI.LOAD_HCS_ENROLLMENT_FULFILLED,payload:t})})).catch((function(e){return r({type:u.aI.LOAD_HCS_ENROLLMENT_REJECTED,payload:{error:e},meta:{noError:!0}})}))}},P=function(){return function(e){return e({type:u.aI.LOAD_APP_TYPES_PENDING}),(0,l.M5)().then((function(t){return e({type:u.aI.LOAD_APP_TYPES_FULFILLED,payload:t.data})})).catch((function(t){return e({type:u.aI.LOAD_APP_TYPES_REJECTED,payload:{error:t},meta:{noError:!0}})}))}},S=function(e,t){return function(r){return r({type:u.ei,payload:{column:e,direction:t}}),r(h())}},I=function(e,t){return function(r){return r({type:u.dD,payload:{page:e,size:t}}),r(h({paginationClicked:!0}))}},Z=function(e){return function(t){return t({type:u.lN,payload:{value:e}}),t(h())}},D=function(e){return function(t){return t({type:s.Dv,payload:_({dismissable:!0},e)})}},T=function(e,t){return function(r){return r({type:u.aI.REMOVE_SOURCE_PENDING,meta:{sourceId:e}}),(0,l.TA)(e).then((function(){return r(h({loaded:0}))})).then((function(){r({type:u.aI.REMOVE_SOURCE_FULFILLED,meta:{sourceId:e}}),r(D({title:t,variant:"success"}))})).catch((function(){return r({type:u.aI.REMOVE_SOURCE_REJECTED,meta:{sourceId:e}})}))}},N=function(e){return{type:s.Kf,payload:e}},w=function(e,t,r,n){return{type:u.aI.REMOVE_APPLICATION,payload:function(){return(0,l.rL)(e,n)},meta:{appId:e,sourceId:t,notifications:{fulfilled:{variant:"success",title:r,dismissable:!0}}}}},M=function(e){return{type:u.aE,payload:{source:e}}},L=function(e){return{type:u.d5,payload:{sourceId:e}}},R=function(){return function(e){return e({type:u.Gs}),e(h())}},A=function(e,t,r){return function(n,a){var o,i=null===(o=a().sources.entities.find((function(t){return t.id===e})))||void 0===o?void 0:o.name;return n({type:u.aI.RENAME_SOURCE_PENDING,payload:{id:e,name:t}}),(0,l.Rj)().updateSource(e,{name:t}).catch((function(t){var a,o;return n({type:u.aI.RENAME_SOURCE_REJECTED,payload:{error:{detail:(null===(a=t.errors)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.detail)||t,title:r},id:e,name:i}})}))}},j=function(e){return function(t){return t({type:u.$g,payload:{category:e}}),t(h())}},C=function(e,t,r){return function(n){return(0,l.Rj)().pauseSource(e).then((function(){n(D({title:r.formatMessage({id:"source.paused.alert.title",defaultMessage:"Source paused"}),description:r.formatMessage({id:"source.paused.alert.description",defaultMessage:"Source <b>{ sourceName }</b> is now paused. Data collection for all connected applications will be disabled until the source is resumed."},{sourceName:t,b:p.S}),variant:"default",customIcon:o().createElement(i.ZP,null)})),n(h({loaded:0}))})).catch((function(e){n(D({title:r.formatMessage({id:"source.paused.alert.error",defaultMessage:"Source pause failed"}),description:(0,f.Z)(r,(0,d.Z)(e)),variant:"danger"}))}))}},k=function(e,t,r){return function(n){return(0,l.Rj)().unpauseSource(e).then((function(){n(D({title:r.formatMessage({id:"source.resumed.alert.title",defaultMessage:"Source resumed"}),description:r.formatMessage({id:"source.resumed.alert.description",defaultMessage:"Source <b>{ sourceName }</b> will recontinue data collection for connected applications."},{sourceName:t,b:p.S}),variant:"default",customIcon:o().createElement(c.ZP,null)})),n(h({loaded:0}))})).catch((function(e){n(D({title:r.formatMessage({id:"source.resume.alert.error",defaultMessage:"Source resume failed"}),description:(0,f.Z)(r,(0,d.Z)(e)),variant:"danger"}))}))}}},45199:(e,t,r)=>{r.d(t,{a:()=>i});var n=r(4942);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var i=["SET_WRITE_PERMISSIONS","SET_ORG_ADMIN"].reduce((function(e,t){var r;return o(o({},e),{},(r={},(0,n.Z)(r,t,t),(0,n.Z)(r,"".concat(t,"_PENDING"),"".concat(t,"_PENDING")),(0,n.Z)(r,"".concat(t,"_FULFILLED"),"".concat(t,"_FULFILLED")),(0,n.Z)(r,"".concat(t,"_REJECTED"),"".concat(t,"_REJECTED")),r))}),{})},84866:(e,t,r)=>{r.d(t,{B0:()=>i,IV:()=>d,JL:()=>c,M$:()=>s,N9:()=>o,OH:()=>a,Qr:()=>u,T2:()=>g,X0:()=>f,_m:()=>p,fn:()=>l,mr:()=>n,sC:()=>m});var n="hcs",a="satellite",o="ansible-tower",i="Red Hat",c="Cloud",s="/insights/platform/topological-inventory",u="/insights/platform/cost-management",l="/insights/platform/cloud-meter",p="/insights/platform/provisioning",d="/insights/platform/catalog",f="Hybrid Committed Spend",m="2",g=function(e){var t,r;return[null===(t=e.find((function(e){return e.name===l})))||void 0===t?void 0:t.id,null===(r=e.find((function(e){return e.name===u})))||void 0===r?void 0:r.id]}},16946:(e,t,r)=>{r.d(t,{$:()=>n,Z:()=>a});var n=function(e,t){return t?e.formatMessage({id:"sources.notAdminButton",defaultMessage:"To perform this action, you must add Sources Administrator permissions to your user."}):e.formatMessage({id:"sources.notWritePermissionButton",defaultMessage:"To perform this action, your Organization Administrator must grant you Sources Administrator permissions."})};const a=function(e,t){return{tooltip:n(e,t),isDisabled:!0,className:"src-m-dropdown-item-disabled"}}},36488:(e,t,r)=>{r.d(t,{S:()=>i});var n=r(92950),a=r.n(n),o=0,i=function(e){return a().createElement("b",{key:"b-".concat(e.length,"-").concat(o++,"}")},e)}},17711:(e,t,r)=>{r.d(t,{X5:()=>M});var n,a=r(93433),o=r(4942),i=r(9036),c=r(84885),s=r(83215),u=r(53894),l=r(57283),p=r.n(l),d=r(13458);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g={loaded:0,pageSize:50,pageNumber:1,entities:[],numberOfEntities:0,appTypesLoaded:!1,sourceTypesLoaded:!1,filterValue:{},sortBy:"created_at",sortDirection:"desc",removingSources:[],activeCategory:r(84866).JL,appTypes:[],sourceTypes:[],hcsEnrolled:!1,hcsEnrolledLoaded:!1},E=function(e,t){var r=t.payload,n=r.sourceId,o=r.app;return m(m({},e),{},{entities:e.entities.map((function(e){return e.id===n?m(m({},e),{},{applications:[].concat((0,a.Z)(e.applications),[o])}):e}))})},v=function(e,t){var r=t.payload,n=r.id,a=r.name;return m(m({},e),{},{entities:e.entities.map((function(e){return e.id===n?m(m({},e),{},{name:a}):e}))})};const y=(n={},(0,o.Z)(n,d.aI.LOAD_ENTITIES_PENDING,(function(e,t){var r=t.options;return m(m({},e),{},{loaded:e.loaded+1,paginationClicked:!1},r)})),(0,o.Z)(n,d.aI.LOAD_ENTITIES_FULFILLED,(function(e,t){var r=t.payload,n=r.sources,a=r.meta,o=t.options;return m(m({},e),{},{loaded:Math.max(e.loaded-1,0),entities:n,numberOfEntities:null==a?void 0:a.count},o)})),(0,o.Z)(n,d.aI.LOAD_ENTITIES_REJECTED,(function(e,t){var r=t.payload.error;return m(m({},e),{},{fetchingError:r})})),(0,o.Z)(n,d.aI.LOAD_SOURCE_TYPES_PENDING,(function(e){return m(m({},e),{},{sourceTypes:[],sourceTypesLoaded:!1})})),(0,o.Z)(n,d.aI.LOAD_SOURCE_TYPES_FULFILLED,(function(e,t){var r=t.payload;return m(m({},e),{},{sourceTypes:r,sourceTypesLoaded:!0})})),(0,o.Z)(n,d.aI.LOAD_SOURCE_TYPES_REJECTED,(function(e,t){var r=t.payload.error;return m(m({},e),{},{fetchingError:r})})),(0,o.Z)(n,d.aI.LOAD_HCS_ENROLLMENT_PENDING,(function(e){return m(m({},e),{},{hcsEnrolled:!1,hcsEnrolledLoaded:!1})})),(0,o.Z)(n,d.aI.LOAD_HCS_ENROLLMENT_FULFILLED,(function(e,t){var r=t.payload;return m(m({},e),{},{hcsEnrolled:r,hcsEnrolledLoaded:!0})})),(0,o.Z)(n,d.aI.LOAD_HCS_ENROLLMENT_REJECTED,(function(e,t){var r=t.payload.error;return m(m({},e),{},{fetchingError:r})})),(0,o.Z)(n,d.aI.LOAD_APP_TYPES_PENDING,(function(e){return m(m({},e),{},{appTypes:[],appTypesLoaded:!1})})),(0,o.Z)(n,d.aI.LOAD_APP_TYPES_FULFILLED,(function(e,t){var r=t.payload;return m(m({},e),{},{appTypes:r,appTypesLoaded:!0})})),(0,o.Z)(n,d.aI.LOAD_APP_TYPES_REJECTED,(function(e,t){var r=t.payload.error;return m(m({},e),{},{fetchingError:r})})),(0,o.Z)(n,d.aI.REMOVE_SOURCE_PENDING,(function(e,t){var r=t.meta;return m(m({},e),{},{removingSources:[].concat((0,a.Z)(e.removingSources),[r.sourceId])})})),(0,o.Z)(n,d.aI.REMOVE_SOURCE_FULFILLED,(function(e,t){var r=t.meta;return m(m({},e),{},{removingSources:e.removingSources.filter((function(e){return e!==r.sourceId})),entities:e.entities.filter((function(e){return e.id!==r.sourceId}))})})),(0,o.Z)(n,d.aI.REMOVE_SOURCE_REJECTED,(function(e,t){var r=t.meta;return m(m({},e),{},{removingSources:e.removingSources.filter((function(e){return e!==r.sourceId}))})})),(0,o.Z)(n,d.aI.REMOVE_APPLICATION_PENDING,(function(e,t){var r=t.meta;return m(m({},e),{},{entities:e.entities.map((function(e){return e.id===r.sourceId?m(m({},e),{},{applications:e.applications.map((function(e){return e.id===r.appId?m(m({},e),{},{isDeleting:!0}):e}))}):e}))})})),(0,o.Z)(n,d.aI.REMOVE_APPLICATION_FULFILLED,(function(e,t){var r=t.meta;return m(m({},e),{},{entities:e.entities.map((function(e){return e.id===r.sourceId?m(m({},e),{},{applications:e.applications.filter((function(e){return e.id!==r.appId}))}):e}))})})),(0,o.Z)(n,d.aI.REMOVE_APPLICATION_REJECTED,(function(e,t){var r=t.meta;return m(m({},e),{},{entities:e.entities.map((function(e){return e.id===r.sourceId?m(m({},e),{},{applications:e.applications.map((function(e){return e.id===r.appId?m(m({},e),{},{isDeleting:void 0}):e}))}):e}))})})),(0,o.Z)(n,d.aI.RENAME_SOURCE_PENDING,v),(0,o.Z)(n,d.aI.RENAME_SOURCE_REJECTED,v),(0,o.Z)(n,d.ei,(function(e,t){var r=t.payload,n=r.column,a=r.direction;return m(m({},e),{},{sortBy:n,sortDirection:a})})),(0,o.Z)(n,d.dD,(function(e,t){var r=t.payload,n=r.page,a=r.size;return m(m({},e),{},{pageSize:a,pageNumber:n})})),(0,o.Z)(n,d.lN,(function(e,t){var r=t.payload.value;return m(m({},e),{},{filterValue:m(m({},e.filterValue),r),pageNumber:1})})),(0,o.Z)(n,d.Q9,E),(0,o.Z)(n,d.Q9,E),(0,o.Z)(n,d.BW,(function(e,t){var r=t.payload.count;return m(m({},e),{},{numberOfEntities:r})})),(0,o.Z)(n,d.aE,(function(e,t){var r=t.payload.source;return m(m({},e),{},{entities:[].concat((0,a.Z)(e.entities),[m(m({},r),{},{hidden:!0})])})})),(0,o.Z)(n,d.d5,(function(e,t){var r=t.payload.sourceId;return m(m({},e),{},{entities:e.entities.map((function(e){return e.id===r?m(m({},e),{},{isCheckPending:!0}):e}))})})),(0,o.Z)(n,d.Gs,(function(e){return m(m({},e),{},{filterValue:{},pageNumber:1})})),(0,o.Z)(n,d.$g,(function(e,t){var r=t.payload.category;return m(m({},e),{},{filterValue:m(m({},e.filterValue),{},{source_type_id:[],applications:[]}),activeCategory:r})})),n);var _,h=r(45199);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P={writePermissions:void 0,isOrgAdmin:void 0},S=function(e){return O(O({},e),{},{writePermissions:void 0})},I=function(e){return O(O({},e),{},{isOrgAdmin:void 0})};const Z=(_={},(0,o.Z)(_,h.a.SET_WRITE_PERMISSIONS_PENDING,S),(0,o.Z)(_,h.a.SET_WRITE_PERMISSIONS_FULFILLED,(function(e,t){var r=t.payload;return O(O({},e),{},{writePermissions:r})})),(0,o.Z)(_,h.a.SET_WRITE_PERMISSIONS_REJECTED,S),(0,o.Z)(_,h.a.SET_ORG_ADMIN_PENDING,I),(0,o.Z)(_,h.a.SET_ORG_ADMIN_FULFILLED,(function(e,t){var r=t.payload;return O(O({},e),{},{isOrgAdmin:r})})),(0,o.Z)(_,h.a.SET_ORG_ADMIN_REJECTED,I),_);var D=r(54876);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=function(e){return function(t){return function(r){if(r.type===d.aI.LOAD_ENTITIES_PENDING){var n=e.getState().sources;(0,D.rh)(N(N({},n),r.options))}t(r)}}},M=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[u.Z,(0,c.ZP)({errorTitleKey:"error.title",errorDescriptionKey:"error.detail"}),p(),w].concat((0,a.Z)(e)),n=new i.ZP({},r);return n.register({sources:(0,i.Gg)(y,N(N({},g),t.sources))}),n.register({user:(0,i.Gg)(Z,N(N({},P),t.user))}),n.register({notifications:s.ee}),n.getStore()}()}},84569:(e,t,r)=>{r.d(t,{Z:()=>n});const n=function(e,t){return e.formatMessage({id:"tryAgain.text",defaultMessage:"{ error }. Please try again."},{error:t})}},54876:(e,t,r)=>{r.d(t,{mB:()=>f,rh:()=>p,uY:()=>d});var n=r(29439),a=r(4942),o=r(48815),i=r(4833),c=r(30567),s=r(84866);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(e){var t=e.sortBy,r=e.sortDirection,n=e.pageNumber,a=e.pageSize,i=e.filterValue,c=e.activeCategory,u="sort_by[]=".concat(t,":").concat(r),l="limit=".concat(a,"&offset=").concat((n-1)*a,"&category=").concat(c||s.JL),p=(0,o.sd)(i),d="?".concat(u,"&").concat(l).concat(p?"&".concat(p):""),f=decodeURIComponent("".concat(window.location.pathname).concat(d));return location.href!==f?history.replaceState("","",f):null},d=function(e){var t=e||new URLSearchParams(window.location.search),r=t.getAll("application"),n=t.getAll("type");return{applications:r.length&&r,types:n.length&&n}},f=function(e){var t,r,a={},o=new URLSearchParams(window.location.search),u=o.get("sort_by[]");u&&(t=u.split(":")[0],r=u.split(":")[1],t=(0,c.E)({formatMessage:function(){return""}}).filter((function(e){return e.sortable})).map((function(e){return e.value})).includes(t)?t:"created_at",r=["desc","asc"].includes(r)?r:"desc"),t&&r&&(a={sortBy:t,sortDirection:r});var p,f=o.get("limit"),m=o.get("offset");m&&f&&(p=m/f+1,isNaN(p)&&(p=void 0)),f&&p&&(a=l(l({},a),{},{pageNumber:parseInt(p,10),pageSize:Math.min(parseInt(f,10),100)}));var g={},E=o.get("filter[name][contains_i]");E&&(g={name:E});var v=o.getAll("filter[source_type_id][]");v.length>0&&(g=l(l({},g),{},{source_type_id:v}));var y=o.getAll("filter[applications][application_type_id][eq][]");y.length>0&&(g=l(l({},g),{},{applications:y})),o.get("filter[availability_status]")?g=l(l({},g),{},{availability_status:[i.Rl]}):o.get("filter[availability_status][]")&&(g=l(l({},g),{},{availability_status:[i.nZ]}));var _=d(o),h=_.applications,b=_.types;if(h||b){var O,P,S=e().sources,I=S.appTypes,Z=S.sourceTypes,D=null===(O=h.map)||void 0===O?void 0:O.call(h,(function(e){var t;return null===(t=I.find((function(t){return t.name.includes(e)})))||void 0===t?void 0:t.id})).filter(Boolean),T=null===(P=b.map)||void 0===P?void 0:P.call(b,(function(e){var t;return null===(t=Z.find((function(t){return t.name===e})))||void 0===t?void 0:t.id})).filter(Boolean);g=l(l(l({},g),(null==D?void 0:D.length)&&{applications:D}),(null==T?void 0:T.length)&&{source_type_id:T})}Object.entries(g).map((function(e){var t=(0,n.Z)(e,2);return t[0],t[1]})).filter(Boolean).length>0&&(a=l(l({},a),{},{filterValue:g}));var N=o.get("category")||o.get("activeVendor");return N!==s.JL&&N!==s.B0||(a=l(l({},a),{},{activeCategory:N})),a}},16959:(e,t,r)=>{r.d(t,{d:()=>i,n:()=>c});var n=r(4942);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var i="/settings/sources",c=function(e,t){return"string"==typeof e?"".concat(t,"/").concat(e).replaceAll("//","/"):o(o({},e),{},{pathname:"".concat(t,"/").concat(e.pathname).replaceAll("//","/")})}},4833:(e,t,r)=>{r.d(t,{BN:()=>z,Bj:()=>C,Ee:()=>L,Fd:()=>T,Gz:()=>H,L:()=>j,P5:()=>N,Rl:()=>R,Z3:()=>V,bF:()=>D,c:()=>J,jl:()=>M,nZ:()=>A,vh:()=>w});var n=r(45987),a=r(87462),o=r(93433),i=r(29439),c=r(4942),s=r(92950),u=r.n(s),l=r(45697),p=r.n(l),d=r(6848),f=r(43047),m=r(5913),g=r(17546),E=r(94688),v=r(44012),y=r(86896),_=r(62410),h=r(49881),b=r(58192),O=r(28347),P=["app","showStatusText"],S=["applications"];function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D=function(e){return{http:"80",https:"443"}[e]},T=function(e){var t=Object.keys(e).reduce((function(t,r){return Z(Z({},t),{},(0,c.Z)({},r,e[r]||""))}),{}),r=t.scheme,n=void 0===r?"":r,a=t.host,o=void 0===a?"":a,i=t.path,s=void 0===i?"":i,u=t.port,l=void 0===u?"":u,p="".concat(n,"://").concat(o).concat(function(e,t){return t&&String(t)!==D(e)?":".concat(t):""}(n,l)).concat(s);if("://"!==p)return p},N=function(e,t,r){var n=r.sourceTypes.find((function(t){return t.id===e}));return n&&n.product_name||e||""},w=function(e){return u().createElement("span",{className:"src-c-help-cursor"},u().createElement(_.Z,{type:"relative",date:e}))},M=function(e,t,r){var n=r.sourceTypes;return u().createElement(d.TextContent,null,u().createElement(h.Link,{to:(0,b.yS)(b._j.sourcesDetail.path,t.id)},e),u().createElement("br",{key:"".concat(t.id,"-br")}),u().createElement(d.Text,{key:t.id,component:d.TextVariants.small},function(e,t){var r=t.find((function(t){return t.id===e.source_type_id}));return r&&"openshift"===r.name}(t,n)&&function(e){return e.endpoints&&e.endpoints[0]&&T(e.endpoints[0])}(t)))},L=function(e){if(!e)return null;var t=function(e){return{cfme:u().createElement(v.Z,{id:"sources.cloudformImportTooltip",defaultMessage:"This source can be managed from your connected CloudForms application."})}[e.toLowerCase()]}(e);return t?u().createElement(d.Tooltip,{content:t},u().createElement(d.Badge,{isRead:!0,className:"src-m-help-cursor"},u().createElement(v.Z,{id:"sources.imported",defaultMessage:"imported"}))):u().createElement(d.Badge,{isRead:!0},u().createElement(v.Z,{id:"sources.imported",defaultMessage:"imported"}))},R="available",A="unavailable",j="partially_available",C="in_progress",k="paused_at",F=function(e){var t;return(t={},(0,c.Z)(t,A,"red"),(0,c.Z)(t,R,"green"),(0,c.Z)(t,j,"orange"),(0,c.Z)(t,k,"cyan"),t)[e]||"grey"},U=function(e){var t;return(t={},(0,c.Z)(t,A,u().createElement(v.Z,{id:"sources.unavailable",defaultMessage:"Unavailable"})),(0,c.Z)(t,R,u().createElement(v.Z,{id:"sources.available",defaultMessage:"Available"})),(0,c.Z)(t,j,u().createElement(v.Z,{id:"sources.partiallyAvailable",defaultMessage:"Partially available"})),(0,c.Z)(t,C,u().createElement(v.Z,{id:"sources.inProgress",defaultMessage:"In progress"})),(0,c.Z)(t,k,u().createElement(v.Z,{id:"sources.paused",defaultMessage:"Paused"})),t)[e]||u().createElement(v.Z,{id:"sources.unknown",defaultMessage:"Unknown"})},G=function(){return u().createElement(v.Z,{id:"sources.unknownError",defaultMessage:"unavailable"})},x=function(e,t){return u().createElement(u().Fragment,null,t.source&&u().createElement(u().Fragment,null,u().createElement(v.Z,{id:"sources.sourceError",defaultMessage:"Source's status: { error }",values:{error:t.source}}),u().createElement("br",null)),t.endpoint&&u().createElement(u().Fragment,null,u().createElement(v.Z,{id:"sources.endpointError",defaultMessage:"Endpoint error: { error }",values:{error:t.endpoint}}),u().createElement("br",null)),t.authentications&&u().createElement(v.Z,{id:"sources.authErrors",defaultMessage:"Authentication {count, plural, one {status} other {statuses}} : { errors }",values:{count:t.authentications.length,errors:t.authentications.map((function(e){var t=e.error,r=e.type;return u().createElement(u().Fragment,{key:r},u().createElement(v.Z,{id:"sources.errorAuthTemplate",defaultMessage:"{ type }: { error }",values:{error:t,type:r}}),u().createElement("br",null))}))}}),t.applications&&u().createElement(v.Z,{id:"sources.appErrors",defaultMessage:"Application {count, plural, one {status} other {statutes}}: { errors }",values:{count:t.applications.length,errors:t.applications.map((function(t){var r,n=t.error,a=t.id;return u().createElement(u().Fragment,{key:a},u().createElement(v.Z,{id:"sources.errorAppTemplate",defaultMessage:"{ app }: { error }",values:{error:n,app:(null===(r=e.find((function(e){return e.id===a})))||void 0===r?void 0:r.display_name)||a}}),u().createElement("br",null))}))}}))},B=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(r={},(0,c.Z)(r,A,u().createElement(u().Fragment,null,u().createElement(v.Z,{id:"sources.appStatusPartiallyOK",defaultMessage:"We found {count, plural, one {this error} other {these errors}}.",values:{count:Object.keys(n).length}}),u().createElement("hr",null),x(t,n))),(0,c.Z)(r,R,u().createElement(v.Z,{id:"sources.appStatusOK",defaultMessage:"Everything works fine."})),(0,c.Z)(r,j,u().createElement(u().Fragment,null,u().createElement(v.Z,{id:"sources.appStatusPartiallyOK",defaultMessage:"We found {count, plural, one {this error} other {these errors}}.",values:{count:Object.keys(n).length}}),u().createElement("hr",null),x(t,n))),(0,c.Z)(r,C,u().createElement(v.Z,{id:"sources.inProgressStatus",defaultMessage:"We are still working to validate credentials. Check back for status updates."})),(0,c.Z)(r,k,u().createElement(v.Z,{id:"sources.pausedStatus",defaultMessage:"Data collection is temporarily disabled. Resume source to reestablish connection."})),r)[e]||u().createElement(v.Z,{id:"sources.appStatusUnknown",defaultMessage:"Status has not been verified."})},z=function(e,t,r){var n=r.appTypes,c=function(e){var t=e.availability_status,r=e.availability_status_error,n=e.applications,a=void 0===n?[]:n,c=e.endpoints;c=void 0===c?[]:c;var s=(0,i.Z)(c,1)[0];if(t===C)return{errors:{},status:C};var l={},p=0,d=0;return t===A?(l=Z(Z({},l),{},{source:r||u().createElement(G,null)}),p++,d++):t===R&&p++,a.map((function(e){e.availability_status===A?(l=Z(Z({},l),{},{applications:[].concat((0,o.Z)(l.applications?l.applications:[]),[{id:e.application_type_id,error:e.availability_status_error||u().createElement(G,null)}])}),p++,d++):e.availability_status===R&&p++})),(null==s?void 0:s.availability_status)===A?(l=Z(Z({},l),{},{endpoint:s.availability_status_error||u().createElement(G,null)}),p++,d++):(null==s?void 0:s.availability_status)===R&&p++,null!=s&&s.authentications&&s.authentications.map((function(e){e.availability_status===A?(l=Z(Z({},l),{},{authentications:[].concat((0,o.Z)(l.authentications?l.authentications:[]),[{type:e.authtype,error:e.availability_status_error||u().createElement(G,null)}])}),p++,d++):e.availability_status===R&&p++})),{errors:l,status:0===d?0===p?"unknown":R:d===p?A:j}}(t),s=t.paused_at?k:c.status;return u().createElement("span",null,u().createElement(d.Popover,{showClose:!1,"aria-label":"".concat(s," popover"),bodyContent:B(s,n,c.errors)},u().createElement(d.Label,(0,a.Z)({className:"src-m-clickable",color:F(s)},t.availability_status===C&&{icon:u().createElement(m.ZP,null)},t.paused_at&&{icon:u().createElement(g.ZP,null)}),U(s))))},J=function(e){var t=e.app,r=e.showStatusText,o=(0,n.Z)(e,P),i=(0,y.Z)(),s=function(e,t,r){var n;return(n={},(0,c.Z)(n,R,r.formatMessage({id:"sources.appStatusOK",defaultMessage:"Everything works fine."})),(0,c.Z)(n,A,t||r.formatMessage({id:"sources.unknownError",defaultMessage:"Unknown error"})),(0,c.Z)(n,C,u().createElement(v.Z,{id:"sources.inProgressStatus",defaultMessage:"We are still working to validate credentials. Check back for status updates."})),n)[e]||r.formatMessage({id:"sources.appStatusUnknown",defaultMessage:"Status has not been verified."})}(t.availability_status,t.availability_status_error,i);return u().createElement(d.Popover,(0,a.Z)({showClose:!1,key:t.display_name,"aria-label":"".concat(t.display_name," popover"),bodyContent:t.paused_at?"".concat(s," ").concat(i.formatMessage({id:"appplication.paused.additionalText",defaultMessage:"Resume this application to continue data collection."})):s},t.paused_at&&{headerContent:i.formatMessage({id:"application.paused.header",defaultMessage:"Application paused"})}),u().createElement(d.Label,(0,a.Z)({className:"src-m-clickable",color:F(t.availability_status)},t.availability_status===C&&{icon:u().createElement(m.ZP,null)},t.paused_at&&{icon:u().createElement(g.ZP,null)},o),r?U(t.availability_status):t.display_name))};J.propTypes={app:p().shape({display_name:p().string,availability_status:p().string,availability_status_error:p().string,paused_at:p().string}),showStatusText:p().bool};var q=function(e){var t=e.applications,r=(0,n.Z)(e,S),o=(0,y.Z)();return u().createElement(d.LabelGroup,(0,a.Z)({},r,{numLabels:2,collapsedText:o.formatMessage({id:"applications.showMore",defaultMessage:"{remaining} more"},{remaining:"${remaining}"})}),t.map((function(e,t){return u().createElement(J,{app:e,key:e.id||t})})))};q.propTypes={applications:p().arrayOf(p().shape({display_name:p().string,availability_status:p().string,availability_status_error:p().string,paused_at:p().string})).isRequired};var H=function(e,t,r){var n=r.appTypes,a=e.map((function(e){return function(e,t,r){var n=r.find((function(t){return t.id===e.application_type_id}));if(n){var a,o,i,c,s,u,l=e.availability_status,p=e.availability_status_error;return"Endpoint"===(null===(a=e.authentications)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.resource_type)&&(l=null===(i=t.endpoints)||void 0===i||null===(c=i[0])||void 0===c?void 0:c.availability_status,p=null===(s=t.endpoints)||void 0===s||null===(u=s[0])||void 0===u?void 0:u.availability_status_error),{display_name:n.display_name,paused_at:e.paused_at,availability_status:l,availability_status_error:p}}}(e,t,n)})).filter(Boolean).sort((function(e,t){return e.display_name.localeCompare(t.display_name)}));return 0===a.length?"--":u().createElement(q,{numLabels:2,collapsedText:!0,applications:a})},V=function(e,t,r){var n=r.intl,a=r.sourceType;if(e===E.b){var o,i=null==a?void 0:a.schema.authentication.find((function(e){return e.is_superkey})),c=null==t||null===(o=t.authentications)||void 0===o?void 0:o.find((function(e){var t=e.authtype;return t&&t===(null==i?void 0:i.type)}));return u().createElement(u().Fragment,null,n.formatMessage({id:"configurationMode.trust",defaultMessage:"Account authorization"}),(null==c?void 0:c.availability_status)===A&&u().createElement(d.Tooltip,{position:"top",content:c.availability_status_error||n.formatMessage({id:"configurationMode.trustmode.defaultError",defaultMessage:"Edit credentials required."})},u().createElement("span",{className:"pf-u-ml-sm"},u().createElement(f.ZP,{fill:"#C9190B"}))),u().createElement("div",{className:"pf-u-mt-sm"},u().createElement(O.Z,{to:(0,b.yS)(b._j.sourcesDetailEditCredentials.path,t.id)},u().createElement(d.Button,{variant:"link",id:"edit-super-credentials",isInline:!0},t.paused_at?n.formatMessage({id:"sources.viewCredentials",defaultMessage:"View credentials"}):n.formatMessage({id:"sources.editCredentials",defaultMessage:"Edit credentials"})))))}return n.formatMessage({id:"configurationMode.manual",defaultMessage:"Manual configuration"})}},30567:(e,t,r)=>{r.d(t,{E:()=>a,W:()=>o});var n=r(4833),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return[{title:e.formatMessage({id:"sources.name",defaultMessage:"Name"}),value:"name",formatter:n.jl,sortable:!t},{title:e.formatMessage({id:"sources.type",defaultMessage:"Type"}),value:"source_type_id",formatter:n.P5,sortable:!t},{title:e.formatMessage({id:"sources.connectedApplications",defaultMessage:"Connected applications"}),value:"applications",formatter:n.Gz},{title:e.formatMessage({id:"sources.addedDate",defaultMessage:"Date added"}),value:"created_at",formatter:n.vh,sortable:!t},{hidden:!0,value:"imported",formatter:n.Ee},{title:e.formatMessage({id:"sources.status",defaultMessage:"Status"}),value:"availability_status",formatter:n.BN}]},o=a({formatMessage:function(){return""}}).length+1}}]);
//# sourceMappingURL=../sourcemaps/228.44e68cc308fb077201c8e2f11db41c6d.js.map