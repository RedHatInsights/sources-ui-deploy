(self.webpackChunksources_ui=self.webpackChunksources_ui||[]).push([[3068],{91447:(e,t,n)=>{"use strict";n.d(t,{n:()=>r,Z:()=>i});var a=n(4138),r=function(e){return(0,a.Rj)().checkAvailabilitySource(e).catch((function(){}))};const i=r},72810:(e,t,n)=>{"use strict";n.d(t,{h:()=>u});var a=n(4942),r=n(4138),i=function(e,t){return new Promise((function(n){setTimeout(n.bind(null,t),e)}))};function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"showApplication",o=arguments.length>4?arguments[4]:void 0;return new Promise((function(u,s){var l=Date.now();return function u(){return(0,r.Rj)()[a](e).then((function(e){if(Date.now()-l>=t)return o?c(c({},e),{},{availability_status:null,availability_status_error:null}):e;if("available"===e.availability_status||"unavailable"===e.availability_status){if(o&&new Date(e.last_checked_at||e.updated_at)>o)return e;if(!o)return e}return i(n).then((function(){return u()}))}))}().then((function(e){return u(e)})).catch((function(e){return s(e)}))}))}},32600:(e,t,n)=>{"use strict";n.d(t,{Z$:()=>b,pD:()=>Z,QW:()=>E,G$:()=>w,gF:()=>O,zi:()=>T,GN:()=>M,sM:()=>S,Ow:()=>j,i7:()=>P,YD:()=>D,TC:()=>x,YV:()=>z,dD:()=>C});var a=n(93433),r=n(4942),i=n(45987),o=n(92950),c=n.n(o),u=n(44012),s=n(71668),l=n(34593),p=n(55348),d=n(27361),m=n.n(d),f=n(42812),h=["stepKey"];function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e,t,n){return m()(p.Z,[e,"authentication",t,n],void 0)},b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"generic";return m()(p.Z,[e,"authentication",t,n,"additionalSteps"],[])},Z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"generic";return m()(p.Z,[e,"authentication",t,n,"skipSelection"],!1)},E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"generic";return m()(p.Z,[e,"authentication",t,n,"skipEndpoint"],!1)},w=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"generic";return m()(p.Z,[e,"authentication",t,n,"customSteps"],!1)},O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"generic";return m()(p.Z,[e,"authentication",t,n,"includeStepKeyFields"],[])},_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"generic";return m()(p.Z,[e,"authentication",t,n,"onlyHiddenFields"],!1)},T=function(e,t){return e.filter((function(e){return e.stepKey===t})).map((function(e){return e.stepKey,(0,i.Z)(e,h)}))},M=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"generic";return m()(p.Z,[e,"authentication",t,n,"useApplicationAuth"],!1)},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.filter((function(e){return!e.stepKey||t.includes(e.stepKey)}))},j=function(e,t,n,a){return e.map((function(e){var r=m()(p.Z,[t,"authentication",n,a]),i=r?m()(r,e.name):m()(p.Z,[t,"authentication",n,"generic",e.name]),o=i?v(v({},e),i):e;return"authentication.password"===o.name&&(o.component="authentication"),o}))},P=function(e,t){return e.map((function(e){var n=m()(p.Z,[t,"endpoint",e.name]);return n?v(v({},e),n):e}))},D=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"generic";return m()(p.Z,[e,"authentication",t,n,"additionalFields"],[])},x=function(e,t){return v(v({},e),{},{fields:[].concat((0,a.Z)((n=t,m()(p.Z,[n,"endpoint","additionalFields"],[]))),(0,a.Z)(P(e.fields,t))),name:"".concat(t,"-endpoint"),nextStep:"summary"});var n},z=function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"generic";return e.map((function(e){var c=e.name||"".concat(t,"-").concat(n,"-").concat(o,"-additional-step"),u=E(t,n,o),s=w(t,n,o);return v(v({name:c,nextStep:!r||u||s?"summary":"".concat(t,"-endpoint")},e),{},{fields:[].concat((0,a.Z)(j(e.fields,t,n,o)),(0,a.Z)(j(T(i,c),t,n,o)))})}))},C=function(e,t,n){var r=[];return e.forEach((function(e){var i,o=null!==(i=e.schema.endpoint)&&void 0!==i&&i.hidden?e.schema.endpoint.fields:[],p=e.schema.endpoint&&0===o.length;r.push(function(e,t,n){var r=e.schema.authentication,i=r.length>1,o=(0,a.Z)(t),p={};if(i)return o=[],r.forEach((function(r){var i=O(e.name,r.type),c=E(e.name,r.type,"generic"),u=_(e.name,r.type),d=u?r.fields.filter((function(e){return e.hideField})):r.fields;o.push({component:"auth-select",name:"auth_select",label:r.name,authName:r.type,validate:[{type:l.Z.REQUIRED}],disableAuthType:n}),o.push({component:s.Z.SUB_FORM,name:"".concat(r.type,"-subform"),className:"pf-u-pl-md",fields:[].concat((0,a.Z)(M(e.name,r.type)?[]:t),(0,a.Z)(D(e.name,r.type)),(0,a.Z)(j(S(d,i),e.name,r.type))),condition:{when:"auth_select",is:r.type},hideField:u}),p[r.type]=b(e.name,r.type).length>0?"".concat(e.name,"-").concat(r.type,"-generic-additional-step"):0!==t.length||c?"summary":"".concat(e.name,"-endpoint")})),{name:e.name,title:c().createElement(u.Z,{id:"wizard.credentials",defaultMessage:"Credentials"}),fields:o,nextStep:{when:"auth_select",stepMapper:p}};var d=r[0],m="".concat(e.name,"-").concat(d.type,"-generic-additional-step"),f=E(e.name,d.type,"generic"),h=b(e.name,d.type).length>0?m:0!==t.length||f?"summary":"".concat(e.name,"-endpoint"),y=O(e.name,d.type),g=Z(e.name,d.type),w={};if(M(e.name,d.type)&&(o=[]),g){var P=b(e.name,d.type).find((function(e){return!e.name})),x=T(d.fields,m);w=v(v({},P),{},{fields:[].concat((0,a.Z)(o),(0,a.Z)(j([].concat((0,a.Z)(P.fields),(0,a.Z)(x)),e.name,d.type)))})}return v({name:e.name,title:c().createElement(u.Z,{id:"wizard.credentials",defaultMessage:"Credentials"}),fields:[].concat((0,a.Z)(o),(0,a.Z)(D(e.name,d.type)),(0,a.Z)(j(S(d.fields,y),e.name,d.type))),nextStep:h},w)}(e,o,n)),t.forEach((function(t){t.supported_source_types.includes(e.name)&&r.push(function(e,t,n,r){var i=e.schema.authentication,o=t.supported_authentication_types[e.name]||[f.Z.type],p=o.length>1,d=(0,a.Z)(n),m={};if(p)return d=[],i.filter((function(e){var t=e.type;return o.includes(t)})).forEach((function(i){var o,c=g(e.name,i.type,t.name)?t.name:"generic",u=E(e.name,i.type,c),p=w(e.name,i.type,c);o=b(e.name,i.type,t.name).length>0?"".concat(e.name,"-").concat(i.type,"-").concat(t.name,"-additional-step"):0!==n.length||u||p?"summary":"".concat(e.name,"-endpoint");var f=O(e.name,i.type,c),h=_(e.name,i.type,c),y=h?i.fields.filter((function(e){return e.hideField})):i.fields;d.push({component:"auth-select",name:"auth_select",label:i.name,authName:i.type,validate:[{type:l.Z.REQUIRED}],supportedAuthTypes:t.supported_authentication_types[e.name],disableAuthType:r}),d.push({component:s.Z.SUB_FORM,name:"".concat(i.type,"-subform"),className:"pf-u-pl-md",fields:[].concat((0,a.Z)(M(e.name,i.type,c)?[]:n),(0,a.Z)(D(e.name,i.type,c)),(0,a.Z)(j(S(y,f),e.name,i.type,c))),condition:{when:"auth_select",is:i.type},hideField:h}),m[i.type]=o})),{name:"".concat(e.name,"-").concat(t.id),title:c().createElement(u.Z,{id:"wizard.chooseAuthType",defaultMessage:"Choose authentication type"}),fields:d,nextStep:{when:"auth_select",stepMapper:m}};var h,y=[f.Z].concat((0,a.Z)(i)).find((function(e){var t=e.type;return o.includes(t)})),P=g(e.name,y.type,t.name)?t.name:"generic",x="".concat(e.name,"-").concat(y.type,"-").concat(t.name,"-additional-step"),z=E(e.name,y.type,P),C=w(e.name,y.type,P);M(e.name,y.type,P)&&(d=[]),h=b(e.name,y.type,P).length>0?x:0!==n.length||z?"summary":"".concat(e.name,"-endpoint");var k=O(e.name,y.type,P),R={};if(Z(e.name,y.type,P)){var A=b(e.name,y.type,P).find((function(e){return!e.name})),N=T(y.fields,x);h=A.nextStep?A.nextStep:0!==n.length||z||C?"summary":"".concat(e.name,"-endpoint"),R=v(v({},A),{},{fields:[].concat((0,a.Z)(d),(0,a.Z)(j([].concat((0,a.Z)(A.fields),(0,a.Z)(N)),e.name,y.type,P)))})}return v({name:"".concat(e.name,"-").concat(t.id),title:c().createElement(u.Z,{id:"wizard.credentials",defaultMessage:"Credentials"}),fields:[].concat((0,a.Z)(d),(0,a.Z)(D(e.name,y.type,P)),(0,a.Z)(j(S(y.fields,k),e.name,y.type,P))),nextStep:h},R)}(e,t,o,n))}));var d=e.schema.authentication;(function(e,t){return t.some((function(t){var n=t.supported_source_types,a=t.supported_authentication_types;return n.includes(e.name)&&(!a[e.name]||0===!a[e.name].length)}))})(e,t)&&d.push(f.Z),d.forEach((function(n){var i=b(e.name,n.type);i.length>0&&r.push.apply(r,(0,a.Z)(z(i,e.name,n.type,p,n.fields))),t.forEach((function(t){var i=b(e.name,n.type,t.name);i.length>0&&r.push.apply(r,(0,a.Z)(z(i,e.name,n.type,p,n.fields,t.name)))}))})),p&&r.push(x(e.schema.endpoint,e.name))})),r}},79433:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var a=n(92950),r=n.n(a),i=n(45697),o=n.n(i),c=n(44012),u=n(56976),s=n(43047),l=function(e){var t=e.onClose,n=e.returnButtonTitle,a=e.message,i=e.title,o=e.customText,c=e.primaryAction,l=e.secondaryActions,p=e.Component;return r().createElement(u.Bullseye,null,r().createElement(u.EmptyState,{variant:u.EmptyStateVariant.full,className:"pf-u-mt-4xl"},r().createElement(u.EmptyStateIcon,{icon:s.ZP,color:"var(--pf-global--danger-color--100)",className:"pf-u-mb-0"}),r().createElement(u.Title,{headingLevel:"h2",size:"xl",className:"pf-u-mt-xl"},i),r().createElement(u.EmptyStateBody,{className:"src-c-wizard--step-text"},a||o),r().createElement(p,{variant:"primary",onClick:c||t},n),l&&r().createElement(u.EmptyStateSecondaryActions,{className:"pf-u-mt-sm"},l)))};l.propTypes={onClose:o().func.isRequired,returnButtonTitle:o().node,message:o().node,title:o().node,customText:o().node,primaryAction:o().func,secondaryActions:o().node,Component:o().elementType},l.defaultProps={title:r().createElement(c.Z,{id:"wizard.unsuccConfiguration",defaultMessage:"Something went wrong"}),customText:r().createElement(c.Z,{id:"wizard.errorText",defaultMessage:"There was a problem while trying to add your source. Please try again. If the error persists, open a support case."}),Component:u.Button};const p=l},52893:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var a=n(92950),r=n.n(a),i=n(45697),o=n.n(i),c=n(44012),u=n(56976),s=function(e){var t=e.onClose,n=e.customText,a=e.cancelTitle,i=e.description;return r().createElement(u.Bullseye,null,r().createElement(u.EmptyState,{variant:u.EmptyStateVariant.full,className:"pf-u-mt-4xl"},r().createElement(u.EmptyStateIcon,{icon:u.Spinner,className:"pf-u-mb-0"}),r().createElement(u.Title,{headingLevel:"h2",size:"xl",className:"pf-u-mt-xl"},n),i&&r().createElement(u.EmptyStateBody,{className:"src-c-wizard--step-text"},i),t&&r().createElement(u.EmptyStateSecondaryActions,{className:"pf-u-mt-xl"},r().createElement(u.Button,{variant:"link",onClick:t},a))))};s.propTypes={onClose:o().func,customText:o().node,cancelTitle:o().node,description:o().node},s.defaultProps={customText:r().createElement(c.Z,{id:"wizard.loadingText",defaultMessage:"Loading, please wait."}),cancelTitle:r().createElement(c.Z,{id:"wizard.cancelText",defaultMessage:"Cancel"})};const l=s},90280:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ae});var a=n(87462),r=n(4942),i=n(45987),o=n(92950),c=n.n(o),u=n(45697),s=n.n(u),l=n(93025),p=n(67850),d=n(58676),m=n(29439),f=n(27361),h=n.n(f),y=n(56976),v=n(11947),g=n(48880),b=n(34593),Z=n(36680);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=n(93433),_=n(44012),T=n(86896),M=function(e){var t=e.label,n=e.value,a=(0,T.Z)();return c().createElement(y.Popover,{headerContent:t,bodyContent:n,position:"top",maxWidth:"80%"},c().createElement(y.Button,{variant:"link",isInline:!0,className:"src-c-wizard__summary-buttons"},a.formatMessage({id:"wizard.showMore",defaultMessage:"Show more"})))};M.propTypes={label:s().node,value:s().node};const S=M;var j=n(55348),P=n(84866),D=n(72317),x=n(32600),z=["term","description"],C=function(e){var t=e.term,n=e.description,a=(0,i.Z)(e,z);return c().createElement(y.DescriptionListGroup,a,c().createElement(y.DescriptionListTerm,null,t),c().createElement(y.DescriptionListDescription,null,n))};C.propTypes={term:s().node,description:s().node};var k=function(e){var t,n,a,r,i,o=e.sourceTypes,u=e.applicationTypes,s=e.showApp,l=e.showAuthType,p=(0,g.default)(),d=(0,T.Z)(),m=p.getState().values,f=o.find((function(e){return e.name===m.source_type||e.id===m.source.source_type_id})),v=m.authentication&&m.authentication.authtype?m.authentication.authtype:m.auth_select,b=[];v&&(r=f.schema.authentication.find((function(e){return e.type===v})),b=r&&r.fields?r.fields:[]),"account_authorization"===m.source.app_creation_workflow&&(i=m.applications.map((function(e){var t;return null===(t=u.find((function(t){return t.id===e})))||void 0===t?void 0:t.display_name})));var Z=m.application?u.find((function(e){return e.id===m.application.application_type_id})):void 0,E=Z||{},w=E.display_name,M=void 0===w?d.formatMessage({id:"wizard.notSelected",defaultMessage:"Not selected"}):w,z=E.name,k=E.id,R=(0,x.QW)(f.name,v,z),A=(null===(t=f.schema.endpoint)||void 0===t?void 0:t.fields)||[];R&&(A=[],b=b.filter((function(e){return!e.name.includes("authentication.")})));var N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"generic",a=arguments.length>3?arguments[3]:void 0;return[].concat((0,O.Z)(h()(j.Z,[e,"authentication",t,n,"includeStepKeyFields"],[])),(0,O.Z)(h()(j.Z,[e,"authentication",t,n,"additionalSteps"],[]).map((function(e){return e.name}))),["".concat(e,"-").concat(t,"-").concat(n,"-additional-step"),"".concat(e,"-").concat(t,"-additional-step"),a?"".concat(e,"-").concat(a):void 0]).filter(Boolean)}(f.name,v,z,k),F=(0,x.Z$)(f.name,v,z),I=h()(j.Z,[f.name,"authentication",v,z,"customSteps"],!1);F.length>0&&(b=F.map((function(e){return[].concat((0,O.Z)(e.fields),(0,O.Z)(b.filter((function(t){var n=t.stepKey;return n&&e.name===n}))))})).flatMap((function(e){return e})).filter((function(e){var t=e.name;return t.startsWith("application.extra")||b.find((function(e){return e.name===t}))||I&&A.find((function(e){return e.name===t}))}))),I&&(A=[]),b=(0,x.Ow)(b,f.name,v,z||"generic"),A=(0,x.i7)(A,f.name);var q=function(e,t,n){return e.map((function(e){return function(e,t,n){var a=h()(t,e.name);if((!e.stepKey||n.includes(e.stepKey))&&!(e.condition&&h()(t,e.condition.when)!==e.condition.is||e.hideField))return a&&"password"===e.type&&(a="●●●●●●●●●●●●"),"boolean"==typeof a&&(a=a?c().createElement(y.Label,{color:"green"},c().createElement(_.Z,{id:"wizard.enabled",defaultMessage:"Enabled"})):c().createElement(y.Label,{color:"gray"},c().createElement(_.Z,{id:"wizard.disabled",defaultMessage:"Disabled"}))),!a&&"authentication.password"===e.name&&h()(t,"authentication.id")&&(a="●●●●●●●●●●●●"),{label:e["aria-label"]||e.label,value:a||"-"}}(e,t,n)})).filter(Boolean)}([].concat((0,O.Z)(b),(0,O.Z)(A)),m,N).map((function(e){var t=e.label,n=e.value;return c().createElement(C,{key:"".concat(t,"--").concat(n),term:t,description:n.toString().length>150?c().createElement(S,{label:t,value:n}):n})}));return c().createElement(c().Fragment,null,c().createElement(y.DescriptionList,{isHorizontal:!0,className:"src-c-wizard__summary-description-list"},c().createElement(C,{term:d.formatMessage({id:"wizard.name",defaultMessage:"Name"}),description:m.source.name}),c().createElement(C,{term:d.formatMessage({id:"wizard.sourceType",defaultMessage:"Source type"}),description:f.product_name}),s&&m.source.app_creation_workflow&&c().createElement(C,{term:d.formatMessage({id:"wizard.configurationMode",defaultMessage:"Configuration mode"}),description:"account_authorization"===m.source.app_creation_workflow?d.formatMessage({id:"wizard.accountAuth",defaultMessage:"Account authorization"}):d.formatMessage({id:"wizard.manualConfig",defaultMessage:"Manual configuration"})}),s&&"account_authorization"===m.source.app_creation_workflow&&c().createElement(C,{term:d.formatMessage({id:"wizard.applications",defaultMessage:"Applications"}),description:i.length?i.map((function(e){return c().createElement("div",{key:e},e)})):d.formatMessage({id:"none",defaultMessage:"None"})}),s&&"account_authorization"!==m.source.app_creation_workflow&&c().createElement(C,{term:d.formatMessage({id:"wizard.application",defaultMessage:"Application"}),description:M}),!R&&r&&l&&"account_authorization"!==m.source.app_creation_workflow&&(!(null!==(n=m.application)&&void 0!==n&&n.application_type_id)||(null===(a=m.application)||void 0===a?void 0:a.application_type_id)===D.Dt)&&c().createElement(C,{term:d.formatMessage({id:"wizard.authenticationType",defaultMessage:"Authentication type"}),description:r.name}),q),function(e,t,n){return e===P.Qr&&"google"!==t?c().createElement(y.Alert,{variant:"info",isInline:!0,title:n.formatMessage({id:"cost.rbacWarningTitle",defaultMessage:"Manage permissions in User Access"})},n.formatMessage({id:"cost.rbacWarningDescription",defaultMessage:"Make sure to manage permissions for this source in custom roles that contain permissions for Cost Management."})):e===P.fn&&["azure","google"].includes(t)?c().createElement(y.Alert,{variant:"info",isInline:!0,title:n.formatMessage({id:"azure.rhelWarningTitle",defaultMessage:"This source will not be monitored in Sources"})},n.formatMessage({id:"azure.rhelWarningDescription",defaultMessage:"This source will be represented in the Sources list, but will not reflect true status or resources."})):null}(z,f.name,d))};k.propTypes={sourceTypes:s().arrayOf(s().shape({id:s().string.isRequired,name:s().string.isRequired,product_name:s().string.isRequired,schema:s().shape({authentication:s().array,endpoint:s().object})})).isRequired,applicationTypes:s().arrayOf(s().shape({id:s().string.isRequired,name:s().string.isRequired,display_name:s().string.isRequired})).isRequired,showApp:s().bool,showAuthType:s().bool},k.defaultProps={showApp:!0,showAuthType:!0};const R=k;var A=["Content"],N=function(e){var t=e.Content,n=(0,i.Z)(e,A);return c().createElement(t,n)};N.propTypes={Content:s().oneOfType([s().element,s().func]).isRequired};const F=N;var I=n(41693),q=["isRequired","label","helperText","hideLabel","meta","input","options","mutator","DefaultIcon","iconMapper"],B=function(e){var t=(0,I.Z)(e),n=t.isRequired,r=t.label,u=t.helperText,s=t.hideLabel,l=t.meta,p=t.input,d=t.options,f=t.mutator,h=t.DefaultIcon,v=t.iconMapper,b=(0,i.Z)(t,q),Z=(0,g.default)(),E=(0,o.useState)((function(){var e={};return d.forEach((function(t){var n=t.value;return e[n]=v(n,h)})),e})),w=(0,m.Z)(E,1)[0],_=b.isMulti||b.multi,T=b.isDisabled||b.isReadOnly,M=p.value||[],S=function(e){T||(function(e){_?function(e){p.onChange(M.includes(e)?M.filter((function(t){return t!==e})):[].concat((0,O.Z)(M),[e]))}(e):function(e){p.onChange(M===e?void 0:e)}(e)}(e),p.onBlur())},j=l.error,P=l.touched&&j;return c().createElement(y.FormGroup,{isRequired:n,label:!s&&r,fieldId:p.name,helperText:u,helperTextInvalid:j,validated:P?"error":"default"},c().createElement(y.Grid,{hasGutter:!0,className:"pf-u-mb-md"},d.map((function(e){return f(e,Z)})).map((function(e){var t=e.value,n=e.label,r=e.isDisabled||T;if(t){var i=w[t];return c().createElement(y.GridItem,{sm:6,md:4,key:t},c().createElement(y.Tile,(0,a.Z)({className:"src-c-wizard__tile".concat(r?" disabled":""),onClick:function(){return S(t)},tabIndex:r?-1:0,onKeyPress:function(e){return function(e,t,n){32===e.charCode&&(e.preventDefault(),n(t))}(e,t,S)},isDisabled:r,title:n,isStacked:!0,isSelected:M.includes(t)},i&&{icon:c().createElement(i,null)})))}}))))};B.propTypes={multi:s().bool,isMulti:s().bool,label:s().node,isRequired:s().bool,helperText:s().node,description:s().node,hideLabel:s().bool,name:s().string.isRequired,mutator:s().func,options:s().array,DefaultIcon:s().oneOfType([s().node,s().func,s().element]),iconMapper:s().func,isDisabled:s().bool,isReadOnly:s().bool},B.defaultProps={options:[],iconMapper:function(e,t){return t},mutator:function(e){return e}};const G=B;var L=function(e){var t=(0,I.Z)(e),n=t.label,a=t.input,r=t.authName,i=t.supportedAuthTypes,o=t.disableAuthType,u=a.value===r;return a.value&&i&&!i.includes(a.value)&&a.onChange(void 0),c().createElement(y.Radio,{value:r,isChecked:u,name:a.name,onChange:function(){return a.onChange(r)},label:n,id:"".concat(a.name,"-").concat(r),isDisabled:o})};L.propTypes={label:s().string,authName:s().string.isRequired,disableAuthType:s().bool,supportedAuthTypes:s().arrayOf(s().string)},L.defaultProps={disableAuthType:!1};const K=L;var W=n(41626),Q=["options","mutator"],U=function(e){var t=e.options,n=e.mutator,r=(0,i.Z)(e,Q),u=(0,g.default)(),s=u.getState().values,l=s.source_type,p=h()(s,r.name),d=t.map((function(e){return n(e,u)})).filter(Boolean);return(0,o.useEffect)((function(){!l||p&&d.map((function(e){return e.value})).includes(p)||1!==d.filter((function(e){return e.value&&e.value!==D.Dt})).length?d.map((function(e){return e.value})).includes(p)||u.change(r.name,D.Dt):u.change(r.name,d[0].value)}),[l]),c().createElement(W.Z,(0,a.Z)({},r,{options:d,FormGroupProps:{className:"src-c-wizard__radio"}}))};U.propTypes={mutator:s().func.isRequired,options:s().array,name:s().string};const H=U;var V=n(69385),$=["Icon"],Y=function(e){var t=e.Icon,n=(0,i.Z)(e,$),r=(0,o.useRef)();return c().createElement("div",{className:"src-c-checkbox-with-icon"},c().createElement(V.Z,(0,a.Z)({},n,{type:"checkbox"})),c().createElement("span",{ref:r},c().createElement(t,{appendTo:r.current})))};Y.propTypes={Icon:s().elementType.isRequired};var J=["componentMapper"];function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te={"auth-select":K,description:F,"card-select":G,summary:R,"enhanced-radio":H,"switch-group":function(e){var t=(0,I.Z)(e),n=t.label,a=t.input,r=t.options,i=t.applicationTypes,u=(0,(0,g.default)().getState)().values.source_type,s=i.filter((function(e){return e.supported_source_types.includes(u)})).map((function(e){return e.id})),l=r.filter((function(e){var t=e.value;return s.includes(t)}));return(0,o.useEffect)((function(){a.value||a.onChange(l.map((function(e){return e.value})).filter(Boolean))}),[]),c().createElement(y.FormGroup,{label:n,fieldId:a.name},c().createElement(y.Stack,{hasGutter:!0},l.map((function(e){return c().createElement(y.StackItem,{key:e.value},c().createElement(y.Switch,{label:e.label,onChange:function(t){return function(e,t){return e?a.onChange([].concat((0,O.Z)(a.value),[t])):a.onChange(a.value.filter((function(e){return e!==t})))}(t,e.value)},isChecked:a.value.includes(e.value),id:e.value}),e.description&&c().createElement("div",{className:"pf-c-switch pf-u-mt-sm"},c().createElement("span",{className:"pf-c-switch__toggle src-m-wizard-hide-me"}),c().createElement("div",{className:"pf-c-switch__label src-c-wizard--switch-description"},e.description)))}))))},authentication:function(e){var t,n,r=(0,g.default)(),i=r.getState().values,u=(null==e||null===(t=e.name)||void 0===t?void 0:t.match(/\d+/))||[],s=(0,m.Z)(u,1)[0]||(null===(n=i.authentication)||void 0===n?void 0:n.id),l=h()(i,e.name),p=(0,o.useState)(!s||l),d=(0,m.Z)(p,2),f=d[0],E=d[1],O=(0,o.useRef)(!0),_=(0,o.useRef)(!1);(0,o.useEffect)((function(){_.current&&(!O.current&&r.getState().pristine&&(E(!1),O.current=!0),f&&(O.current=!1))})),(0,o.useEffect)((function(){_.current=!0}),[]);var T=e.validate&&e.validate.filter((function(e){return e.type!==b.Z.REQUIRED})),M=w(w({},e),s?{validate:T,resolveProps:Z.Z}:{});return e.isDisabled?c().createElement(y.FormGroup,{helperText:M.helperText,label:M.label,isRequired:!0},c().createElement(y.TextInput,{"aria-label":"pre-filled-authentication",value:"•••••••••••••",isDisabled:!0})):!f&&s?c().createElement(y.FormGroup,{helperText:M.helperText,label:M.label,onFocus:function(){return E(!0)},isRequired:!0},c().createElement(y.TextInput,{"aria-label":"pre-filled-authentication",value:"•••••••••••••"})):c().createElement(v.Z,(0,a.Z)({},M,{autoFocus:!0}))},"checkbox-with-icon":Y},ne=function(e){var t=e.componentMapper,n=(0,i.Z)(e,J);return c().createElement(l.Z,(0,a.Z)({FormTemplate:p.ZP,componentMapper:ee(ee(ee({},d.ZP),te),t)},n))};ne.propTypes={componentMapper:s().object};const ae=ne},45587:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a=function(e){return"account_authorization"===(null==e?void 0:e.app_creation_workflow)}},36680:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var a=n(92950),r=n.n(a),i=n(45697),o=n.n(i),c=n(86896),u=n(56976),s=n(76429),l=function(e){var t=e.validating,n=(0,c.Z)();return r().createElement(u.FormHelperText,{isHidden:!t},r().createElement(u.Spinner,{size:"md",className:"pf-u-mr-md"}),n.formatMessage({id:"wizard.validating",defaultMessage:"Validating"}))};l.propTypes={validating:o().bool.isRequired};const p=function(e,t){var n=t.meta;return n.validating?{helperText:r().createElement(s.Z,null,(function(e){var t=e.validating;return r().createElement(l,{validating:t})}))}:n.valid?{validated:"success",FormGroupProps:{validated:"success"}}:{}}},97890:()=>{},44370:()=>{},17657:()=>{},22972:()=>{},81754:()=>{},70347:()=>{},10497:()=>{},10108:()=>{},54476:()=>{},40837:()=>{},74282:()=>{},25238:()=>{},91993:()=>{},27479:()=>{},93661:()=>{},56024:()=>{},43390:()=>{},40209:()=>{},87234:()=>{},38299:()=>{},72816:()=>{},11177:()=>{}}]);
//# sourceMappingURL=../sourcemaps/3068.c4cea7465ca2d5f945f7d1e6908ca053.js.map