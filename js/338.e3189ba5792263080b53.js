(self.webpackChunksources_ui=self.webpackChunksources_ui||[]).push([[338],{99338:(e,t,r)=>{"use strict";r.d(t,{Z:()=>R});var n=r(67154),s=r.n(n),o=r(6479),i=r.n(o),u=r(80150),c=r.n(u),a=r(47194),d=r(45697),l=r.n(d),f=r(87016),p=r(86896),m=r(39324),h=r(29499),v=r(11405);const g=function(){var e=(0,p.Z)(),t=(0,h.E)(),r=(0,f.useDispatch)();return(0,u.useEffect)((function(){if(!1===t){var n=e.formatMessage({id:"sources.insufficietnPerms",defaultMessage:"Insufficient permissions"}),s=e.formatMessage({id:"sources.notAdminButton",defaultMessage:"To perform this action, you must be granted write permissions from your Organization Administrator."});r((0,m.Hz)({title:n,variant:"danger",description:s}))}}),[t]),!1===t?c().createElement(a.Redirect,{to:v._j.sources.path}):null};var w=r(66187),E=r(77334),y=function(e){var t=e.route,r=e.children;return t.redirectNoId&&(0,w.L)()||!t.redirectNoId?c().createElement(c().Fragment,null,t.writeAccess&&c().createElement(g,null),r):c().createElement(E.Z,null)};y.propTypes={route:l().shape({path:l().string.isRequired,redirectNoId:l().bool,writeAccess:l().bool}).isRequired,children:l().node.isRequired};var b=function(e){var t=e.route,r=e.componentProps,n=e.Component,o=i()(e,["route","componentProps","Component"]);return c().createElement(a.Route,s()({},o,{path:t.path}),c().createElement(y,{route:t},c().createElement(n,r)))};b.propTypes={route:l().shape({path:l().string.isRequired,redirectNoId:l().bool,writeAccess:l().bool}).isRequired,componentProps:l().any,Component:l().oneOfType([l().func,l().object]).isRequired};const R=b},77334:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(63038),s=r.n(n),o=r(80150),i=r.n(o),u=r(87016),c=r(47194),a=r(86896),d=r(39324),l=r(45857),f=r(17254),p=r(11405),m=r(66187);const h=function(){var e=(0,c.useParams)().id,t=(0,a.Z)(),r=(0,m.L)(),n=(0,f.W)(),h=(0,u.useSelector)((function(e){return e.sources}),u.shallowEqual),v=h.appTypesLoaded,g=h.sourceTypesLoaded,w=(0,u.useDispatch)(),E=(0,o.useState)(!1),y=s()(E,2),b=y[0],R=y[1];return(0,o.useEffect)((function(){n&&v&&g&&(0,l.oI)(e).then((function(e){var t=s()(e.sources,1)[0];return w((0,d._B)(t)),t})).then((function(r){r||w((0,d.Hz)({title:t.formatMessage({id:"sources.sourceNotFoundTitle",defaultMessage:"Requested source was not found"}),variant:"danger",description:t.formatMessage({id:"sources.sourceNotFoundTitleDescription",defaultMessage:"Source with { id } was not found. Try it again later."},{id:e})})),R(!0)}))}),[n,v,g]),b&&!r?i().createElement(c.Redirect,{to:p._j.sources.path}):null}},29499:(e,t,r)=>{"use strict";r.d(t,{E:()=>s});var n=r(87016),s=function(){var e=(0,n.useSelector)((function(e){var t=e.user;return{orgAdmin:null==t?void 0:t.isOrgAdmin,writePermissions:null==t?void 0:t.writePermissions}})),t=e.orgAdmin,r=e.writePermissions;if("boolean"==typeof t||"boolean"==typeof r)return!!t||!!r}},17254:(e,t,r)=>{"use strict";r.d(t,{W:()=>s});var n=r(87016),s=function(){return(0,n.useSelector)((function(e){return e.sources.loaded}))<=0}},66187:(e,t,r)=>{"use strict";r.d(t,{L:()=>o});var n=r(87016),s=r(47194),o=function(){var e=(0,s.useParams)().id;return(0,n.useSelector)((function(t){return t.sources.entities.find((function(t){return t.id===e}))}))}}}]);
//# sourceMappingURL=338.e3189ba5792263080b53.js.map