(self.webpackChunksources=self.webpackChunksources||[]).push([[3772],{96874:e=>{e.exports=function(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}},86556:(e,t,a)=>{var n=a(89465),i=a(77813);e.exports=function(e,t,a){(void 0!==a&&!i(e[t],a)||void 0===a&&!(t in e))&&n(e,t,a)}},28483:(e,t,a)=>{var n=a(25063)();e.exports=n},42980:(e,t,a)=>{var n=a(46384),i=a(86556),s=a(28483),o=a(59783),r=a(13218),c=a(81704),u=a(36390);e.exports=function e(t,a,l,p,d){t!==a&&s(a,(function(s,c){if(d||(d=new n),r(s))o(t,a,c,l,e,p,d);else{var m=p?p(u(t,c),s,c+"",t,a,d):void 0;void 0===m&&(m=s),i(t,c,m)}}),c)}},59783:(e,t,a)=>{var n=a(86556),i=a(64626),s=a(77133),o=a(278),r=a(38517),c=a(35694),u=a(1469),l=a(29246),p=a(44144),d=a(23560),m=a(13218),f=a(68630),h=a(36719),y=a(36390),g=a(59881);e.exports=function(e,t,a,v,_,M,T){var A=y(e,a),w=y(t,a),b=T.get(w);if(b)n(e,a,b);else{var E=M?M(A,w,a+"",e,t,T):void 0,x=void 0===E;if(x){var C=u(w),S=!C&&p(w),Z=!C&&!S&&h(w);E=w,C||S||Z?u(A)?E=A:l(A)?E=o(A):S?(x=!1,E=i(w,!0)):Z?(x=!1,E=s(w,!0)):E=[]:f(w)||c(w)?(E=A,c(A)?E=g(A):m(A)&&!d(A)||(E=r(w))):x=!1}x&&(T.set(w,E),_(E,w,v,M,T),T.delete(w)),n(e,a,E)}}},5976:(e,t,a)=>{var n=a(6557),i=a(45357),s=a(30061);e.exports=function(e,t){return s(i(e,t,n),e+"")}},56560:(e,t,a)=>{var n=a(75703),i=a(38777),s=a(6557),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:s;e.exports=o},21463:(e,t,a)=>{var n=a(5976),i=a(16612);e.exports=function(e){return n((function(t,a){var n=-1,s=a.length,o=s>1?a[s-1]:void 0,r=s>2?a[2]:void 0;for(o=e.length>3&&"function"==typeof o?(s--,o):void 0,r&&i(a[0],a[1],r)&&(o=s<3?void 0:o,s=1),t=Object(t);++n<s;){var c=a[n];c&&e(t,c,n,o)}return t}))}},25063:e=>{e.exports=function(e){return function(t,a,n){for(var i=-1,s=Object(t),o=n(t),r=o.length;r--;){var c=o[e?r:++i];if(!1===a(s[c],c,s))break}return t}}},16612:(e,t,a)=>{var n=a(77813),i=a(98612),s=a(65776),o=a(13218);e.exports=function(e,t,a){if(!o(a))return!1;var r=typeof t;return!!("number"==r?i(a)&&s(t,a.length):"string"==r&&t in a)&&n(a[t],e)}},45357:(e,t,a)=>{var n=a(96874),i=Math.max;e.exports=function(e,t,a){return t=i(void 0===t?e.length-1:t,0),function(){for(var s=arguments,o=-1,r=i(s.length-t,0),c=Array(r);++o<r;)c[o]=s[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=s[o];return u[t]=a(c),n(e,this,u)}}},36390:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},30061:(e,t,a)=>{var n=a(56560),i=a(21275)(n);e.exports=i},21275:e=>{var t=Date.now;e.exports=function(e){var a=0,n=0;return function(){var i=t(),s=16-(i-n);if(n=i,s>0){if(++a>=800)return arguments[0]}else a=0;return e.apply(void 0,arguments)}}},75703:e=>{e.exports=function(e){return function(){return e}}},6557:e=>{e.exports=function(e){return e}},29246:(e,t,a)=>{var n=a(98612),i=a(37005);e.exports=function(e){return i(e)&&n(e)}},68630:(e,t,a)=>{var n=a(44239),i=a(85924),s=a(37005),o=Function.prototype,r=Object.prototype,c=o.toString,u=r.hasOwnProperty,l=c.call(Object);e.exports=function(e){if(!s(e)||"[object Object]"!=n(e))return!1;var t=i(e);if(null===t)return!0;var a=u.call(t,"constructor")&&t.constructor;return"function"==typeof a&&a instanceof a&&c.call(a)==l}},82492:(e,t,a)=>{var n=a(42980),i=a(21463)((function(e,t,a){n(e,t,a)}));e.exports=i},59881:(e,t,a)=>{var n=a(98363),i=a(81704);e.exports=function(e){return n(e,i(e))}},95290:(e,t,a)=>{"use strict";a.d(t,{K_:()=>s,yH:()=>o});var n=a(63367),i=a(90573);const s=e=>e.url||null===e.url?(e=>{if(null===e)return{scheme:null,host:null,port:null,path:null};if(!e)return{};try{const t=new URL(e),a=t.protocol.replace(/:$/,"");return{scheme:a,host:t.hostname,port:""===t.port?(0,n.bF)(a):t.port,path:t.pathname}}catch(e){return{}}})(e.url):e.endpoint?e.endpoint:e,o=(e,t,a)=>{const n=[];if(t.source&&n.push((0,i.Rj)().updateSource(e.source.id,t.source)),t.endpoint||t.url||null===t.url){const{scheme:a,host:o,port:r,path:c}=s(t),u=null===r?null:parseInt(r,10),l={scheme:a,host:o,path:c,port:null===u?null:isNaN(u)?void 0:u,...t.endpoint};n.push((0,i.Rj)().updateEndpoint(e.endpoints[0].id,l))}return t.authentications&&Object.keys(t.authentications).forEach((e=>{const a=e.replace("a","");n.push((0,i.Rj)().updateAuthentication(a,t.authentications[e]))})),t.applications&&Object.keys(t.applications).forEach((e=>{const t=e.replace("a","");n.push((0,i.Rj)().updateApplication(t,{extra:a.applications[e].extra}))})),Promise.all(n)}},85556:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>we,onSubmit:()=>Te});var n=a(28416),i=a.n(n),s=a(49881),o=a(86706),r=a(86896),c=a(41609),u=a.n(c),l=a(49288),p=a(67850),d=a(31665),m=a(85017),f=a(96354),h=a(64129),y=a(58104),g=a(27361),v=a.n(g),_=a(64124);var M=a(33646);var T=a(45697),A=a.n(T),w=a(48880);const b=({authenticationValues:e})=>{const t=(0,w.default)(),a=t.getState().values.selectedAuthentication,[i,s]=(0,n.useState)(a);return(0,n.useEffect)((()=>{i!==a&&((({formOptions:e,authenticationValues:t,selectedAuthentication:a})=>{if(a.startsWith("new-")){const t=a.replace("new-","");e.change("authentication",{authtype:t})}else{const n=t.find((({id:e})=>e===a));e.change("authentication",n)}})({formOptions:t,authenticationValues:e,selectedAuthentication:a}),s(void 0))}),[a]),null};b.propTypes={authenticationValues:A().arrayOf(A().object)};const E=({applicationTypeName:e,authenticationTypeName:t})=>{const a=(0,r.Z)();return i().createElement(h.TextContent,null,i().createElement(h.Text,{component:h.TextVariants.p},a.formatMessage({id:"sources.selectAuthenticationDescription",defaultMessage:"Selected application { applicationTypeName } supports { authenticationTypeName } authentication type. You can use already defined authentication values or define new."},{applicationTypeName:e,authenticationTypeName:t})))};E.propTypes={applicationTypeName:A().string,authenticationTypeName:A().string};const x=({authenticationValues:e,supportedAuthTypeName:t,supportedAuthType:a,applicationTypes:n,source:i})=>e.filter((({authtype:e})=>e===a)).map((e=>{const a=e.username?`-${e.username}`:"",s=i.applications.find((({authentications:t})=>t.find((({id:t})=>t===e.id)))),o=s&&s.application_type_id?n.find((({id:e})=>e===s.application_type_id)):"",r=o?`-${o.display_name}`:`-unused-${e.id}`;return{label:`${t}${a}${r}`,value:e.id}})),C=()=>{const e=(0,r.Z)();return i().createElement(h.TextContent,null,i().createElement(h.Text,{component:h.TextVariants.p},e.formatMessage({id:"sources.reviewAddAppSummary",defaultMessage:"Review the information below and click Add to add the application to your source. Use the Back button to make changes."})))},S=(e,t,a,n,i,s,o,r,c,u)=>{let l,p,d,m=[];if(!i.imported){const s=t.schema.endpoint?.hidden?t.schema.endpoint?.fields:[],o=void 0!==t.schema.endpoint&&0===s.length,r=!a.supported_authentication_types[t.name]||0===a.supported_authentication_types[t.name].length,h=r?[M.Z.type]:a.supported_authentication_types[t.name],g=r?[M.Z]:t.schema.authentication;a.supported_source_types.includes(t.name)&&h.forEach((n=>{m.push(((e,t,a,n,i,s,o)=>{let r=[...a];const c=e.schema.endpoint&&!e.schema.enpoint?.hidden;y.GN(e.name,n,t.name)&&(r=[]);const u=[...e.schema.authentication,s?M.Z:void 0].find((({type:e})=>e===n)),l=`${e.name}-${n}-${t.name}-additional-step`,p=y.QW(e.name,n,t.name),d=y.G$(e.name,n,t.name);let m;m=y.Z$(e.name,n,t.name,o).length>0?l:0===a.length&&!p&&c?`${e.name}-endpoint`:"summary";const f=y.gF(e.name,n,t.name);let h={};if(y.pD(e.name,n,t.name)){const i=y.Z$(e.name,n,t.name,o).find((({name:e})=>!e)),s=y.zi(u.fields,l);m=i.nextStep?i.nextStep:0!==a.length||p||d||!c?"summary":`${e.name}-endpoint`,h={...i,fields:[...r,...y.Ow([...i.fields,...s],e.name,n,t.name)]}}return{name:`${e.name}-${t.id}-${n}`,title:i.formatMessage({id:"sources.configureCredentials",defaultMessage:"Configure credentials"}),fields:[...r,...y.YD(e.name,n,t.name),...y.Ow(y.sM(u.fields,f),e.name,n,t.name)],nextStep:m,...h}})(t,a,s,n,e,r,u))})),g.forEach((e=>{if(a.supported_source_types.includes(t.name)){const n=y.Z$(t.name,e.type,a.name,u);n.length>0&&m.push(...y.YV(n,t.name,e.type,o,e.fields,a.name))}})),o&&m.push(y.TC(t.schema.endpoint,t.name)),l=m[0],p=a?.supported_authentication_types[t.name]?.length>1,p&&(l=((e,t,a,n)=>({name:`selectAuthType-${t.id}`,title:a.formatMessage({id:"sources.selectAuthenticationTitle",defaultMessage:"Select authentication type"}),fields:[{component:f.Z.RADIO,name:"authtype",options:t.supported_authentication_types[e.name].map((t=>({value:t,label:e.schema.authentication.find((e=>e.type===t))?.name||"Unknown type"}))),isRequired:!0,validate:[{type:_.Z.REQUIRED}]}],nextStep:({values:{application:t,authtype:a}})=>{if(a)return n.find((e=>e.authtype===a))?"selectAuthentication":`${e.name}-${t&&t.application_type_id}-${a}`}}))(t,a,e,n)),d=((e=[],t,a)=>e.find((({authtype:e})=>e===v()(t,`supported_authentication_types.${a}[0]`))))(n,a,t.name),d&&(l=(({intl:e,source:t,authenticationValues:a,sourceType:n,app:i,applicationTypes:s})=>{const o=[{component:"description",name:"authtypesetter",Content:b,authenticationValues:a,hideField:!0}],r=i.supported_source_types.includes(n.name),c=!t.applications?.find((({application_type_id:e})=>e===i.id));return r&&c&&v()(i,`supported_authentication_types[${n.name}]`,[]).forEach((r=>{if(a.find((({authtype:e})=>e===r))){const c=v()(n,"schema.authentication",{}).find((({type:e})=>e===r)).name;o.push({component:f.Z.SUB_FORM,name:`${i.name}-subform`,fields:[{name:`${i.name}-select-authentication-summary`,component:"description",Content:E,applicationTypeName:i.display_name,authenticationTypeName:c},{component:f.Z.RADIO,name:"selectedAuthentication",label:e.formatMessage({id:"sources.selectAuthenticationTitle",defaultMessage:"Select authentication"}),isRequired:!0,validate:[{type:_.Z.REQUIRED}],options:[{label:e.formatMessage({id:"sources.selectAuthenticationradioLabel",defaultMessage:"Define new { supportedAuthTypeName }"},{supportedAuthTypeName:c}),value:`new-${r}`},...x({authenticationValues:a,supportedAuthTypeName:c,supportedAuthType:r,applicationTypes:s,source:t})]}]})}})),{name:"selectAuthentication",title:e.formatMessage({id:"sources.selectAuthenticationTitle",defaultMessage:"Select authentication"}),fields:o,nextStep:({values:{authtype:e,authentication:t}})=>`${n.name}-${i.id}-${e||t?.authtype}`}})({intl:e,source:i,authenticationValues:n,sourceType:t,app:a,applicationTypes:c}))}const h={component:f.Z.TEXT_FIELD,name:"application.application_type_id",hideField:!0,initialValue:a.id};return{fields:[{component:f.Z.WIZARD,className:"sources",name:"wizard",title:o,inModal:!0,container:s,showTitles:!0,crossroads:["selectedAuthentication","authtype"],description:r,closeButtonAriaLabel:e.formatMessage({id:"wizard.close",defaultMessage:"Close wizard"}),buttonLabels:{submit:e.formatMessage({id:"sources.add",defaultMessage:"Add"}),cancel:e.formatMessage({id:"sources.cancel",defaultMessage:"Cancel"}),back:e.formatMessage({id:"sources.back",defaultMessage:"Back"})},fields:[...i.imported?[]:[{...l,fields:[...l.fields,h]}],{title:e.formatMessage({id:"sources.reviewDetails",defaultMessage:"Review details"}),name:"summary",fields:[{component:"description",name:"description-summary",Content:C},{component:"summary",name:"summary",sourceTypes:[t],applicationTypes:[a]},...i.imported?[h]:[]]},...d||p?m:m.splice(1)]}]}};var Z=a(46985);const R=({step:e,goToSources:t,title:a,description:n})=>i().createElement(Z.e,{isOpen:!0,onClose:t,title:a,description:n,steps:[{name:"Finish",component:e,isFinishedStep:!0}]});R.propTypes={step:T.PropTypes.node.isRequired,goToSources:T.PropTypes.func.isRequired,title:T.PropTypes.string,description:T.PropTypes.string};const j=R;var O=a(90573),V=a(97979),$=a(15185),N=a(63367),k=a(87281);const D=e=>e instanceof Date,z=e=>0===Object.keys(e).length,F=e=>null!=e&&"object"==typeof e,L=(e,...t)=>Object.prototype.hasOwnProperty.call(e,...t),P=e=>F(e)&&z(e),B=()=>Object.create(null),I=(e,t)=>e!==t&&F(e)&&F(t)?Object.keys(t).reduce(((a,n)=>{if(L(e,n)){const i=I(e[n],t[n]);return F(i)&&z(i)||(a[n]=i),a}return a[n]=t[n],a}),B()):{},U=I,W=(e,t)=>e===t?{}:F(e)&&F(t)?D(e)||D(t)?e.valueOf()==t.valueOf()?{}:t:Object.keys(t).reduce(((a,n)=>{if(L(e,n)){const i=W(e[n],t[n]);return!P(i)||D(i)||!P(e[n])&&P(t[n])?(a[n]=i,a):a}return a}),B()):t,Y=W;var q=a(82492),Q=a.n(q),G=a(50361),K=a.n(G),H=a(95290),X=a(5454),J=a(5495),ee=a(75614);const te=e=>(Object.keys(e).forEach((t=>{e[t]&&"object"==typeof e[t]?u()(e[t])?delete e[t]:te(e[t]):void 0===e[t]&&delete e[t]})),e);var ae=a(85490);const ne={state:"loading",error:"",values:{},authenticationsValues:[],sourceAppsLength:0,initialValues:{},isCancelling:!1},ie=(e,{type:t,length:a,authenticationsValues:n,initialValues:i,error:s,values:o,data:r,formApi:c})=>{switch(t){case"setSourceAppslength":return{...e,sourceAppsLength:a};case"loadAuthentications":return{...e,authenticationsValues:n,initialValues:i,values:{},state:"loading"===e.state?"wizard":e.state};case"loadWithoutAuthentications":return{...e,initialValues:i,values:{},state:"loading"===e.state?"wizard":e.state};case"reset":return{...e,state:"wizard"};case"submit":return{...e,values:o,formApi:c,state:"submitting"};case"finish":return{...e,state:"finished",data:r};case"error":return{...e,state:"errored",error:s};case"toggleCancelling":return{...e,isCancelling:!e.isCancelling,...o&&{values:o}};default:return e}};var se=a(11454),oe=a(76285);const re=(e,t)=>{if(e===t)return{};if(!F(e)||!F(t))return t;const a=Object.keys(e).reduce(((e,a)=>(L(t,a)||(e[a]=void 0),e)),B());return D(e)||D(t)?e.valueOf()==t.valueOf()?{}:t:Object.keys(t).reduce(((a,n)=>{if(!L(e,n))return a[n]=t[n],a;const i=re(e[n],t[n]);return!P(i)||D(i)||!P(e[n])&&P(t[n])?(a[n]=i,a):a}),a)},ce=re;var ue=a(26946),le=a(27552),pe=a(85779),de=a(93759),me=a(54243),fe=a(16872),he=a(12567),ye=a(29494),ge=a(95772),ve=a(84414),_e=a(96380),Me=a(95111);const Te=(e,t,a,n,i,s,o,r)=>(i({type:"submit",values:e,formApi:t}),(async(e,t,a,n,i=[])=>{let s;const o=t.getState().values,r=o.authentication?.id,c=r&&a.find((({id:e})=>e===r)),{authentication:l,...p}=e,d=U(n,p),m=Y(n,p),f=U(c,l),h=Y(c,l),y=te({...Q()(K()(d),m),authentication:{...Q()(K()(f),h)}});try{if(!o?.source?.id)throw"Missing source id";const e=new Date,t=o.source.id;let a=o?.endpoint?.id;const n=[];y.source&&!u()(y.source)?n.push((0,O.Rj)().updateSource(t,y.source)):n.push(Promise.resolve(void 0));const c=y.endpoint&&!u()(y.endpoint),l=y.url&&!u()(y.url);if(c||l){const{scheme:e,host:i,port:s,path:o}=(0,H.K_)(y),r=parseInt(s,10),c=te({...y.endpoint,scheme:e,host:i,port:isNaN(r)?void 0:r,path:o});if(a)n.push((0,O.Rj)().updateEndpoint(a,c));else{const e={...c,default:!0,source_id:t};n.push((0,O.Rj)().createEndpoint(e))}}else n.push(Promise.resolve(void 0));if(y.application?.application_type_id){const e={...y.application,source_id:t};n.push((0,O.Cu)(e))}else n.push(Promise.resolve(void 0));const[p,d,m]=await Promise.all(n);let f;if(s=m?.id,y.authentication&&!u()(y.authentication)&&y.authentication.authtype!==M.Z.type)if(r)f=await(0,O.Rj)().updateAuthentication(r,y.authentication);else{const e={...y.authentication,resource_id:d?.id||m?.id,resource_type:d?.id?"Endpoint":"Application"};f=await(0,O.Rj)().createAuthentication(e)}const h=r||f?.id;if(m?.id&&h){const e={application_id:m.id,authentication_id:h};await(0,O.Rj)().createAuthApp(e)}let g;if(a&&(g=await(0,X.h)(a,void 0,void 0,"getEndpoint",e)),m){const e=(0,ee.T2)(i).includes(m.application_type_id)?1e4:0,t=await(0,X.h)(m.id,e);return{id:t.id,applications:[t],...g&&{endpoint:[g]}}}return{}}catch(e){throw console.error(e),s&&await(0,O.Rj)().deleteApplication(s),await(0,J.Z)(e)}})(e,t,a,s,o).then((async e=>((0,ae.n)(s.source.id),await n((0,d.il)()),r({values:{application:null}}),i({type:"finish",data:e})))).catch((e=>i({type:"error",error:e})))),Ae=e=>i().createElement(p.ZP,{...e,showFormControls:!1}),we=()=>{const e=(0,r.Z)(),t=(0,ve.a)(),a=(0,n.useRef)(),c=(0,l.useFlag)("sources.wizard.lighthouse"),p=({values:{application:e}})=>a.current=e,{app_type_id:d}=(0,s.useParams)(),f=(0,$.W)(),{appTypes:y,sourceTypesLoaded:g,appTypesLoaded:v,sourceTypes:_}=(0,o.v9)((({sources:e})=>e),o.wU),M=(0,V.L)(),T=(0,o.I0)(),[A,w]=(0,n.useReducer)(ie,ne),b=(0,n.useRef)(document.createElement("div")),E=y.find((({id:e})=>e===d)),x=()=>(w({type:"reset"}),(0,oe.Z)({id:A.data?.id,display_name:y.find((({id:e})=>e===A.data?.applications?.[0]?.application_type_id))?.display_name},e,void 0,T,M));(0,n.useEffect)((()=>{if(M){const e=A.sourceAppsLength>=M.applications.length&&A.sourceAppsLength>0;w({type:"setSourceAppslength",length:M.applications.length}),e||(M.endpoints&&M.endpoints[0]?(0,O.Rj)().listEndpointAuthentications(M.endpoints[0].id).then((({data:e})=>w({type:"loadAuthentications",authenticationsValues:e,initialValues:{source:M,endpoint:M.endpoints[0],url:(0,N.Fd)(M.endpoints[0]),application:a.current},values:{}}))):w({type:"loadWithoutAuthentications",initialValues:{source:M,application:a.current},values:{}}))}}),[M]);const C=()=>t((0,k.yS)(k._j.sourcesDetail.path,M.id)),Z=e.formatMessage({id:"sources.addApplicationNameTitle",defaultMessage:"Connect {appName}"},{appName:E?.display_name||"application"}),R=e.formatMessage({id:"sources.addApplicationNameDescription",defaultMessage:"Configure {appName} for this source."},{appName:E?.display_name||"application"});if(!(v&&g&&f&&"loading"!==A.state||"submitting"===A.state))return i().createElement(j,{goToSources:C,title:Z,description:R,step:i().createElement(ue.Z,{customText:e.formatMessage({id:"sources.loading",defaultMessage:"Loading, please wait."}),cancelTitle:e.formatMessage({id:"sources.close",defaultMessage:"Close"}),onClose:C})});const D=(e,t)=>Te(e,t,A.authenticationsValues,T,w,A.initialValues,y,p);if("submitting"===A.state)return i().createElement(j,{title:Z,description:R,goToSources:C,step:i().createElement(ue.Z,{cancelTitle:e.formatMessage({id:"sources.close",defaultMessage:"Close"}),onClose:C,customText:e.formatMessage({id:"wizard.loadingText",defaultMessage:"Validating credentials"}),description:e.formatMessage({id:"wizard.loadingDescription",defaultMessage:"This could take a minute. If you prefer not to wait, close this dialog and the process will continue."})})});const z=()=>w({type:"reset"}),F=_.find((e=>e.id===M.source_type_id));if("wizard"!==A.state){let t;if("finished"!==A.state)t=i().createElement(le.Z,{onRetry:z,onClose:C,returnButtonTitle:e.formatMessage({id:"sources.retry",defaultMessage:"Retry"}),primaryAction:()=>D(A.values,A.formApi),secondaryActions:i().createElement(h.Text,{component:"a",target:"_blank",href:"https://access.redhat.com/support/cases/#/case/new/open-case?caseCreate=true",rel:"noopener noreferrer"},e.formatMessage({id:"wizard.openTicket",defaultMessage:"Open a support case"}))});else switch((0,fe.Z)(A.data)){default:t="amazon"===F.name?i().createElement(pe.Z,{onClose:C}):i().createElement(de.Z,{title:e.formatMessage({id:"sources.configurationSuccessful",defaultMessage:"Configuration successful"}),hideSourcesButton:!0,onClose:C,returnButtonTitle:e.formatMessage({id:"sources.exit",defaultMessage:"Exit"}),successfulMessage:e.formatMessage({id:"sources.successAddApp",defaultMessage:"Your application was successfully added."})});break;case"unavailable":t=i().createElement(le.Z,{onRetry:z,onClose:C,message:(0,ye.Z)(A.data,e),title:e.formatMessage({id:"sources.configurationSuccessful",defaultMessage:"Configuration unsuccessful"}),secondaryActions:i().createElement(se.Button,{variant:"link",onClick:x},e.formatMessage({id:"wizard.removeApp",defaultMessage:"Remove application"})),Component:()=>i().createElement(_e.Z,{to:(0,k.yS)(k._j.sourcesDetail.path,M.id)},i().createElement(se.Button,{variant:"primary",className:"pf-u-mt-xl"},e.formatMessage({id:"wizard.editSource",defaultMessage:"Edit source"})))});break;case"timeout":t=i().createElement(me.Z,{returnButtonTitle:e.formatMessage({id:"sources.exit",defaultMessage:"Exit"}),onClose:C})}return i().createElement(j,{title:Z,description:R,goToSources:C,step:t})}const L=F&&F.name,P=y.filter((e=>e.supported_source_types.includes(L))).filter(he.Z).map((e=>({value:e.id,label:e.display_name})));if(!E||M.applications.find((({application_type_id:e})=>e===d))||!E.supported_source_types.includes(F.name))return i().createElement(Me.Z,{to:"/"+(0,k.yS)(k._j.sourcesDetail.path,M.id)});const B=S(e,F,E,A.authenticationsValues,M,b.current,Z,R,y,c),I=P.length>0?D:C;return i().createElement(i().Fragment,null,A.isCancelling&&i().createElement(ge.Z,{title:e.formatMessage({id:"sources.manageAppsCloseModalTitle",defaultMessage:"Exit application adding?"}),onStay:()=>{b.current.style.opacity=1,b.current.setAttribute("aria-hidden","false"),w({type:"toggleCancelling"})},onExit:C}),i().createElement(m.Z,{schema:B,showFormControls:!1,onSubmit:I,onCancel:e=>{const{application:t,...a}=A.initialValues,{application:n,...i}=e;u()(ce(a,i))?C():(b.current.style.opacity=0,b.current.setAttribute("aria-hidden","true"),w({type:"toggleCancelling",values:e}))},initialValues:A.initialValues,subscription:{values:!0},debug:p,clearedValue:null,FormTemplate:Ae}))}},76285:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var n=a(31665);const i=(e,t,a,i,s)=>{const o=t.formatMessage({id:"sources.removeAppWarning",defaultMessage:"{ name } was removed from this source."},{name:e.display_name}),r=t.formatMessage({id:"sources.removeAppError",defaultMessage:"Removing of { name } application from this source was unsuccessful."},{name:e.display_name});return a&&a(),i((0,n.Yn)(e.id,s.id,o,r))}},84414:(e,t,a)=>{"use strict";a.d(t,{a:()=>s});var n=a(49881),i=a(78116);const s=()=>{const e=(0,n.useNavigate)();return(t,a)=>e((0,i.n)(t,i.d),a)}}}]);
//# sourceMappingURL=../sourcemaps/3772.3a01bdf065f4cc0deee81c10fcc0bf09.js.map