"use strict";(self.webpackChunksources_ui=self.webpackChunksources_ui||[]).push([[485],{56638:(e,t,r)=>{r.d(t,{Z:()=>d});var a=r(87462),n=r(29439),l=r(45987),c=r(96985),o=r.n(c),s=r(45697),i=r.n(s),u=r(98583),p=["src"],m=function(e){var t=e.src,r=(0,l.Z)(e,p),s=(0,c.useState)(!1),i=(0,n.Z)(s,2),m=i[0],d=i[1];return o().createElement(o().Fragment,null,!m&&o().createElement(u.aN,(0,a.Z)({height:"40px",width:"110px"},r)),o().createElement("img",(0,a.Z)({src:t,onLoad:function(){return d(!0)},style:{display:m?"initial":"none"}},r)))};m.propTypes={src:i().string.isRequired};const d=m},21298:(e,t,r)=>{r.r(t),r.d(t,{default:()=>j});var a=r(29439),n=r(96985),l=r.n(n),c=r(46731),o=r(36557),s=r(56638);const i=function(e){return l().createElement(c.Card,{isFlat:!0,className:"marketplace-card"},l().createElement(c.CardTitle,{className:"pf-u-pl-md pf-u-pr-md"},l().createElement(s.Z,{src:e.logo_url,className:"marketplace-card-icon"}),l().createElement("br",null),e.title,l().createElement("br",null),l().createElement(c.Label,{className:"pf-u-mt-sm marketplace-label",icon:l().createElement(o.DatabaseIcon,null)},e.primary_category.display_name)),l().createElement(c.CardBody,{className:"marketplace-card-body pf-u-mb-md pf-u-pl-md pf-u-pr-md",isFilled:!0},e.description_short),l().createElement(c.CardFooter,{className:"pf-u-pl-md pf-u-pr-md pf-u-pb-md"},l().createElement(c.Button,{variant:"link",isInline:!0,icon:l().createElement(o.ExternalLinkAltIcon,null),iconPosition:"right",component:"a",href:e.product_page_url,rel:"noopener noreferrer",target:"_blank"},"Add"," ")))};var u=r(15861),p=r(87757),m=r.n(p),d=r(4138),f="/api/marketplace-gateway/v1",E=function(){var e=(0,u.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.be.get("".concat(f,"/unstable")));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=(0,u.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.be.get("".concat(f,"/categories")));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=r(45697),y=r.n(b),v=r(87462),k=r(4942),h=r(90111),O=r.n(h);const C=function(){return l().createElement(c.Card,{isFlat:!0,className:"marketplace-card"},l().createElement(c.CardTitle,null,l().createElement(c.Skeleton,{role:"progressbar"})),l().createElement(c.CardBody,null,l().createElement(c.Skeleton,{role:"progressbar"})),l().createElement(c.CardFooter,null,l().createElement(c.Skeleton,{role:"progressbar"})))};function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N=function(e){return{page:1,perPage:10,itemCount:(null==e?void 0:e.length)||0,filters:{type:["database"]},categories:null,isLoading:!0}},w=function(e,t){var r=t.type,a=t.payload;switch(r){case"SET_PAGE":return _(_({},e),{},{page:a});case"SET_PER_PAGE":return _(_({},e),{},{page:1,perPage:a});case"LOAD_CATEGORIES":return _(_({},e),{},{categories:a,isLoading:!1})}},S=function(e){return{database:"Database"}[e]||e},x=function(e){var t,r=e.data,s=e.isOpen,u=e.onClose,p=(0,n.useReducer)(w,r,N),m=(0,a.Z)(p,2),d=m[0],f=m[1];return(0,n.useEffect)((function(){s&&g().then((function(e){var t=e.data;return f({type:"LOAD_CATEGORIES",payload:t})}))}),[s]),l().createElement(c.Modal,{className:"sources",onClose:u,isOpen:s,title:"Browse catalog",description:l().createElement("span",null,"A curated selection of offerings available for purchase from"," ",l().createElement("a",{href:"https://sandbox.marketplace.redhat.com",target:"_blank",rel:"noopener noreferrer"},"Red Hat Marketplace ",l().createElement(o.ExternalLinkAltIcon,null))),variant:"large"},d.isLoading&&l().createElement("div",{className:"pf-u-mb-md marketplace-flex"},l().createElement(C,null),l().createElement(C,null)),!d.isLoading&&l().createElement(l().Fragment,null,l().createElement(O(),{useMobileLayout:!0,className:"marketplace-modal-toolbar",pagination:{itemCount:d.itemCount,page:d.page,perPage:d.perPage,onSetPage:function(e,t){return f({type:"SET_PAGE",payload:t})},onPerPageSelect:function(e,t){return f({type:"SET_PER_PAGE",payload:t})},"data-testid":"pagination"},filterConfig:{items:[{label:"Type",placeholder:"Filter by product type",type:"checkbox",filterValues:{value:["database"],items:d.categories.map((function(e){return{label:e.display_name,value:e.page_name,isDisabled:!0}}))}}]},activeFiltersConfig:{showDeleteButton:!1,filters:(t=d.filters,Object.keys(t).map((function(e){var r;return t[e]&&0!==(null===(r=t[e])||void 0===r?void 0:r.length)?function(e,t){return{type:{category:"Type",chips:t.map((function(e){return{name:S(e)}}))}}[e]||{category:e,chips:t.map((function(e){return{name:e}}))}}(e,t[e]):null})).filter(Boolean))}}),l().createElement("div",{className:"pf-u-mb-md marketplace-flex"},r.map((function(e){return l().createElement(i,(0,v.Z)({key:e.id},e))})))))};x.propTypes={data:y().array,isOpen:y().bool,onClose:y().func};const T=x;var F=function(e){var t=e.data,r=(0,n.useState)(!1),o=(0,a.Z)(r,2),s=o[0],i=o[1];return l().createElement(l().Fragment,null,l().createElement(T,{onClose:function(){return i(!1)},data:t,isOpen:s}),l().createElement(c.Card,{isFlat:!0,className:"marketplace-card marketplace-seemore-card"},l().createElement(c.CardBody,{isFilled:!0,className:"pf-u-pl-md pf-u-pr-md card-text"},"Not what youâ€™re looking for? Browse the catalog to see more offerings from Red Hat Marketplace."),l().createElement(c.CardFooter,{className:"pf-u-pl-md pf-u-pr-md pf-u-pb-md"},l().createElement(c.Button,{variant:"primary",onClick:function(){return i(!0)}},"See more databases"))))};F.propTypes={data:y().array};const Z=F,j=function(){var e=(0,n.useState)(),t=(0,a.Z)(e,2),r=t[0],o=t[1];return(0,n.useEffect)((function(){E().then((function(e){var t=e.data;return o(t)}))}),[]),r?l().createElement("div",{className:"sources"},l().createElement(c.Title,{headingLevel:"h4",size:"xl",className:"pf-u-mb-md"},"Recommended services"),l().createElement("div",{className:"pf-u-mb-md marketplace-flex"},l().createElement(i,r.find((function(e){return"mongodb-enterprise-advanced"===(null==e?void 0:e.product_page_name)}))||r[0]),l().createElement(Z,{data:r}))):l().createElement("div",{className:"pf-u-mb-md marketplace-flex"},l().createElement(C,null),l().createElement(C,null))}}}]);
//# sourceMappingURL=../sourcemaps/485.e6daf8c0a798ffa8354d800ae6ab75ba.js.map