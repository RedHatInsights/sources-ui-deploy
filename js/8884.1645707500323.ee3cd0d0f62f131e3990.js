/*! For license information please see 8884.1645707500323.ee3cd0d0f62f131e3990.js.LICENSE.txt */
(self.webpackChunksources_ui=self.webpackChunksources_ui||[]).push([[8884],{23405:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={TEXT_FIELD:"text-field",FIELD_ARRAY:"field-array",CHECKBOX:"checkbox",SUB_FORM:"sub-form",RADIO:"radio",TABS:"tabs",TAB_ITEM:"tab-item",DATE_PICKER:"date-picker",TIME_PICKER:"time-picker",WIZARD:"wizard",SWITCH:"switch",TEXTAREA:"textarea",SELECT:"select",PLAIN_TEXT:"plain-text",BUTTON:"button",INPUT_ADDON_GROUP:"input-addon-group",INPUT_ADDON_BUTTON_GROUP:"input-addon-button-group",DUAL_LIST_SELECT:"dual-list-select",SLIDER:"slider"}},54111:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={REQUIRED:"required",MIN_LENGTH:"min-length",MAX_LENGTH:"max-length",EXACT_LENGTH:"exact-length",MIN_ITEMS:"min-items",MIN_NUMBER_VALUE:"min-number-value",MAX_NUMBER_VALUE:"max-number-value",PATTERN:"pattern",URL:"url"}},95957:(e,t,r)=>{"use strict";function n(){this.cache=Object.create(null)}n.prototype.get=function(e){return this.cache[e]},n.prototype.set=function(e,t){this.cache[e]=t}},82644:(e,t,r)=>{"use strict";r.d(t,{Z0:()=>n}),r(95957);var n={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:function(e){}}},60076:(e,t,r)=>{"use strict";r.d(t,{_j:()=>n,yS:()=>a}),r(92950),r(86235),r(98583);var n={sources:{path:"/sources"},sourcesNew:{path:"/sources/new",writeAccess:!0},sourcesRemove:{path:"/sources/remove/:id",redirectNoId:!0,writeAccess:!0},sourcesDetail:{path:"/sources/detail/:id",redirectNoId:!0},sourcesDetailRename:{path:"/sources/detail/:id/rename",redirectNoId:!0,writeAccess:!0,noPaused:!0},sourcesDetailRemove:{path:"/sources/detail/:id/remove",redirectNoId:!0,writeAccess:!0},sourcesDetailAddApp:{path:"/sources/detail/:id/add_app/:app_type_id",redirectNoId:!0,writeAccess:!0,noPaused:!0},sourcesDetailRemoveApp:{path:"/sources/detail/:id/remove_app/:app_id",redirectNoId:!0,writeAccess:!0,noPaused:!0},sourcesDetailEditCredentials:{path:"/sources/detail/:id/edit_credentials",redirectNoId:!0,writeAccess:!0}},a=function(e,t){return e.replace(":id",t)}},4138:(e,t,r)=>{"use strict";r.d(t,{be:()=>w,Rj:()=>O,TA:()=>k,uc:()=>T,Cu:()=>j,rL:()=>A,oI:()=>M,ye:()=>N});var n=r(4942),a=r(15861),o=r(29439),i=r(87757),c=r.n(i),s=r(35898),u=r.n(s),l=r(27361),p=r.n(l),d=r(36968),f=r.n(d),m=r(79477),y=r(17207),v=r(84866),h=r(4833),_=r(6407),b=r(63032);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=u().create();w.interceptors.request.use(y.w5),w.interceptors.response.use(y.xH),w.interceptors.response.use(null,y.Di),w.interceptors.response.use(null,y.ub),w.interceptors.response.use(null,y.ud),w.interceptors.response.use((function(e){return e.errors&&e.errors.length>0?Promise.reject({detail:e.errors[0].message}):e})),w.interceptors.response.use(null,(function(e){if(e.errors&&403===e.errors[0].status)return Promise.reject({detail:e.errors[0].detail,title:"Forbidden access"});throw e}));var O=function(){return{checkAvailabilitySource:function(e){return w.post("".concat(_.s,"/sources/").concat(e,"/check_availability"))},updateSource:function(e,t){return w.patch("".concat(_.s,"/sources/").concat(e),t)},updateEndpoint:function(e,t){return w.patch("".concat(_.s,"/endpoints/").concat(e),t)},createEndpoint:function(e){return w.post("".concat(_.s,"/endpoints"),e)},updateAuthentication:function(e,t){return w.patch("".concat(_.s,"/authentications/").concat(e),t)},createAuthentication:function(e){return w.post("".concat(_.s,"/authentications"),e)},showSource:function(e){return w.get("".concat(_.s,"/sources/").concat(e))},listSourceEndpoints:function(e){return w.get("".concat(_.s,"/sources/").concat(e,"/endpoints"))},listSourceApplications:function(e){return w.get("".concat(_.s,"/sources/").concat(e,"/applications"))},listEndpointAuthentications:function(e){return w.get("".concat(_.s,"/endpoints/").concat(e,"/authentications"))},deleteSource:function(e){return w.delete("".concat(_.s,"/sources/").concat(e))},createApplication:function(e){return w.post("".concat(_.s,"/applications"),e)},postGraphQL:function(e){return w.post("".concat(_.s,"/graphql"),e)},listSourceTypes:function(){return w.get("".concat(_.s,"/source_types"))},doLoadAppTypes:function(){return w.get("".concat(_.s,"/application_types"))},deleteApplication:function(e){return w.delete("".concat(_.s,"/applications/").concat(e))},createAuthApp:function(e){return w.post("".concat(_.s,"/application_authentications"),e)},deleteAuthentication:function(e){return w.delete("".concat(_.s,"/authentications/").concat(e))},showAuthentication:function(e){return w.get("".concat(_.s,"/authentications/").concat(e))},updateApplication:function(e,t){return w.patch("".concat(_.s,"/applications/").concat(e),t)},showApplication:function(e){return w.get("".concat(_.s,"/applications/").concat(e))},listSourceAuthentications:function(e){return w.get("".concat(_.s,"/sources/").concat(e,"/authentications"))},createSource:function(e){return w.post("".concat(_.s,"/sources"),e)},getEndpoint:function(e){return w.get("".concat(_.s,"/endpoints/").concat(e))},getGoogleAccount:function(){return w.get("".concat(_.s,"/app_meta_data?filter[name]=gcp_service_account"))},bulkCreate:function(e){return w.post("".concat(_.s,"/bulk_create"),e)},pauseApplication:function(e){return w.post("".concat(_.s,"/applications/").concat(e,"/pause"))},unpauseApplication:function(e){return w.post("".concat(_.s,"/applications/").concat(e,"/unpause"))},pauseSource:function(e){return w.post("".concat(_.s,"/sources/").concat(e,"/pause"))},unpauseSource:function(e){return w.post("".concat(_.s,"/sources/").concat(e,"/unpause"))}}},k=function(e){return O().deleteSource(e).catch((function(e){throw{error:{detail:e.errors[0].detail}}}))},P=function(e,t){return"limit:".concat(e,", offset:").concat((t-1)*e)},Z=function(e,t){return e?"source_type_id"===e?'sort_by:{source_type:{product_name:"'.concat(t,'"}}'):"applications"===e?'sort_by:{applications:{__count:"'.concat(t,'"}}'):"sort_by:{".concat(e,':"').concat(t,'"}'):""},S="\n    id,\n    created_at,\n    source_type_id,\n    name,\n    imported,\n    availability_status,\n    source_ref,\n    last_checked_at,\n    updated_at,\n    last_available_at,\n    app_creation_workflow,\n    paused_at,\n    authentications { authtype, username, availability_status_error, availability_status }\n    applications { application_type_id, id, availability_status_error, availability_status, paused_at, authentications { id, resource_type } },\n    endpoints { id, scheme, host, port, path, receptor_node, role, certificate_authority, verify_ssl, availability_status_error, availability_status, authentications { authtype, availability_status, availability_status_error } }\n",T=function(e){var t=e.pageSize,r=e.pageNumber,n=e.sortBy,a=e.sortDirection,o=function(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,o=[];n.name&&o.push('name: { contains_i: "'.concat(n.name,'" }')),(null===(e=n.source_type_id)||void 0===e?void 0:e.length)>0&&o.push("source_type_id: { eq: [".concat(n.source_type_id.map((function(e){return'"'.concat(e,'"')})).join(", "),"] }")),(null===(t=n.applications)||void 0===t?void 0:t.length)>0&&o.push("applications: { application_type_id: { eq: [".concat(n.applications.map((function(e){return'"'.concat(e,'"')})).join(", "),"] }}")),a===v.JL&&o.push('source_type: { vendor: { not_eq: "Red Hat"} }'),a===v.B0&&o.push('source_type: { vendor: "Red Hat" }');var i=null===(r=n.availability_status)||void 0===r?void 0:r[0];return i&&(i===h.Rl?o.push('availability_status: { eq: "'.concat(h.Rl,'" }')):i===h.nZ&&o.push('availability_status: { eq: ["'.concat(h.L,'", "').concat(h.nZ,'"] }'))),o.length>0?"filter: { ".concat(o.join(", ")," }"):""}(e.filterValue,e.activeVendor),i=[P(t,r),Z(n,a),o].join(",");return O().postGraphQL({query:"{ sources(".concat(i,")\n      { ").concat(S," },\n     sources_aggregate(").concat(o,"){aggregate{total_count}}\n    }")}).then((function(e){return e.data}))},j=function(e){return O().createApplication(e)},A=function(e,t){return O().deleteApplication(e).catch((function(e){var r=(0,o.Z)(e.errors,1)[0].detail;throw{error:{title:t,detail:r}}}))},M=function(e){return O().postGraphQL({query:"{ sources(filter: { id: { eq: ".concat(e,"}})\n            { ").concat(S," }\n        }")}).then((function(e){return e.data}))},N=function(){var e=(0,a.Z)(c().mark((function e(t,r,n){var a,o,i,s,u,l,d,y,v,h;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O().postGraphQL({query:"{ sources(filter: { id: { eq: ".concat(t,"}})\n          { source_type_id, applications {\n              application_type_id,\n              id,\n              availability_status_error,\n              availability_status,\n              paused_at,\n              authentications {\n                  id\n              }\n          } }\n      }")});case 2:return s=e.sent,u=[],null===(a=s.data.sources)||void 0===a||null===(o=a[0])||void 0===o||null===(i=o.applications)||void 0===i||i.forEach((function(e){u.push(O().showApplication(e.id))})),e.next=7,Promise.all(u);case 7:if(l=e.sent,d=n.find((function(e){var t,r;return e.id===(null===(t=s.data.sources)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.source_type_id)})),y=r.find((function(e){return e.name===m.f.COST_MANAGAMENT})),!l.length){e.next=18;break}v=c().mark((function e(r){var n,a,o,i,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l[r],a=n.extra,o=n.application_type_id,i=E({},a),o!==y.id||!b.ZV.includes(d.name)||Object.keys(a).length){e.next=7;break}return e.next=5,(0,b.xS)(t);case 5:u=e.sent,Object.keys(b.Iw).forEach((function(e){var t=p()(u,e);t&&f()(i,b.Iw[e],t)}));case 7:s.data.sources[0].applications[r]=E(E({},s.data.sources[0].applications[r]),{},{extra:i});case 8:case"end":return e.stop()}}),e)})),h=0;case 13:if(!(h<l.length)){e.next=18;break}return e.delegateYield(v(h),"t0",15);case 15:h++,e.next=13;break;case 18:return e.abrupt("return",s.data);case 19:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},98583:(e,t,r)=>{"use strict";r.d(t,{aN:()=>y,Xf:()=>v,mI:()=>h,sk:()=>_,X6:()=>g});var n=r(87462),a=r(45987),o=r(92950),i=r.n(o),c=r(45697),s=r.n(c),u=r(3326),l=r(48716),p=r(56976),d=r(30567),f=["isDeleting"],m=["row"],y=function(e){var t=e.width,r=void 0===t?"100%":t,n=e.height,a=void 0===n?"100%":n,o=e.className,c=void 0===o?"":o;return i().createElement("span",{className:"src-c-loader ".concat(c),style:{width:r,height:a},role:"progressbar"})};y.propTypes={className:s().string,width:s().oneOfType([s().string,s().number]),height:s().oneOfType([s().string,s().number])};var v=function(){return i().createElement(y,{className:"top-pagination",height:30,width:200})},h=function(){return i().createElement(p.Bullseye,{className:"src-c-bullseye__placeholder-loader"},i().createElement(p.Spinner,{size:"xl"}))},_=function(e){var t=e.row,r=t.isDeleting,o=(0,a.Z)(t,f),c=(0,a.Z)(e,m);return r?i().createElement("tr",null,i().createElement("td",{colSpan:d.W,className:"pf-u-p-md","data-testid":"removing-row"},i().createElement(y,{height:100}))):i().createElement(u.RowWrapper,(0,n.Z)({},c,{row:o,className:"src-c-row-vertical-centered","data-testid":"row"}))};_.propTypes={row:s().object.isRequired};var b=function(e){return i().createElement(p.Card,{className:"pf-u-m-md"},i().createElement(p.CardBody,null,i().createElement(y,e)))},g=function(){return i().createElement("div",{className:"src-c-detail-page"},i().createElement(l.Z,null,i().createElement(y,{height:96})),i().createElement(p.Grid,null,i().createElement(p.GridItem,{md:"6"},i().createElement(b,{height:218})),i().createElement(p.GridItem,{md:"6"},i().createElement(b,{height:218})),i().createElement(p.GridItem,{md:"12"},i().createElement(b,{height:324}))))}},56638:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(87462),a=r(29439),o=r(45987),i=r(92950),c=r.n(i),s=r(45697),u=r.n(s),l=r(98583),p=["src"],d=function(e){var t=e.src,r=(0,o.Z)(e,p),s=(0,i.useState)(!1),u=(0,a.Z)(s,2),d=u[0],f=u[1];return c().createElement(c().Fragment,null,!d&&c().createElement(l.aN,(0,n.Z)({height:"40px",width:"110px"},r)),c().createElement("img",(0,n.Z)({src:t,onLoad:function(){return f(!0)},style:{display:d?"initial":"none"}},r)))};d.propTypes={src:u().string.isRequired};const f=d},21298:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var n=r(29439),a=r(92950),o=r.n(a),i=r(56976),c=r(83632),s=r(56638);const u=function(e){return o().createElement(i.Card,{isFlat:!0,className:"marketplace-card"},o().createElement(i.CardTitle,{className:"pf-u-pl-md pf-u-pr-md"},o().createElement(s.Z,{src:e.logo_url,className:"marketplace-card-icon"}),o().createElement("br",null),e.title,o().createElement("br",null),o().createElement(i.Label,{className:"pf-u-mt-sm marketplace-label",icon:o().createElement(c.DatabaseIcon,null)},e.primary_category.display_name)),o().createElement(i.CardBody,{className:"marketplace-card-body pf-u-mb-md pf-u-pl-md pf-u-pr-md",isFilled:!0},e.description_short),o().createElement(i.CardFooter,{className:"pf-u-pl-md pf-u-pr-md pf-u-pb-md"},o().createElement(i.Button,{variant:"link",isInline:!0,icon:o().createElement(c.ExternalLinkAltIcon,null),iconPosition:"right",component:"a",href:e.product_page_url,rel:"noopener noreferrer",target:"_blank"},"Add"," ")))};var l=r(15861),p=r(87757),d=r.n(p),f=r(4138),m="/api/marketplace-gateway/v1",y=function(){var e=(0,l.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.be.get("".concat(m,"/unstable")));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,l.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.be.get("".concat(m,"/categories")));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=r(45697),_=r.n(h),b=r(87462),g=r(4942),E=r(90111);const w=function(){return o().createElement(i.Card,{isFlat:!0,className:"marketplace-card"},o().createElement(i.CardTitle,null,o().createElement(i.Skeleton,{role:"progressbar"})),o().createElement(i.CardBody,null,o().createElement(i.Skeleton,{role:"progressbar"})),o().createElement(i.CardFooter,null,o().createElement(i.Skeleton,{role:"progressbar"})))};function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,g.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P=function(e){return{page:1,perPage:10,itemCount:(null==e?void 0:e.length)||0,filters:{type:["database"]},categories:null,isLoading:!0}},Z=function(e,t){var r=t.type,n=t.payload;switch(r){case"SET_PAGE":return k(k({},e),{},{page:n});case"SET_PER_PAGE":return k(k({},e),{},{page:1,perPage:n});case"LOAD_CATEGORIES":return k(k({},e),{},{categories:n,isLoading:!1})}},S=function(e){return{database:"Database"}[e]||e},T=function(e){var t,r=e.data,s=e.isOpen,l=e.onClose,p=(0,a.useReducer)(Z,r,P),d=(0,n.Z)(p,2),f=d[0],m=d[1];return(0,a.useEffect)((function(){s&&v().then((function(e){var t=e.data;return m({type:"LOAD_CATEGORIES",payload:t})}))}),[s]),o().createElement(i.Modal,{className:"sources",onClose:l,isOpen:s,title:"Browse catalog",description:o().createElement("span",null,"A curated selection of offerings available for purchase from"," ",o().createElement("a",{href:"https://sandbox.marketplace.redhat.com",target:"_blank",rel:"noopener noreferrer"},"Red Hat Marketplace ",o().createElement(c.ExternalLinkAltIcon,null))),variant:"large"},f.isLoading&&o().createElement("div",{className:"pf-u-mb-md marketplace-flex"},o().createElement(w,null),o().createElement(w,null)),!f.isLoading&&o().createElement(o().Fragment,null,o().createElement(E.Z,{useMobileLayout:!0,className:"marketplace-modal-toolbar",pagination:{itemCount:f.itemCount,page:f.page,perPage:f.perPage,onSetPage:function(e,t){return m({type:"SET_PAGE",payload:t})},onPerPageSelect:function(e,t){return m({type:"SET_PER_PAGE",payload:t})},"data-testid":"pagination"},filterConfig:{items:[{label:"Type",placeholder:"Filter by product type",type:"checkbox",filterValues:{value:["database"],items:f.categories.map((function(e){return{label:e.display_name,value:e.page_name,isDisabled:!0}}))}}]},activeFiltersConfig:{showDeleteButton:!1,filters:(t=f.filters,Object.keys(t).map((function(e){var r;return t[e]&&0!==(null===(r=t[e])||void 0===r?void 0:r.length)?function(e,t){return{type:{category:"Type",chips:t.map((function(e){return{name:S(e)}}))}}[e]||{category:e,chips:t.map((function(e){return{name:e}}))}}(e,t[e]):null})).filter(Boolean))}}),o().createElement("div",{className:"pf-u-mb-md marketplace-flex"},r.map((function(e){return o().createElement(u,(0,b.Z)({key:e.id},e))})))))};T.propTypes={data:_().array,isOpen:_().bool,onClose:_().func};const j=T;var A=function(e){var t=e.data,r=(0,a.useState)(!1),c=(0,n.Z)(r,2),s=c[0],u=c[1];return o().createElement(o().Fragment,null,o().createElement(j,{onClose:function(){return u(!1)},data:t,isOpen:s}),o().createElement(i.Card,{isFlat:!0,className:"marketplace-card marketplace-seemore-card"},o().createElement(i.CardBody,{isFilled:!0,className:"pf-u-pl-md pf-u-pr-md card-text"},"Not what you’re looking for? Browse the catalog to see more offerings from Red Hat Marketplace."),o().createElement(i.CardFooter,{className:"pf-u-pl-md pf-u-pr-md pf-u-pb-md"},o().createElement(i.Button,{variant:"primary",onClick:function(){return u(!0)}},"See more databases"))))};A.propTypes={data:_().array};const M=A,N=function(){var e=(0,a.useState)(),t=(0,n.Z)(e,2),r=t[0],c=t[1];return(0,a.useEffect)((function(){y().then((function(e){var t=e.data;return c(t)}))}),[]),r?o().createElement("div",{className:"sources"},o().createElement(i.Title,{headingLevel:"h4",size:"xl",className:"pf-u-mb-md"},"Recommended services"),o().createElement("div",{className:"pf-u-mb-md marketplace-flex"},o().createElement(u,r.find((function(e){return"mongodb-enterprise-advanced"===(null==e?void 0:e.product_page_name)}))||r[0]),o().createElement(M,{data:r}))):o().createElement("div",{className:"pf-u-mb-md marketplace-flex"},o().createElement(w,null),o().createElement(w,null))}},4833:(e,t,r)=>{"use strict";r.d(t,{bF:()=>Z,Fd:()=>S,P5:()=>T,vh:()=>j,jl:()=>A,Ee:()=>M,Rl:()=>N,nZ:()=>x,L:()=>C,Bj:()=>I,BN:()=>q,c:()=>H,Gz:()=>V,Z3:()=>X});var n=r(45987),a=r(87462),o=r(93433),i=r(29439),c=r(4942),s=r(92950),u=r.n(s),l=r(45697),p=r.n(l),d=r(56976),f=r(43047),m=r(5913),y=r(17546),v=r(44012),h=r(86896),_=r(62410),b=r(86235),g=r(60076),E=r(86866),w=["app","showStatusText"],O=["applications"];function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Z=function(e){return{http:"80",https:"443"}[e]},S=function(e){var t=Object.keys(e).reduce((function(t,r){return P(P({},t),{},(0,c.Z)({},r,e[r]||""))}),{}),r=t.scheme,n=void 0===r?"":r,a=t.host,o=void 0===a?"":a,i=t.path,s=void 0===i?"":i,u=t.port,l=void 0===u?"":u,p="".concat(n,"://").concat(o).concat(function(e,t){return t&&String(t)!==Z(e)?":".concat(t):""}(n,l)).concat(s);if("://"!==p)return p},T=function(e,t,r){var n=r.sourceTypes.find((function(t){return t.id===e}));return n&&n.product_name||e||""},j=function(e){return u().createElement("span",{className:"src-c-help-cursor"},u().createElement(_.Z,{type:"relative",date:e}))},A=function(e,t,r){var n=r.sourceTypes;return u().createElement(d.TextContent,null,u().createElement(b.Link,{to:(0,g.yS)(g._j.sourcesDetail.path,t.id)},e),u().createElement("br",{key:"".concat(t.id,"-br")}),u().createElement(d.Text,{key:t.id,component:d.TextVariants.small},function(e,t){var r=t.find((function(t){return t.id===e.source_type_id}));return r&&"openshift"===r.name}(t,n)&&function(e){return e.endpoints&&e.endpoints[0]&&S(e.endpoints[0])}(t)))},M=function(e){if(!e)return null;var t=function(e){return{cfme:u().createElement(v.Z,{id:"sources.cloudformImportTooltip",defaultMessage:"This source can be managed from your connected CloudForms application."})}[e.toLowerCase()]}(e);return t?u().createElement(d.Tooltip,{content:t},u().createElement(d.Badge,{isRead:!0,className:"src-m-help-cursor"},u().createElement(v.Z,{id:"sources.imported",defaultMessage:"imported"}))):u().createElement(d.Badge,{isRead:!0},u().createElement(v.Z,{id:"sources.imported",defaultMessage:"imported"}))},N="available",x="unavailable",C="partially_available",I="in_progress",R="paused_at",D="rhel_azure",L=function(e){var t;return(t={},(0,c.Z)(t,x,"red"),(0,c.Z)(t,N,"green"),(0,c.Z)(t,C,"orange"),(0,c.Z)(t,R,"cyan"),t)[e]||"grey"},F=function(e){var t;return(t={},(0,c.Z)(t,x,u().createElement(v.Z,{id:"sources.unavailable",defaultMessage:"Unavailable"})),(0,c.Z)(t,N,u().createElement(v.Z,{id:"sources.available",defaultMessage:"Available"})),(0,c.Z)(t,C,u().createElement(v.Z,{id:"sources.partiallyAvailable",defaultMessage:"Partially available"})),(0,c.Z)(t,I,u().createElement(v.Z,{id:"sources.inProgress",defaultMessage:"In progress"})),(0,c.Z)(t,R,u().createElement(v.Z,{id:"sources.paused",defaultMessage:"Paused"})),t)[e]||u().createElement(v.Z,{id:"sources.unknown",defaultMessage:"Unknown"})},B=function(){return u().createElement(v.Z,{id:"sources.unknownError",defaultMessage:"unavailable"})},G=function(e,t){return u().createElement(u().Fragment,null,t.source&&u().createElement(u().Fragment,null,u().createElement(v.Z,{id:"sources.sourceError",defaultMessage:"Source's status: { error }",values:{error:t.source}}),u().createElement("br",null)),t.endpoint&&u().createElement(u().Fragment,null,u().createElement(v.Z,{id:"sources.endpointError",defaultMessage:"Endpoint error: { error }",values:{error:t.endpoint}}),u().createElement("br",null)),t.authentications&&u().createElement(v.Z,{id:"sources.authErrors",defaultMessage:"Authentication {count, plural, one {status} other {statuses}} : { errors }",values:{count:t.authentications.length,errors:t.authentications.map((function(e){var t=e.error,r=e.type;return u().createElement(u().Fragment,{key:r},u().createElement(v.Z,{id:"sources.errorAuthTemplate",defaultMessage:"{ type }: { error }",values:{error:t,type:r}}),u().createElement("br",null))}))}}),t.applications&&u().createElement(v.Z,{id:"sources.appErrors",defaultMessage:"Application {count, plural, one {status} other {statutes}}: { errors }",values:{count:t.applications.length,errors:t.applications.map((function(t){var r,n=t.error,a=t.id;return u().createElement(u().Fragment,{key:a},u().createElement(v.Z,{id:"sources.errorAppTemplate",defaultMessage:"{ app }: { error }",values:{error:n,app:(null===(r=e.find((function(e){return e.id===a})))||void 0===r?void 0:r.display_name)||a}}),u().createElement("br",null))}))}}))},U=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(r={},(0,c.Z)(r,x,u().createElement(u().Fragment,null,u().createElement(v.Z,{id:"sources.appStatusPartiallyOK",defaultMessage:"We found {count, plural, one {this error} other {these errors}}.",values:{count:Object.keys(n).length}}),u().createElement("hr",null),G(t,n))),(0,c.Z)(r,N,u().createElement(v.Z,{id:"sources.appStatusOK",defaultMessage:"Everything works fine."})),(0,c.Z)(r,C,u().createElement(u().Fragment,null,u().createElement(v.Z,{id:"sources.appStatusPartiallyOK",defaultMessage:"We found {count, plural, one {this error} other {these errors}}.",values:{count:Object.keys(n).length}}),u().createElement("hr",null),G(t,n))),(0,c.Z)(r,I,u().createElement(v.Z,{id:"sources.inProgressStatus",defaultMessage:"We are still working to validate credentials. Check back for status updates."})),(0,c.Z)(r,R,u().createElement(v.Z,{id:"sources.pausedStatus",defaultMessage:"Data collection is temporarily disabled. Resume source to reestablish connection."})),(0,c.Z)(r,D,u().createElement(v.Z,{id:"sources.rhelAzureStatus",defaultMessage:"This source cannot currently be monitored in Sources, and does not reflect true status or resources."})),r)[e]||u().createElement(v.Z,{id:"sources.appStatusUnknown",defaultMessage:"Status has not been verified."})},q=function(e,t,r){var n=r.appTypes,c=r.sourceTypes,s=function(e){var t=e.availability_status,r=e.availability_status_error,n=e.applications,a=void 0===n?[]:n,c=e.endpoints;c=void 0===c?[]:c;var s=(0,i.Z)(c,1)[0];if(t===I)return{errors:{},status:I};var l={},p=0,d=0;return t===x?(l=P(P({},l),{},{source:r||u().createElement(B,null)}),p++,d++):t===N&&p++,a.map((function(e){e.availability_status===x?(l=P(P({},l),{},{applications:[].concat((0,o.Z)(l.applications?l.applications:[]),[{id:e.application_type_id,error:e.availability_status_error||u().createElement(B,null)}])}),p++,d++):e.availability_status===N&&p++})),(null==s?void 0:s.availability_status)===x?(l=P(P({},l),{},{endpoint:s.availability_status_error||u().createElement(B,null)}),p++,d++):(null==s?void 0:s.availability_status)===N&&p++,null!=s&&s.authentications&&s.authentications.map((function(e){e.availability_status===x?(l=P(P({},l),{},{authentications:[].concat((0,o.Z)(l.authentications?l.authentications:[]),[{type:e.authtype,error:e.availability_status_error||u().createElement(B,null)}])}),p++,d++):e.availability_status===N&&p++})),{errors:l,status:0===d?0===p?"unknown":N:d===p?x:C}}(t),l=t.paused_at?R:(0,E.Z)({source:t,sourceTypes:c,appTypes:n})?D:s.status;return u().createElement("span",null,u().createElement(d.Popover,{showClose:!1,"aria-label":"".concat(l," popover"),bodyContent:U(l,n,s.errors)},u().createElement(d.Label,(0,a.Z)({className:"src-m-clickable",color:L(l)},t.availability_status===I&&{icon:u().createElement(m.ZP,null)},t.paused_at&&{icon:u().createElement(y.ZP,null)}),F(l))))},H=function(e){var t=e.app,r=e.showStatusText,o=(0,n.Z)(e,w),i=(0,h.Z)(),s=function(e,t,r){var n;return(n={},(0,c.Z)(n,N,r.formatMessage({id:"sources.appStatusOK",defaultMessage:"Everything works fine."})),(0,c.Z)(n,x,t||r.formatMessage({id:"sources.unknownError",defaultMessage:"Unknown error"})),(0,c.Z)(n,I,u().createElement(v.Z,{id:"sources.inProgressStatus",defaultMessage:"We are still working to validate credentials. Check back for status updates."})),n)[e]||r.formatMessage({id:"sources.appStatusUnknown",defaultMessage:"Status has not been verified."})}(t.availability_status,t.availability_status_error,i);return u().createElement(d.Popover,(0,a.Z)({showClose:!1,key:t.display_name,"aria-label":"".concat(t.display_name," popover"),bodyContent:t.paused_at?"".concat(s," ").concat(i.formatMessage({id:"appplication.paused.additionalText",defaultMessage:"Resume this application to continue data collection."})):s},t.paused_at&&{headerContent:i.formatMessage({id:"application.paused.header",defaultMessage:"Application paused"})}),u().createElement(d.Label,(0,a.Z)({className:"src-m-clickable",color:L(t.availability_status)},t.availability_status===I&&{icon:u().createElement(m.ZP,null)},t.paused_at&&{icon:u().createElement(y.ZP,null)},o),r?F(t.availability_status):t.display_name))};H.propTypes={app:p().shape({display_name:p().string,availability_status:p().string,availability_status_error:p().string,paused_at:p().string}),showStatusText:p().bool};var z=function(e){var t=e.applications,r=(0,n.Z)(e,O),o=(0,h.Z)();return u().createElement(d.LabelGroup,(0,a.Z)({},r,{numLabels:2,collapsedText:o.formatMessage({id:"applications.showMore",defaultMessage:"{remaining} more"},{remaining:"${remaining}"})}),t.map((function(e,t){return u().createElement(H,{app:e,key:e.id||t})})))};z.propTypes={applications:p().arrayOf(p().shape({display_name:p().string,availability_status:p().string,availability_status_error:p().string,paused_at:p().string})).isRequired};var V=function(e,t,r){var n=r.appTypes,a=e.map((function(e){return function(e,t,r){var n=r.find((function(t){return t.id===e.application_type_id}));if(n){var a,o,i,c,s,u,l=e.availability_status,p=e.availability_status_error;return"Endpoint"===(null===(a=e.authentications)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.resource_type)&&(l=null===(i=t.endpoints)||void 0===i||null===(c=i[0])||void 0===c?void 0:c.availability_status,p=null===(s=t.endpoints)||void 0===s||null===(u=s[0])||void 0===u?void 0:u.availability_status_error),{display_name:n.display_name,paused_at:e.paused_at,availability_status:l,availability_status_error:p}}}(e,t,n)})).filter(Boolean).sort((function(e,t){return e.display_name.localeCompare(t.display_name)}));return 0===a.length?"--":u().createElement(z,{numLabels:2,collapsedText:!0,applications:a})},X=function(e,t,r){var n=r.intl,a=r.sourceType;if("account_authorization"===e){var o,i=null==a?void 0:a.schema.authentication.find((function(e){return e.is_superkey})),c=null==t||null===(o=t.authentications)||void 0===o?void 0:o.find((function(e){var t=e.authtype;return t&&t===i.type}));return u().createElement(u().Fragment,null,n.formatMessage({id:"configurationMode.trust",defaultMessage:"Account authorization"}),(null==c?void 0:c.availability_status)===x&&u().createElement(d.Tooltip,{position:"top",content:c.availability_status_error||n.formatMessage({id:"configurationMode.trustmode.defaultError",defaultMessage:"Edit credentials required."})},u().createElement("span",{className:"pf-u-ml-sm"},u().createElement(f.ZP,{fill:"#C9190B"}))),u().createElement("div",{className:"pf-u-mt-sm"},u().createElement(b.Link,{to:(0,g.yS)(g._j.sourcesDetailEditCredentials.path,t.id)},u().createElement(d.Button,{variant:"link",id:"edit-super-credentials",isInline:!0},t.paused_at?n.formatMessage({id:"sources.viewCredentials",defaultMessage:"View credentials"}):n.formatMessage({id:"sources.editCredentials",defaultMessage:"Edit credentials"})))))}return n.formatMessage({id:"configurationMode.manual",defaultMessage:"Manual configuration"})}},74806:(e,t,r)=>{"use strict";r.d(t,{_y:()=>o});var n=r(92950);r(8679);var a=n.createContext(null),o=(a.Consumer,a.Provider,a)},680:(e,t,r)=>{"use strict";r.d(t,{lq:()=>c,wU:()=>s});var n=r(70655),a=r(92950),o=r(25687),i=r(82644);function c(e){(0,o.kG)(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}function s(e,t){if(e===t)return!0;if(!e||!t)return!1;var r=Object.keys(e),n=Object.keys(t),a=r.length;if(n.length!==a)return!1;for(var o=0;o<a;o++){var i=r[o];if(e[i]!==t[i]||!Object.prototype.hasOwnProperty.call(t,i))return!1}return!0}(0,n.__assign)((0,n.__assign)({},i.Z0),{textComponent:a.Fragment})},70655:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__extends:()=>a,__assign:()=>o,__rest:()=>i,__decorate:()=>c,__param:()=>s,__metadata:()=>u,__awaiter:()=>l,__generator:()=>p,__createBinding:()=>d,__exportStar:()=>f,__values:()=>m,__read:()=>y,__spread:()=>v,__spreadArrays:()=>h,__spreadArray:()=>_,__await:()=>b,__asyncGenerator:()=>g,__asyncDelegator:()=>E,__asyncValues:()=>w,__makeTemplateObject:()=>O,__importStar:()=>P,__importDefault:()=>Z,__classPrivateFieldGet:()=>S,__classPrivateFieldSet:()=>T});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)};function i(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}function c(e,t,r,n){var a,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(i=(o<3?a(i):o>3?a(t,r,i):a(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function s(e,t){return function(r,n){t(r,n,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{s(n.next(e))}catch(e){o(e)}}function c(e){try{s(n.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,c)}s((n=n.apply(e,t||[])).next())}))}function p(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}var d=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function f(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||d(t,e,r)}function m(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return i}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function h(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,c=o.length;i<c;i++,a++)n[a]=o[i];return n}function _(e,t,r){if(r||2===arguments.length)for(var n,a=0,o=t.length;a<o;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function g(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),o=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(e){a[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||c(e,t)}))})}function c(e,t){try{(r=a[e](t)).value instanceof b?Promise.resolve(r.value.v).then(s,u):l(o[0][2],r)}catch(e){l(o[0][3],e)}var r}function s(e){c("next",e)}function u(e){c("throw",e)}function l(e,t){e(t),o.shift(),o.length&&c(o[0][0],o[0][1])}}function E(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,a){t[n]=e[n]?function(t){return(r=!r)?{value:b(e[n](t)),done:"return"===n}:a?a(t):t}:a}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=m(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,a){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,a,(t=e[r](t)).done,t.value)}))}}}function O(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var k=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&d(t,e,r);return k(t,e),t}function Z(e){return e&&e.__esModule?e:{default:e}}function S(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function T(e,t,r,n,a){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r}},65088:()=>{},11452:()=>{},32857:()=>{},93818:()=>{},94498:()=>{},28992:()=>{},80897:()=>{},90479:()=>{},78752:()=>{},8572:()=>{},98379:()=>{},92084:()=>{},99624:()=>{},36974:()=>{},97236:()=>{},38024:()=>{},16166:()=>{}}]);
//# sourceMappingURL=../sourcemaps/8884.565d693e480db1bd242c8d0d72c8bfd2.js.map