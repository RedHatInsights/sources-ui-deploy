!function(e){function t(t){for(var n,r,i=t[0],o=t[1],s=t[2],c=0,u=[];c<i.length;c++)r=i[c],S[r]&&u.push(S[r][0]),S[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(L&&L(t);u.length;)u.shift()();return C.push.apply(C,s||[]),a()}function a(){for(var e,t=0;t<C.length;t++){for(var a=C[t],n=!0,r=1;r<a.length;r++){var i=a[r];0!==S[i]&&(n=!1)}n&&(C.splice(t--,1),e=A(A.s=a[0]))}return e}var n=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!_[e]||!b[e])return;for(var a in b[e]=!1,t)Object.prototype.hasOwnProperty.call(t,a)&&(E[a]=t[a]);0==--y&&0===g&&R()}(e,t),n&&n(e,t)};var r,i=!0,o="a17dd6ed9d6bf2a62616",s=1e4,c={},u=[],l=[];var d=[],p="idle";function m(e){p=e;for(var t=0;t<d.length;t++)d[t].call(null,e)}var f,E,h,y=0,g=0,v={},b={},_={};function O(e){return+e+""===e?+e:e}function T(e){if("idle"!==p)throw new Error("check() is only allowed in idle status");return i=e,m("check"),function(e){return e=e||1e4,new Promise(function(t,a){if("undefined"==typeof XMLHttpRequest)return a(new Error("No browser support"));try{var n=new XMLHttpRequest,r=A.p+""+o+".hot-update.json";n.open("GET",r,!0),n.timeout=e,n.send(null)}catch(e){return a(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)a(new Error("Manifest request to "+r+" timed out."));else if(404===n.status)t();else if(200!==n.status&&304!==n.status)a(new Error("Manifest request to "+r+" failed."));else{try{var e=JSON.parse(n.responseText)}catch(e){return void a(e)}t(e)}}})}(s).then(function(e){if(!e)return m("idle"),null;b={},v={},_=e.c,h=e.h,m("prepare");var t=new Promise(function(e,t){f={resolve:e,reject:t}});for(var a in E={},S)M(a);return"prepare"===p&&0===g&&0===y&&R(),t})}function M(e){_[e]?(b[e]=!0,y++,function(e){var t=document.getElementsByTagName("head")[0],a=document.createElement("script");a.charset="utf-8",a.src=A.p+""+e+"."+o+".hot-update.js",t.appendChild(a)}(e)):v[e]=!0}function R(){m("ready");var e=f;if(f=null,e)if(i)Promise.resolve().then(function(){return w(i)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var a in E)Object.prototype.hasOwnProperty.call(E,a)&&t.push(O(a));e.resolve(t)}}function w(t){if("ready"!==p)throw new Error("apply() is only allowed in ready status");var a,n,r,i,s;function l(e){for(var t=[e],a={},n=t.slice().map(function(e){return{chain:[e],id:e}});n.length>0;){var r=n.pop(),o=r.id,s=r.chain;if((i=D[o])&&!i.hot._selfAccepted){if(i.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:o};if(i.hot._main)return{type:"unaccepted",chain:s,moduleId:o};for(var c=0;c<i.parents.length;c++){var u=i.parents[c],l=D[u];if(l){if(l.hot._declinedDependencies[o])return{type:"declined",chain:s.concat([u]),moduleId:o,parentId:u};-1===t.indexOf(u)&&(l.hot._acceptedDependencies[o]?(a[u]||(a[u]=[]),d(a[u],[o])):(delete a[u],t.push(u),n.push({chain:s.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:a}}function d(e,t){for(var a=0;a<t.length;a++){var n=t[a];-1===e.indexOf(n)&&e.push(n)}}t=t||{};var f={},y=[],g={},v=function(){console.warn("[HMR] unexpected require("+T.moduleId+") to disposed module")};for(var b in E)if(Object.prototype.hasOwnProperty.call(E,b)){var T;s=O(b);var M=!1,R=!1,w=!1,C="";switch((T=E[b]?l(s):{type:"disposed",moduleId:b}).chain&&(C="\nUpdate propagation: "+T.chain.join(" -> ")),T.type){case"self-declined":t.onDeclined&&t.onDeclined(T),t.ignoreDeclined||(M=new Error("Aborted because of self decline: "+T.moduleId+C));break;case"declined":t.onDeclined&&t.onDeclined(T),t.ignoreDeclined||(M=new Error("Aborted because of declined dependency: "+T.moduleId+" in "+T.parentId+C));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(T),t.ignoreUnaccepted||(M=new Error("Aborted because "+s+" is not accepted"+C));break;case"accepted":t.onAccepted&&t.onAccepted(T),R=!0;break;case"disposed":t.onDisposed&&t.onDisposed(T),w=!0;break;default:throw new Error("Unexception type "+T.type)}if(M)return m("abort"),Promise.reject(M);if(R)for(s in g[s]=E[s],d(y,T.outdatedModules),T.outdatedDependencies)Object.prototype.hasOwnProperty.call(T.outdatedDependencies,s)&&(f[s]||(f[s]=[]),d(f[s],T.outdatedDependencies[s]));w&&(d(y,[T.moduleId]),g[s]=v)}var I,k=[];for(n=0;n<y.length;n++)s=y[n],D[s]&&D[s].hot._selfAccepted&&k.push({module:s,errorHandler:D[s].hot._selfAccepted});m("dispose"),Object.keys(_).forEach(function(e){!1===_[e]&&function(e){delete S[e]}(e)});for(var N,L,P=y.slice();P.length>0;)if(s=P.pop(),i=D[s]){var j={},F=i.hot._disposeHandlers;for(r=0;r<F.length;r++)(a=F[r])(j);for(c[s]=j,i.hot.active=!1,delete D[s],delete f[s],r=0;r<i.children.length;r++){var x=D[i.children[r]];x&&((I=x.parents.indexOf(s))>=0&&x.parents.splice(I,1))}}for(s in f)if(Object.prototype.hasOwnProperty.call(f,s)&&(i=D[s]))for(L=f[s],r=0;r<L.length;r++)N=L[r],(I=i.children.indexOf(N))>=0&&i.children.splice(I,1);for(s in m("apply"),o=h,g)Object.prototype.hasOwnProperty.call(g,s)&&(e[s]=g[s]);var q=null;for(s in f)if(Object.prototype.hasOwnProperty.call(f,s)&&(i=D[s])){L=f[s];var U=[];for(n=0;n<L.length;n++)if(N=L[n],a=i.hot._acceptedDependencies[N]){if(-1!==U.indexOf(a))continue;U.push(a)}for(n=0;n<U.length;n++){a=U[n];try{a(L)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:s,dependencyId:L[n],error:e}),t.ignoreErrored||q||(q=e)}}}for(n=0;n<k.length;n++){var B=k[n];s=B.module,u=[s];try{A(s)}catch(e){if("function"==typeof B.errorHandler)try{B.errorHandler(e)}catch(a){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:s,error:a,originalError:e}),t.ignoreErrored||q||(q=a),q||(q=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:s,error:e}),t.ignoreErrored||q||(q=e)}}return q?(m("fail"),Promise.reject(q)):(m("idle"),new Promise(function(e){e(y)}))}var D={},S={0:0},C=[];function A(t){if(D[t])return D[t].exports;var a=D[t]={i:t,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:r!==e,active:!0,accept:function(e,a){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._acceptedDependencies[e[n]]=a||function(){};else t._acceptedDependencies[e]=a||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var a=0;a<e.length;a++)t._declinedDependencies[e[a]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var a=t._disposeHandlers.indexOf(e);a>=0&&t._disposeHandlers.splice(a,1)},check:T,apply:w,status:function(e){if(!e)return p;d.push(e)},addStatusHandler:function(e){d.push(e)},removeStatusHandler:function(e){var t=d.indexOf(e);t>=0&&d.splice(t,1)},data:c[e]};return r=void 0,t}(t),parents:(l=u,u=[],l),children:[]};return e[t].call(a.exports,a,a.exports,function(e){var t=D[e];if(!t)return A;var a=function(a){return t.hot.active?(D[a]?-1===D[a].parents.indexOf(e)&&D[a].parents.push(e):(u=[e],r=a),-1===t.children.indexOf(a)&&t.children.push(a)):(console.warn("[HMR] unexpected require("+a+") from disposed module "+e),u=[]),A(a)},n=function(e){return{configurable:!0,enumerable:!0,get:function(){return A[e]},set:function(t){A[e]=t}}};for(var i in A)Object.prototype.hasOwnProperty.call(A,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(a,i,n(i));return a.e=function(e){return"ready"===p&&m("prepare"),g++,A.e(e).then(t,function(e){throw t(),e});function t(){g--,"prepare"===p&&(v[e]||M(e),0===g&&0===y&&R())}},a.t=function(e,t){return 1&t&&(e=a(e)),A.t(e,-2&t)},a}(t)),a.l=!0,a.exports}A.m=e,A.c=D,A.d=function(e,t,a){A.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},A.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},A.t=function(e,t){if(1&t&&(e=A(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(A.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)A.d(a,n,function(t){return e[t]}.bind(null,n));return a},A.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return A.d(t,"a",t),t},A.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},A.p="/beta/apps/sources/",A.h=function(){return o};var I=window.webpackJsonp=window.webpackJsonp||[],k=I.push.bind(I);I.push=t,I=I.slice();for(var N=0;N<I.length;N++)t(I[N]);var L=k;C.push([487,1]),a()}({11:function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"g",function(){return s}),a.d(t,"e",function(){return c}),a.d(t,"d",function(){return u}),a.d(t,"f",function(){return l}),a.d(t,"h",function(){return d}),a.d(t,"i",function(){return p}),a.d(t,"b",function(){return m}),a.d(t,"j",function(){return f}),a.d(t,"c",function(){return E});var n=a(51),r=a.n(n),i=["LOAD_ENTITIES","CREATE_SOURCE","REMOVE_SOURCE","LOAD_SOURCE_TYPES","LOAD_APP_TYPES","REMOVE_APPLICATION"].reduce(function(e,t){return[].concat(r()(e),[t,"".concat(t,"_PENDING"),"".concat(t,"_FULFILLED"),"".concat(t,"_REJECTED")])},[]),o=r()(i).reduce(function(e,t){return e[t]=t,e},{}),s="SORT_ENTITIES",c="PAGE_AND_SIZE",u="FILTER_PROVIDERS",l="SET_FILTER_COLUMN",d="SOURCE_EDIT_REQUEST",p="SOURCE_FOR_EDIT_LOADED",m="ADD_APP_TO_SOURCE",f="UNDO_ADDD_SOURCE",E="CLEAR_ADD_SOURCE"},216:function(e,t,a){(t=e.exports=a(4)(!1)).i(a(483),""),t.i(a(484),""),t.i(a(485),""),t.push([e.i,"button:focus {\n  outline: none; }\n\n.pf-l-gallery {\n  padding-bottom: 20px; }\n\n.pf-c-backdrop > .pf-l-bullseye > .pf-l-bullseye {\n  flex: 1; }\n\n/* styling for sources placeholder table */\n.sources-placeholder-table {\n  background: white;\n  width: 100%;\n  border: 1px solid #cccccc;\n  border-collapse: collapse; }\n  .sources-placeholder-table td {\n    display: block;\n    padding: 10px; }\n\n.ins-c-sources__dialog--warning .ins-c-source__delete-icon {\n  color: var(--pf-global--warning-color--100); }\n\n.ins-c-sources__dialog--spinnerContainer {\n  min-height: 64px;\n  text-align: center; }\n\n.ins-c-sources__row-vertical-centered td {\n  vertical-align: middle !important; }\n\n.ins-c-sources__help-cursor:hover {\n  cursor: help; }\n",""])},482:function(e,t,a){var n=a(216);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0},i=a(5)(n,r);n.locals&&(e.exports=n.locals),e.hot.accept(216,function(){var t=a(216);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var a,n=0;for(a in e){if(!t||e[a]!==t[a])return!1;n++}for(a in t)n--;return 0===n}(n.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(t)}),e.hot.dispose(function(){i()})},486:function(e,t,a){"use strict";a.r(t);var n,r=a(2),i=a.n(r),o=a(12),s=a(30),c=a(217),u=a(1),l=a.n(u),d=a(37),p=a(7),m=a.n(p),f=a(180),E=a(11),h=a(42),y=a.n(h),g=a(282),v=a.n(g),b=a(309),_="".concat("/api","/sources/v1.0"),O=a(238),T=a(239),M=a(218),R=a(229),w=a(491),D=function(e){return{http:"80",https:"443"}[e]},S=function(e){var t=e.scheme,a=e.host,n=e.path,r=e.port;return"".concat(t,"://").concat(a).concat(function(e,t){return t&&String(t)!==D(e)?":".concat(t):""}(t,r)).concat(n||"")},C=function(e,t,a){var n=a.appTypes,r=e.map(function(e){var t=n.find(function(t){return t.id===e.application_type_id});if(t)return t.display_name}).filter(function(e){return void 0!==e});return i.a.createElement(O.a,null,r.length>0?r.sort(function(e,t){return e.localeCompare(t)}).map(function(e,t){return i.a.createElement(T.a,{key:e,className:"pf-u-mb-0-on-sm"},e,t<r.length-1&&i.a.createElement("br",{key:t}))}):"--")},A=function(e,t,a){var n=a.sourceTypes.find(function(t){return t.id===e});return n&&n.product_name||e||""},I=function(e){return i.a.createElement(T.a,{style:{marginBottom:0},component:T.b.small,className:"ins-c-sources__help-cursor"},i.a.createElement(d.DateFormat,{type:"relative",date:e}))},k=function(e,t,a){var n=a.sourceTypes;return i.a.createElement(O.a,null,e,i.a.createElement("br",{key:"".concat(t.id,"-br")}),i.a.createElement(T.a,{key:t.id,component:T.b.small},function(e,t){var a=t.find(function(t){return t.id===e.source_type_id});return a&&"openshift"===a.name}(t,n)&&function(e){return e.endpoints&&e.endpoints[0]&&S(e.endpoints[0])}(t)))},N=function(e){if(!e)return null;var t=function(e){return{cfme:i.a.createElement(w.a,{id:"sources.cloudformImportTooltip",defaultMessage:"This source can be managed from your connected CloudForms application."})}[e.toLowerCase()]}(e);return t?i.a.createElement(M.a,{content:t},i.a.createElement(R.a,{isRead:!0,className:"ins-c-sources__help-cursor"},i.a.createElement(w.a,{id:"sources.imported",defaultMessage:"imported"}))):i.a.createElement(R.a,{isRead:!0},i.a.createElement(w.a,{id:"sources.imported",defaultMessage:"imported"}))};v.a.interceptors.response.use(function(e){return e.errors&&e.errors.length>0?Promise.reject({detail:e.errors[0].message}):e});var L=function(){return n||(n=new b.DefaultApi(void 0,_,v.a))};var P=function(e){return e.url?function(e){if(!e)return{};try{var t=new URL(e);return{scheme:t.protocol.replace(/:$/,""),host:t.hostname,port:""===t.port?D(t.protocol.replace(/:$/,"")):t.port,path:t.pathname}}catch(e){return{}}}(e.url):e.endpoint?e.endpoint:e},j=function(e){return function(t){return t({type:E.a.LOAD_ENTITIES_PENDING}),L().postGraphQL({query:"{ sources\n        {\n            id,\n            created_at,\n            source_type_id,\n            name,\n            tenant,\n            uid,\n            updated_at,\n            imported,\n            applications { application_type_id, id },\n            endpoints { id, scheme, host, port, path }\n        }\n    }"}).then(function(e){return e.data}).then(function(a){var n=a.sources;t(m()({type:E.a.LOAD_ENTITIES_FULFILLED,payload:n},e))}).catch(function(e){return t({type:E.a.LOAD_ENTITIES_REJECTED,payload:{error:{detail:e.detail||e.data,title:"Fetching data failed, try refresh page"}}})})}},F=function(){return function(e){return e({type:E.a.LOAD_SOURCE_TYPES_PENDING}),L().listSourceTypes().then(function(e){return e.data}).then(function(t){return e({type:E.a.LOAD_SOURCE_TYPES_FULFILLED,payload:t})})}},x=function(){return function(e){return e({type:E.a.LOAD_APP_TYPES_PENDING}),v.a.get("".concat(_,"/application_types")).then(function(t){return e({type:E.a.LOAD_APP_TYPES_FULFILLED,payload:t.data})})}},q=function(e,t){return{type:E.e,payload:{page:e,size:t}}},U=function(e,t,a,n,r){return function(i){return function(e,t,a){var n=P(t),r=n.scheme,i=n.host,o=n.port,s=n.path,c=parseInt(o,10),u=m()({scheme:r,host:i,path:s,port:isNaN(c)?void 0:c},t.endpoint);return Promise.all([L().updateSource(e.id,t.source).catch(function(e){throw{error:{title:a.source,detail:e.errors[0].detail}}}),L().updateEndpoint(e.endpoint.id,u).catch(function(e){throw{error:{title:a.endpoint,detail:e.errors[0].detail}}}),L().updateAuthentication(e.authentication.id,t.authentication).catch(function(e){throw{error:{title:a.authentication,detail:e.errors[0].detail}}})])}(e,t,r).then(function(e){return i({type:f.ADD_NOTIFICATION,payload:{variant:"success",title:a,description:n,dismissable:!0}})}).catch(function(e){return i({type:"FOOBAR_REJECTED",payload:e})})}},B=function(e,t){return{type:E.a.REMOVE_SOURCE,payload:function(){return function(e){return L().deleteSource(e).catch(function(e){throw{error:{detail:e.errors[0].detail}}})}(e)},meta:{sourceId:e,notifications:{fulfilled:{variant:"success",title:t,dismissable:!0}}}}},V=function(e){return function(t){return t({type:E.h}),function(e){return Promise.all([L().showSource(e),L().listSourceEndpoints(e,{})]).then(function(e){var t=y()(e,2),a=t[0],n=t[1],r=n&&n.data&&n.data[0];return r?(a.endpoint=r,L().listEndpointAuthentications(r.id,{}).then(function(e){var t=e&&e.data&&e.data[0];return t&&(a.authentication=t),m()({},a,{source:{name:a.name}})})):a})}(e).then(function(e){return t({type:E.i,payload:e})}).catch(function(e){return t({type:"FOOBAR_REJECTED",payload:e})})}},z=function(e,t,a,n){return function(r){return r({type:f.ADD_NOTIFICATION,payload:{title:e,variant:t,description:a,dismissable:!0,customId:n}})}},H=function(e,t,a,n){return function(r){r({type:E.a.REMOVE_APPLICATION,payload:function(){return function(e,t){return L().deleteApplication(e).catch(function(e){var a=y()(e.errors,1)[0].detail;throw{error:{title:t,detail:a}}})}(e,n)},meta:{appId:e,sourceId:t,notifications:{fulfilled:{variant:"success",title:a,dismissable:!0}}}})}},Y=function(){return{type:E.c}},G=a(225),J=a(493),W=a(181),K=a(51),Q=a.n(K),X=a(270),Z=a(63),$=a(496),ee=a(495),te=a(196),ae=a.n(te),ne=a(198),re=a.n(ne),ie=a(194),oe=a(460),se=function(e){return i.a.createElement(ie.default,re()({height:20,width:480},e),i.a.createElement("rect",{x:"30",y:"0",rx:"3",ry:"3",width:"250",height:"7"}),i.a.createElement("rect",{x:"300",y:"0",rx:"3",ry:"3",width:"70",height:"7"}),i.a.createElement("rect",{x:"385",y:"0",rx:"3",ry:"3",width:"95",height:"7"}),i.a.createElement("rect",{x:"50",y:"12",rx:"3",ry:"3",width:"80",height:"7"}),i.a.createElement("rect",{x:"150",y:"12",rx:"3",ry:"3",width:"200",height:"7"}),i.a.createElement("rect",{x:"360",y:"12",rx:"3",ry:"3",width:"120",height:"7"}),i.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"20",height:"20"}))},ce=function(){return i.a.createElement("table",{className:"sources-placeholder-table pf-m-compact ins-entity-table"},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(se,null))),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(se,null)))))},ue=function(e){var t=e.row,a=t.isDeleting,n=ae()(t,["isDeleting"]),r=ae()(e,["row"]);return a?i.a.createElement("tr",null,i.a.createElement("td",{colSpan:"5"},i.a.createElement(se,null))):i.a.createElement(oe.a,re()({},r,{row:n,className:"ins-c-sources__row-vertical-centered"}))};ue.propTypes={row:l.a.object.isRequired};var le=function(e,t){var a=t.sortBy,n=t.sortDirection,r=t.filterColumn,i=t.filterValue,o=t.pageNumber,s=t.pageSize,c=t.sourceTypes;return function(e,t,a){return e.slice((t-1)*a,t*a)}(e.filter(function(e){return function(e,t,a){return!t||!a||""===a||String(e[t]).toLowerCase().includes(a.toLowerCase())}(e,r,i)}).sort(function(e,t){var a=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).sourceTypes;return function(n,r){if("string"==typeof n[e]&&"string"==typeof r[e]){var i=n[e].toLowerCase(),o=r[e].toLowerCase();return a&&"source_type_id"===e&&(i=(i=a.find(function(t){return t.id===n[e]}))?i.product_name:"",o=(o=a.find(function(t){return t.id===r[e]}))?o.product_name:""),"asc"===t?i.localeCompare(o):o.localeCompare(i)}if(Array.isArray(n[e])&&Array.isArray(r[e])){var s=n[e].length,c=r[e].length;return s>c?"asc"===t?1:-1:c>s?"asc"===t?-1:1:0}return 0}}(a,n,{sourceTypes:c})),o,s)},de=function(e){return[{title:null,value:"id"},{title:null,value:"uid"},{title:e.formatMessage({id:"sources.name",defaultMessage:"Name"}),value:"name",searchable:!0,formatter:"nameFormatter",sortable:!0},{title:e.formatMessage({id:"sources.type",defaultMessage:"Type"}),value:"source_type_id",searchable:!1,formatter:"sourceTypeFormatter",sortable:!0},{title:e.formatMessage({id:"sources.application",defaultMessage:"Application"}),value:"applications",searchable:!1,formatter:"applicationFormatter",sortable:!0},{title:e.formatMessage({id:"sources.addedDate",defaultMessage:"Date added"}),value:"created_at",formatter:"dateFormatter",sortable:!0},{title:null,value:"tenant_id"},{hidden:!0,value:"imported",formatter:"importedFormatter"}]},pe=function(e,t,a,n){return t.filter(function(e){return e.title||e.hidden}).map(function(t){return{title:t.formatter?function(e){return{nameFormatter:k,dateFormatter:I,applicationFormatter:C,sourceTypeFormatter:A,importedFormatter:N}[e]||function(e){return function(t){return"undefined ".concat(e," formatter of value: ").concat(t)}}(e)}(t.formatter)(e[t.value],e,{sourceTypes:a,appTypes:n}):e[t.value]||""}})},me=function(e,t){return m()({},e,t)},fe=function(e){var t=e.history.push,a=Object(J.a)(),n=de(a),s=Object(r.useReducer)(me,function(e){return{rows:[],sortBy:{},isLoaded:!1,cells:e.filter(function(e){return e.title||e.hidden}).map(function(e){return m()({title:e.title||"",value:e.value},e.sortable&&{transforms:[X.a]})})}}(n)),c=y()(s,2),u=c[0],l=c[1],d=Object(o.useSelector)(function(e){return e.providers},o.shallowEqual),p=d.filterValue,f=d.loaded,h=d.appTypes,g=d.entities,v=d.pageSize,b=d.pageNumber,_=d.sortBy,O=d.sortDirection,T=d.filterColumn,M=d.sourceTypes,R=d.sourceTypesLoaded,w=d.appTypesLoaded,D=Object(o.useDispatch)(),S=function(e){return l(m()({rows:le(function(e,t,a,n){return e.reduce(function(e,r){return[].concat(Q()(e),[m()({},r,{isOpen:!!r.expanded,cells:pe(r,t,a,n),disableActions:!!r.isDeleting})])},[])}(g,n,M,h),{sortBy:_,sortDirection:O,filterColumn:T,filterValue:p,pageNumber:b,pageSize:v,sourceTypes:M})},e))};return Object(r.useEffect)(function(){l(f&&R&&w?{isLoaded:!0}:{isLoaded:!1})},[f,R,w]),Object(r.useEffect)(function(){S({sortBy:{index:u.cells.map(function(e){return e.value}).indexOf(_),direction:O}})},[O,_]),Object(r.useEffect)(function(){S()},[p,T]),Object(r.useEffect)(function(){u.isLoaded&&S()},[g,v,b,u.isLoaded]),u.isLoaded?i.a.createElement(Z.b,{gridBreakPoint:"grid-lg","aria-label":a.formatMessage({id:"sources.list",defaultMessage:"List of Sources"}),onSort:function(e,t,a){return D(function(e,t){return{type:E.g,payload:{column:e,direction:t}}}(u.cells[t].value,a))},sortBy:u.sortBy,rows:u.rows,cells:u.cells,actionResolver:function(e,t){return function(a){var n=[{title:e.formatMessage({id:"sources.manageApps",defaultMessage:"Manage applications"}),onClick:function(e,a,n){var r=n.id;return t("/manage_apps/".concat(r))}},{style:{color:"var(--pf-global--danger-color--100)"},title:e.formatMessage({id:"sources.delete",defaultMessage:"Delete"}),onClick:function(e,a,n){var r=n.id;return t("/remove/".concat(r))}}];return!a.imported&&function(e,t,a){e.splice(1,0,{title:t.formatMessage({id:"sources.edit",defaultMessage:"Edit"}),onClick:function(e,t,n){var r=n.id;return a("/edit/".concat(r))}})}(n,e,t),n}}(a,t),rowWrapper:ue},i.a.createElement($.a,null),i.a.createElement(ee.a,null)):i.a.createElement(ce,null)};fe.propTypes={history:l.a.any.isRequired};var Ee=Object(c.k)(fe),he=a(230),ye=a(231),ge=a(242),ve=a(233),be=a(235),_e=a(226),Oe=a(234),Te=a(170),Me=a(49),Re=function(e){var t=e.title,a=e.body;return i.a.createElement(he.a,null,i.a.createElement(ye.a,null,i.a.createElement(ge.a,null,i.a.createElement(ve.a,null,i.a.createElement(be.a,{icon:Te.b}),i.a.createElement(_e.a,{headingLevel:"h5",size:"lg"},t||i.a.createElement(w.a,{id:"sources.emptyStateTitle",defaultMessage:"No sources"})),i.a.createElement(Oe.a,null,a||i.a.createElement(w.a,{id:"sources.emptyStateBody",defaultMessage:"No sources have been defined. To start define a source."})),i.a.createElement(s.Link,{to:Me.b.sourcesNew},i.a.createElement(G.a,{style:{marginTop:"var(--pf-c-empty-state--c-button--MarginTop)"},variant:"primary"},i.a.createElement(w.a,{id:"sources.emptyStateButton",defaultMessage:"Add a source"})))))))};Re.propTypes={title:l.a.node,body:l.a.node};var we=Re,De=a(272),Se=a(48),Ce=a.n(Se),Ae=function(e,t,a){return{title:i.a.createElement(w.a,{id:"sources.editSourceName",defaultMessage:"Edit source name"}),name:"step_1",stepKey:1,nextStep:t,fields:[{component:Se.componentTypes.TEXT_FIELD,name:"source.name",type:"text",label:i.a.createElement(w.a,{id:"sources.name",defaultMessage:"Name"}),validate:[function(e){return Object(W.asyncValidator)(e,a)}],isRequired:!0},{component:Se.componentTypes.SELECT_COMPONENT,name:"source_type",label:i.a.createElement(w.a,{id:"sources.type",defaultMessage:"Type"}),isRequired:!0,isDisabled:!0,readOnly:!0,options:function(e){return Q()(e.map(function(e){return{value:e.name,label:e.product_name}}))}(e),validate:[{type:Se.validatorTypes.REQUIRED}]}]}},Ie=function(e,t){return{fields:[{component:"description",name:"description",Content:function(){return i.a.createElement(O.a,null,i.a.createElement(w.a,{id:"sources.summaryDescription",defaultMessage:"Review source details and click Finish to complete source editing. Click Back to revise."}))}},{name:"summary",component:"summary",sourceTypes:e,showApp:!1,applicationTypes:t}],stepKey:"summary",name:"summary",title:i.a.createElement(w.a,{id:"sources.reviewSummary",defaultMessage:"Review source details"})}},ke=function(e){return{url:e.endpoint?S(e.endpoint):"",auth_select:e.authentication.authtype,endpoint:e.endpoint,authentication:e.authentication,source:e.source,source_type:e.source_type}};var Ne=a(204),Le=function(e){var t=e.name,a=e.Content,n=e.className,r=e.formOptions,o=e.assignFormOptions;return i.a.createElement("div",{className:n,id:t},o?i.a.createElement(a,{formOptions:r}):i.a.createElement(a,null))};Le.propTypes={name:l.a.string.isRequired,Content:l.a.oneOfType([l.a.element,l.a.func]).isRequired,className:l.a.string,assignFormOptions:l.a.bool,formOptions:l.a.shape({getState:l.a.func.isRequired}).isRequired},Le.defaultProps={className:void 0};var Pe=Le,je=a(240),Fe=a(241),xe=function(e){var t=e.match.params.id,a=Object(J.a)(),n=Object(o.useSelector)(function(e){return e.providers},o.shallowEqual),r=n.loaded,s=n.appTypesLoaded,u=n.sourceTypesLoaded,l=Object(o.useDispatch)();return r&&s&&u?(l(z(a.formatMessage({id:"sources.sourceNotFoundTitle",defaultMessage:"Requested source was not found"}),"danger",a.formatMessage({id:"sources.sourceNotFoundTitleDescription",defaultMessage:"Source with { id } was not found. Try it again later."},{id:t}))),i.a.createElement(c.c,{to:"/"})):null};xe.propTypes={match:l.a.shape({params:l.a.shape({id:l.a.string.isRequired}).isRequired}).isRequired};var qe=Object(c.k)(xe),Ue=function(e){return Object(o.useSelector)(function(t){return t.providers.entities.find(function(t){return t.id===e})})},Be=function(e){var t=e.formOptions,a=e.match.params.id,n=Object(o.useSelector)(function(e){return e.providers},o.shallowEqual),r=n.sourceTypes,s=n.appTypes,c=Ue(a);if(!c)return i.a.createElement(qe,null);var u=r.find(function(e){return e.id===c.source_type_id}),l=t.getState().values.application,d=s.find(function(e){return e.id===l});return i.a.createElement(O.a,null,i.a.createElement(je.a,{component:je.b.dl},i.a.createElement(Fe.a,{component:Fe.b.dt},i.a.createElement(w.a,{id:"sources.name",defaultMessage:"Name"})),i.a.createElement(Fe.a,{component:Fe.b.dd},c.name),u&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Fe.a,{component:Fe.b.dt},i.a.createElement(w.a,{id:"sources.sourceType",defaultMessage:"Source type"})),i.a.createElement(Fe.a,{component:Fe.b.dd},u.product_name)),i.a.createElement(Fe.a,{component:Fe.b.dt},i.a.createElement(w.a,{id:"sources.app",defaultMessage:"Application"})),i.a.createElement(Fe.a,{component:Fe.b.dd},d.display_name)))};Be.propTypes={formOptions:l.a.shape({getState:l.a.func.isRequired}),match:l.a.shape({params:l.a.shape({id:l.a.string.isRequired}).isRequired}).isRequired};var Ve=Object(c.k)(Be),ze=function(e){return i.a.createElement(Ce.a,re()({layoutMapper:Ne.layoutMapper,formFieldsMapper:m()({},Ne.formFieldsMapper,W.mapperExtension,{description:Pe,"add-application-summary":Ve})},e))},He=function(e){var t=e.match.params.id,a=e.history,n=Object(r.useState)(!0),s=y()(n,2),c=s[0],u=s[1],l=Object(J.a)(),p=Object(o.useSelector)(function(e){return e.providers},o.shallowEqual),f=p.source,E=p.sourceTypes,h=p.appTypes,g=p.sourceTypesLoaded,v=p.appTypesLoaded,b=Object(o.useDispatch)();Object(r.useEffect)(function(){b(V(t)).then(function(){return u(!1)})},[]);if(!v||!g||!f||c)return i.a.createElement(De.a,{isOpen:!0,onClose:a.goBack,title:l.formatMessage({id:"sources.editSource",defaultMessage:"Edit a source"}),description:l.formatMessage({id:"sources.editSourceDescription",defaultMessage:"You are editing a source"}),steps:[{name:"Loading",component:i.a.createElement("div",{className:"ins-c-sources__dialog--spinnerContainer"},i.a.createElement(d.Spinner,null)),isFinishedStep:!0}]});var _=function(e,t,a){var n=e&&e.find(function(e){return e.id===t.source_type_id}),r=n.name;return{initialValues:ke(m()({source_type:n.name},t)),schemaType:"default",showFormControls:!1,schema:{fields:[{component:Se.componentTypes.WIZARD,name:"wizard",inModal:!0,title:i.a.createElement(w.a,{id:"sources.editSource",defaultMessage:"Edit a source"}),description:i.a.createElement(w.a,{id:"sources.editSourceDescription",defaultMessage:"You are editing a source"}),buttonLabels:{submit:i.a.createElement(w.a,{id:"sources.finish",defaultMessage:"Finish"})},showTitles:!0,predictSteps:!0,fields:[Ae(e,r,t.id)].concat(Q()(Object(W.schemaBuilder)(e.filter(function(e){return e.name===r}),a,!0)),[Ie(e)])}]}}}(E,f,h);return i.a.createElement(ze,{initialValues:_.initialValues,schemaType:_.schemaType,schema:_.schema,uiSchema:_.uiSchema,showFormControls:_.showFormControls,onSubmit:function(e){return b(U(f,e,l.formatMessage({id:"sources.modifiedNotificationTitle",defaultMessage:'"{ name }" was modified successfully.'},{name:e.source.name}),l.formatMessage({id:"sources.modifiedNotificationDescription",defaultMessage:"The source was successfully modified."}),{authentication:l.formatMessage({id:"sources.sourceEditAuthFailure",defaultMessage:"Authentication update failure."}),source:l.formatMessage({id:"sources.sourceEditFailure",defaultMessage:"Source update failure."}),endpoint:l.formatMessage({id:"sources.sourceEditEndpointFailure",defaultMessage:"Endpoint update failure."})})).then(function(){a.push("/"),b(j())}).catch(function(e){a.push("/")})},onCancel:function(){return a.push("/")}})};He.propTypes={match:l.a.object.isRequired,history:l.a.any.isRequired};var Ye=Object(c.k)(He),Ge=a(232),Je=a(237),We=a(245),Ke=a(246),Qe=a(247),Xe=a(86),Ze=a(243),$e=a(244),et=function(e){var t=e.setApplicationToRemove,a=e.breakpoints,n=e.namePrefix,r=e.match.params.id,s=Object(o.useSelector)(function(e){return e.providers.appTypes}),c=Ue(r);if(!c)return i.a.createElement(qe,null);var u=c.applications.map(function(e){var t=e.application_type_id,a=s.find(function(e){return e.id===t});return a?a.display_name:void 0});return c.applications.filter(function(e){return!e.isDeleting}).map(function(e){var t=s.find(function(t){return t.id===e.application_type_id});if(t)return{display_name:t.display_name,id:e.id,dependent_applications:t.dependent_applications}}).sort(function(e,t){return e.display_name.localeCompare(t.display_name)}).map(function(e){var r=e.display_name,o=e.id,s=e.dependent_applications;return i.a.createElement(O.a,{key:o},i.a.createElement(Ze.a,null,i.a.createElement($e.a,{md:a.display_name||4},i.a.createElement(T.a,{component:T.b.p,style:{marginBottom:0}},n,r)),i.a.createElement($e.a,{md:a.remove||8,className:"ins-c-sources__remove-app"},i.a.createElement(G.a,{variant:G.c.link,isInline:!0,onClick:function(){return t({id:o,display_name:r,dependent_applications:s,sourceAppsNames:u})}},i.a.createElement(w.a,{id:"sources.remove",defaultMessage:"Remove"})))))})};et.propTypes={match:l.a.shape({params:l.a.shape({id:l.a.string.isRequired}).isRequired}).isRequired,setApplicationToRemove:l.a.func.isRequired,breakpoints:l.a.shape({display_name:l.a.number,remove:l.a.number}),namePrefix:l.a.node},et.defaultProps={breakpoints:{}};var tt=Object(c.k)(et),at=function(e){var t=e.app,a=e.onCancel,n=e.match.params.id,r=Object(J.a)(),s=Object(o.useSelector)(function(e){return e.providers.appTypes}),c=Ue(n),u=Object(o.useDispatch)();if(!c)return i.a.createElement(qe,null);var l=t.dependent_applications.map(function(e){var a=s.find(function(t){return t.name===e});return a&&t.sourceAppsNames.includes(a.display_name)?a.display_name:void 0}).filter(function(e){return e});return i.a.createElement(Je.a,{className:"ins-c-sources__dialog--warning",title:"Remove ".concat(t.display_name," application"),isOpen:!0,isSmall:!0,onClose:a,isFooterLeftAligned:!0,actions:[i.a.createElement(G.a,{id:"deleteSubmit",key:"submit",variant:"danger",type:"button",onClick:function(){var e=r.formatMessage({id:"sources.removeAppWarning",defaultMessage:"{ name } was removed from this source."},{name:t.display_name}),n=r.formatMessage({id:"sources.removeAppError",defaultMessage:"Removing of { name } application from this source was unsuccessful."},{name:t.display_name});return a(),u(H(t.id,c.id,e,n))}},i.a.createElement(w.a,{id:"sources.remove",defaultMessage:"Remove"})),i.a.createElement(G.a,{id:"deleteCancel",key:"cancel",variant:"link",type:"button",onClick:a},i.a.createElement(w.a,{id:"sources.cancel",defaultMessage:"Cancel"}))]},i.a.createElement(We.a,{gutter:"md"},i.a.createElement(Ke.a,null,i.a.createElement(Xe.b,{size:"xl",className:"ins-m-alert ins-c-source__delete-icon"})),i.a.createElement(Ke.a,{isFilled:!0},i.a.createElement(Qe.a,{gutter:"md"},i.a.createElement(O.a,null,i.a.createElement(T.a,{component:T.b.p},i.a.createElement(w.a,{id:"sources.deleteAppWarning",defaultMessage:"Are you sure to remove { appName } from this source?",values:{appName:t.display_name}})),l.length>0&&i.a.createElement(T.a,{component:T.b.p},i.a.createElement(w.a,{id:"sources.deleteAppDetails",defaultMessage:"This change will affect these applications: { apps }.",values:{apps:l}})))))))};at.propTypes={app:l.a.shape({id:l.a.string.isRequired,display_name:l.a.string.isRequired,dependent_applications:l.a.arrayOf(l.a.string),sourceAppsNames:l.a.arrayOf(l.a.string)}).isRequired,onCancel:l.a.func.isRequired,match:l.a.shape({params:l.a.shape({id:l.a.string.isRequired}).isRequired}).isRequired};var nt=Object(c.k)(at),rt=function(e){var t=e.history.push,a=e.match.params.id,n=Object(r.useState)(!1),s=y()(n,2),c=s[0],u=s[1],l=Object(r.useState)({}),d=y()(l,2),p=d[0],m=d[1],f=Object(J.a)(),E=Ue(a),h=Object(o.useDispatch)();if(!E)return i.a.createElement(qe,null);var g=function(){return t("/")},v=E.applications.some(function(e){return!e.isDeleting}),b=E.applications.length>0?[i.a.createElement(G.a,{id:"deleteCancel",key:"cancel",variant:"link",type:"button",onClick:g},i.a.createElement(w.a,{id:"sources.close",defaultMessage:"Close"}))]:[i.a.createElement(G.a,{id:"deleteSubmit",key:"submit",variant:"danger",type:"button",onClick:function(){t("/"),h(B(E.id,f.formatMessage({id:"sources.notificationDeleteMessage",defaultMessage:"{title} was deleted successfully."},{title:E.name})))},isDisabled:!c},i.a.createElement(w.a,{id:"sources.deleteConfirm",defaultMessage:"Delete this source and its data"})),i.a.createElement(G.a,{id:"deleteCancel",key:"cancel",variant:"link",type:"button",onClick:g},i.a.createElement(w.a,{id:"sources.deleteCancel",defaultMessage:"Do not delete this source"}))],_=E.applications.length>0?i.a.createElement(i.a.Fragment,null,i.a.createElement(T.a,{component:T.b.p},i.a.createElement(w.a,{id:"sources.deleteTextBodyWithApp",defaultMessage:"This action cannot be enacted until all assigned applications have been removed from this source."})),i.a.createElement(G.a,{variant:"link",isInline:!0,onClick:function(e){return t("/manage_apps/".concat(E.id))}},i.a.createElement(T.a,{component:T.b.p,style:{marginBottom:0}},i.a.createElement(w.a,{id:"sources.connectedApps",defaultMessage:"Connected applications:"}))),v?i.a.createElement(tt,{breakpoints:{display_name:8,remove:4},setApplicationToRemove:m,namePrefix:"- "}):i.a.createElement(T.a,{component:T.b.p},i.a.createElement(w.a,{id:"sources.connectedApps",defaultMessage:"Connected applications are being removed."}))):i.a.createElement(i.a.Fragment,null,i.a.createElement(T.a,{component:T.b.p},i.a.createElement(w.a,{id:"sources.deleteTextBody",defaultMessage:'Are you sure that you want to delete "{ name }"?',values:{name:E.name}})),i.a.createElement(T.a,{component:T.b.p},i.a.createElement(w.a,{id:"sources.delete-text-body-2",defaultMessage:"Deleting this source will permanently delete:"})),i.a.createElement(je.a,null,i.a.createElement(Fe.a,null,i.a.createElement(w.a,{id:"sources.deleteTextBody3",defaultMessage:"All data collected"})),i.a.createElement(Fe.a,null,i.a.createElement(w.a,{id:"sources.deleteTextBody4",defaultMessage:"Any and all historical data"}))),i.a.createElement(Ge.a,{label:f.formatMessage({id:"sources.deleteCheckboxTitle",defaultMessage:"I acknowledge that this action cannot be undone."}),onChange:function(){return u(function(e){return!e})},"aria-label":f.formatMessage({id:"sources.deleteCheckboxTitle",defaultMessage:"I acknowledge that this action cannot be undone."}),id:"acknowledgeDelete",name:"acknowledgeDelete",isChecked:c}));return i.a.createElement(Je.a,{className:"ins-c-sources__dialog--warning",title:f.formatMessage({id:"sources.deleteTitle",defaultMessage:"Delete {title}"},{title:E.name}),isOpen:!0,isSmall:!0,onClose:g,actions:b,isFooterLeftAligned:!0},p.id&&i.a.createElement(nt,{app:p,onCancel:function(){return m({})}}),i.a.createElement(We.a,{gutter:"md"},i.a.createElement(Ke.a,null,i.a.createElement(Xe.b,{size:"xl",className:"ins-m-alert ins-c-source__delete-icon"})),i.a.createElement(Ke.a,{isFilled:!0},i.a.createElement(Qe.a,{gutter:"md"},i.a.createElement(O.a,null,_)))))};rt.propTypes={history:l.a.shape({push:l.a.func.isRequired}).isRequired,match:l.a.shape({params:l.a.shape({id:l.a.string.isRequired}).isRequired}).isRequired};var it=Object(c.k)(rt),ot=function(e){var t=e.match.params.id,a=Object(r.useState)({}),n=y()(a,2),s=n[0],c=n[1],u=Object(o.useSelector)(function(e){return e.providers.sourceTypes}),l=Ue(t);if(!l)return i.a.createElement(qe,null);var d=u.find(function(e){return e.id===l.source_type_id}),p=l.applications.filter(function(e){return!e.isDeleting});return i.a.createElement(i.a.Fragment,null,s.id&&i.a.createElement(nt,{app:s,onCancel:function(){return c({})}}),i.a.createElement(O.a,null,i.a.createElement(Ze.a,{gutter:"md"},i.a.createElement($e.a,{md:2},i.a.createElement(T.a,{component:T.b.h4},i.a.createElement(w.a,{id:"sources.sourceName",defaultMessage:"Source name"}))),i.a.createElement($e.a,{md:2},i.a.createElement(T.a,{component:T.b.h4},i.a.createElement(w.a,{id:"sources.type",defaultMessage:"Type"}))),i.a.createElement($e.a,{md:8},i.a.createElement(T.a,{component:T.b.h4},i.a.createElement(w.a,{id:"sources.apps",defaultMessage:"Applications"}))),i.a.createElement($e.a,{md:2},i.a.createElement(T.a,{component:T.b.p},l.name)),i.a.createElement($e.a,{md:2},i.a.createElement(T.a,{component:T.b.p},d?d.product_name:i.a.createElement(w.a,{id:"sources.typeNotFound",defaultMessage:"Type not found"}))),i.a.createElement($e.a,{md:8},p.length>0?i.a.createElement(tt,{setApplicationToRemove:c}):i.a.createElement(w.a,{id:"sources.noApps",defaultMessage:"No applications"})))))};ot.propTypes={match:l.a.shape({params:l.a.shape({id:l.a.string.isRequired}).isRequired}).isRequired};var st=Object(c.k)(ot),ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return{fields:[{component:Se.componentTypes.WIZARD,name:"wizard",title:t.formatMessage({id:"sources.manageApps",defaultMessage:"Manage applications"}),inModal:!0,predictSteps:!0,showTitles:!0,description:t.formatMessage({id:"sources.addAppDescription",defaultMessage:"You are managing applications of this source"}),buttonLabels:{submit:t.formatMessage({id:"sources.finish",defaultMessage:"Finish"}),cancel:t.formatMessage({id:"sources.cancel",defaultMessage:"Cancel"}),back:t.formatMessage({id:"sources.back",defaultMessage:"Back"})},fields:[m()({},function(e){return e.length>0?{nextStep:"summary"}:{}}(e),{title:t.formatMessage({id:"sources.selectApp",defaultMessage:"Select application"}),stepKey:1,fields:[{component:"description",name:"description",Content:st},e.length>0?{component:"card-select",name:"application",options:e,label:t.formatMessage({id:"sources.chooseAppToAdd",defaultMessage:"Choose an application to add"}),DefaultIcon:function(){return i.a.createElement(i.a.Fragment,null)},isRequired:!0,validate:[{type:Se.validatorTypes.REQUIRED}]}:{component:"description",name:"description-no-options",validate:[{type:Se.validatorTypes.REQUIRED}],validateOnMount:!0,Content:function(){return i.a.createElement(O.a,null,i.a.createElement(T.a,{component:T.b.p},i.a.createElement(w.a,{id:"sources.allApplicationsAssigned",defaultMessage:"All available applications have already been added to this source or there is no available application for this source type."})))}}]}),{title:t.formatMessage({id:"sources.review",defaultMessage:"Review"}),stepKey:"summary",fields:[{component:"description",name:"description-summary",Content:function(){return i.a.createElement(O.a,null,i.a.createElement(T.a,{component:T.b.p},i.a.createElement(w.a,{id:"sources.reviewAddAppSummary",defaultMessage:"Review the information below and click Finish to add the application to your source."})," ",i.a.createElement("br",null),i.a.createElement(w.a,{id:"sources.backGuide",defaultMessage:"Use the Back button to make changes."})))}},{component:"add-application-summary",name:"summary"}]}]}]}},ut=a(236),lt=function(e){var t=e.onClose,a=e.customText;return i.a.createElement(ge.a,null,i.a.createElement(ve.a,{variant:ve.b.full},i.a.createElement("div",null,i.a.createElement(d.Spinner,null)),i.a.createElement(Oe.a,null,a),t&&i.a.createElement(ut.a,null,i.a.createElement(G.a,{variant:"link",onClick:t},i.a.createElement(w.a,{id:"sources.cancel",defaultMessage:"Cancel"})))))};lt.propTypes={onClose:l.a.func,customText:l.a.node},lt.defaultProps={customText:i.a.createElement(w.a,{id:"sources.loading",defaultMessage:"Loading, please wait."})};var dt=lt,pt=a(171),mt=function(e){var t=e.onClose,a=e.onRetry,n=e.message,r=e.title;return i.a.createElement(ge.a,null,i.a.createElement(ve.a,{variant:ve.b.full},i.a.createElement(be.a,{icon:pt.b,color:"var(--pf-global--danger-color--100)"}),i.a.createElement(_e.a,{headingLevel:"h5",size:"lg"},r),i.a.createElement(Oe.a,null,n),i.a.createElement(G.a,{variant:"primary",onClick:t},i.a.createElement(w.a,{id:"sources.backToSources",defaultMessage:"Back to Sources"})),a&&i.a.createElement(ut.a,null,i.a.createElement(G.a,{variant:"link",onClick:a},i.a.createElement(w.a,{id:"sources.retry",defaultMessage:"Retry"})))))};mt.propTypes={onClose:l.a.func.isRequired,message:l.a.node.isRequired,title:l.a.node.isRequired,onRetry:l.a.func};var ft=mt,Et=a(84),ht=function(e){var t=e.onClose,a=e.title,n=e.successfulMessage,r=e.secondaryActions;return i.a.createElement(ge.a,null,i.a.createElement(ve.a,{variant:ve.b.full},i.a.createElement(be.a,{icon:Et.b,color:"var(--pf-global--success-color--100)"}),i.a.createElement(_e.a,{headingLevel:"h5",size:"lg"},a),i.a.createElement(Oe.a,null,n),i.a.createElement(G.a,{variant:"primary",onClick:t},i.a.createElement(w.a,{id:"sources.backToSources",defaultMessage:"Back to Sources"})),r&&i.a.createElement(ut.a,null,r)))};ht.propTypes={onClose:l.a.func.isRequired,successfulMessage:l.a.node.isRequired,title:l.a.node.isRequired,secondaryActions:l.a.node};var yt=ht,gt={state:"wizard",error:"",values:{}},vt=function(e,t){return m()({},e,t)},bt=function(e){var t=e.history,a=e.match.params.id,n=Object(J.a)(),s=Object(o.useSelector)(function(e){return e.providers},o.shallowEqual),c=s.appTypes,u=s.sourceTypesLoaded,l=s.appTypesLoaded,d=s.sourceTypes,p=Ue(a),m=Object(o.useDispatch)(),f=Object(r.useReducer)(vt,gt),h=y()(f,2),g=h[0],v=h[1];if(!p||!l||!u)return i.a.createElement(qe,null);var b=p.applications.filter(function(e){return!e.isDeleting}).reduce(function(e,t){return[].concat(Q()(e),[t.application_type_id])},[]),_=d.find(function(e){return e.id===p.source_type_id}),M=_&&_.name,R=c.filter(function(e){return!b.includes(e.id)&&e.supported_source_types.includes(M)}),D=ct(R.map(function(e){var t=p.applications.find(function(t){return t.application_type_id===e.id}),a="".concat(e.display_name," ").concat(t?"(".concat(n.formatMessage({id:"sources.currentlyRemoving",defaultMessage:"Currently removing"}),")"):"");return{value:e.id,label:a,isDisabled:!!t}}),n);return"wizard"!==g.state?i.a.createElement(De.a,{isOpen:!0,onClose:function(){return t.push("/")},title:n.formatMessage({id:"sources.manageApps",defaultMessage:"Manage applications"}),description:n.formatMessage({id:"sources.addAppDescription",defaultMessage:"You are managing applications of this source"}),steps:[{name:"Finish",component:"loading"===g.state?i.a.createElement(dt,null):"finished"===g.state?i.a.createElement(yt,{onClose:function(){return t.push("/")},successfulMessage:i.a.createElement(w.a,{id:"sources.successAddApp",defaultMessage:"Your application has been successfully added."}),title:i.a.createElement(w.a,{id:"sources.configurationSuccessful",defaultMessage:"Configuration successful"}),secondaryActions:i.a.createElement(G.a,{variant:"link",onClick:function(){return v({values:{},state:"wizard"})}},i.a.createElement(w.a,{id:"sources.continueManageApp",defaultMessage:"Continue managing applications"}))}):i.a.createElement(ft,{onClose:function(){return t.push("/")},message:i.a.createElement(i.a.Fragment,null,i.a.createElement(w.a,{id:"sources.successAddApp",defaultMessage:"Your application has not been successfully added:"}),i.a.createElement("br",null),i.a.createElement(O.a,null,i.a.createElement(T.a,{component:T.b.h6},g.error))),title:i.a.createElement(w.a,{id:"sources.configurationSuccessful",defaultMessage:"Configuration unsuccessful"}),onRetry:function(){return v({state:"wizard"})}}),isFinishedStep:!0}]}):i.a.createElement(ze,{schema:D,showFormControls:!1,onSubmit:R.length>0?function(e){var t=e.application;return v({state:"loading"}),function(e,t){return L().createApplication({source_id:e,application_type_id:t})}(p.id,t).then(function(e){v({state:"finished"}),m(function(e,t){return{type:E.b,payload:{sourceId:e,app:t}}}(p.id,e))}).catch(function(e){var a=y()(e.errors,1)[0].detail;v({state:"errored",error:a,values:{application:t}})})}:function(){return t.push("/")},onCancel:function(){return t.push("/")},initialValues:g.values})};bt.propTypes={history:l.a.shape({push:l.a.func.isRequired}).isRequired,match:l.a.shape({params:l.a.shape({id:l.a.string.isRequired}).isRequired}).isRequired};var _t=Object(c.k)(bt),Ot=function(e){var t=e.messageId,a=e.history,n=e.values,r=Object(o.useDispatch)(),s=Object(o.useSelector)(function(e){return e.notifications});return i.a.createElement(G.a,{variant:"link",isInline:!0,onClick:function(){var e=s.find(function(e){return e.customId===t});e&&r(function(e){return function(t){return t({type:f.REMOVE_NOTIFICATION,payload:e})}}(e.id)),r(function(e){return{type:E.j,payload:{values:e}}}(n)),a.location.pathname===Me.b.sourcesNew?function(e){e.push("/"),e.goBack()}(a):a.push(Me.b.sourcesNew)}},i.a.createElement(w.a,{id:"sources.undo",defaultMessage:"Undo"}))};Ot.propTypes={history:l.a.any.isRequired,messageId:l.a.number.isRequired,values:l.a.object.isRequired};var Tt=Object(c.k)(Ot),Mt=a(311),Rt=a.n(Mt);a.d(t,"onCloseAddSourceWizard",function(){return wt}),a.d(t,"afterSuccessLoadParameters",function(){return Dt}),a.d(t,"afterSuccess",function(){return St});var wt=function(e){var t=e.values,a=e.dispatch,n=e.history,r=e.intl;if(t&&!Rt()(t)){var o=Date.now();a(z(r.formatMessage({id:"sources.addWizardCanceled",defaultMessage:"Adding a source was cancelled"}),"success",i.a.createElement(w.a,{id:"sources.undoMistake",defaultMessage:"{undo} if this was a mistake.",values:{undo:i.a.createElement(Tt,{messageId:o,values:t})}}),o))}a(Y()),n.push("/")},Dt={pageNumber:1,sortBy:"created_at",sortDirection:"desc"},St=function(e){e(Y()),e(j(Dt))},Ct=function(e){var t=e.history,a=e.match,n=e.location,u=Object(J.a)(),l=Object(o.useSelector)(function(e){return e.providers},o.shallowEqual),p=l.filterValue,m=l.loaded,f=l.numberOfEntities,h=l.appTypes,y=l.entities,g=l.pageSize,v=l.pageNumber,b=l.fetchingError,_=l.addSourceInitialValues,O=l.sortBy,T=l.sortDirection,M=l.filterColumn,R=l.sourceTypes,D=Object(o.useDispatch)();Object(r.useEffect)(function(){Promise.all([D(F()),D(x()),D(j())])},[]);var S=function(e){return D(q(e,g))},C=function(e){return D(q(1,e))},A=p&&""!==p?le(y,{sourceTypes:R,sortBy:O,sortDirection:T,filterColumn:M,filterValue:p,pageSize:g,pageNumber:v}).length:f,I=Math.ceil(A/g);m&&v>I&&S(I);var k=m&&!p&&(!A||0===A),N=n.pathname===Me.b.sourcesNew,L=a.path===Me.b.sourcesEdit;return i.a.createElement(i.a.Fragment,null,i.a.createElement(c.d,{exact:!0,path:Me.b.sourceManageApps,component:_t}),i.a.createElement(c.d,{exact:!0,path:Me.b.sourcesRemove,component:it}),N&&i.a.createElement(W.AddSourceWizard,{sourceTypes:R,applicationTypes:h,isOpen:!0,onClose:function(e){return wt({values:e,dispatch:D,history:t,intl:u})},afterSuccess:function(){return St(D)},hideSourcesButton:!0,initialValues:_}),L&&i.a.createElement(Ye,null),i.a.createElement(d.PageHeader,null,i.a.createElement(d.PageHeaderTitle,{title:u.formatMessage({id:"sources.sources",defaultMessage:"Sources"})})),i.a.createElement(d.Section,{type:"content"},k||b?i.a.createElement(we,{title:b?b.title:void 0,body:b?b.detail:void 0}):i.a.createElement(i.a.Fragment,null,i.a.createElement(d.PrimaryToolbar,{pagination:{itemCount:A||0,page:v,perPage:g,onSetPage:function(e,t){return S(t)},onPerPageSelect:function(e,t){return C(t)},isCompact:!1},actionsConfig:{actions:[i.a.createElement(s.Link,{to:Me.b.sourcesNew,key:"addSourceButton"},i.a.createElement(G.a,{variant:"primary"},i.a.createElement(w.a,{id:"sources.addSource",defaultMessage:"Add a source"})))]},filterConfig:{items:[{label:u.formatMessage({id:"sources.filterBySourceName",defaultMessage:"name"}),value:p,filterValues:{onChange:function(e,t,a,n){return D(function(e){return{type:E.d,payload:{value:e}}}(t))}}}]}}),i.a.createElement(Ee,null),i.a.createElement(d.PrimaryToolbar,{pagination:{itemCount:A||0,page:v,perPage:g,onSetPage:function(e,t){return S(t)},onPerPageSelect:function(e,t){return C(t)},isCompact:!1,dropDirection:"up",variant:"bottom"}}))))};Ct.propTypes={location:l.a.any.isRequired,match:l.a.object.isRequired,history:l.a.any.isRequired};t.default=Object(c.k)(Ct)},487:function(e,t,a){"use strict";a.r(t);var n,r,i=a(2),o=a.n(i),s=a(18),c=a.n(s),u=a(30),l=a(12),d=a(293),p=a.n(d),m=a(294),f=a.n(m),E=a(295),h=a.n(E),y=a(296),g=a.n(y),v=a(297),b=a.n(v),_=a(284),O=a.n(_),T=a(180),M=a(37),R=a(304),w=a.n(R),D=a(305),S=a(494),C=a(306),A=a(23),I=a.n(A),k=a(51),N=a.n(k),L=a(196),P=a.n(L),j=a(7),F=a.n(j),x=a(11),q={loaded:!1,pageSize:50,pageNumber:1,entities:[],numberOfEntities:0,filterColumn:"name",appTypesLoaded:!1,sourceTypesLoaded:!1,addSourceInitialValues:{}},U=(n={},I()(n,x.a.LOAD_ENTITIES_PENDING,function(e){return F()({},e,{loaded:!1})}),I()(n,x.a.LOAD_ENTITIES_FULFILLED,function(e,t){var a=t.payload,n=P()(t,["payload"]);return F()({},e,n,{loaded:!0,entities:a,numberOfEntities:a.length})}),I()(n,x.a.LOAD_ENTITIES_REJECTED,function(e,t){var a=t.payload.error;return F()({},e,{fetchingError:a})}),I()(n,x.a.LOAD_SOURCE_TYPES_PENDING,function(e){return F()({},e,{sourceTypes:[],sourceTypesLoaded:!1})}),I()(n,x.a.LOAD_SOURCE_TYPES_FULFILLED,function(e,t){var a=t.payload;return F()({},e,{sourceTypes:a,sourceTypesLoaded:!0})}),I()(n,x.a.LOAD_APP_TYPES_PENDING,function(e){return F()({},e,{appTypes:[],appTypesLoaded:!1})}),I()(n,x.a.LOAD_APP_TYPES_FULFILLED,function(e,t){var a=t.payload;return F()({},e,{appTypes:a,appTypesLoaded:!0})}),I()(n,x.a.REMOVE_SOURCE_PENDING,function(e,t){var a=t.meta;return F()({},e,{entities:e.entities.map(function(e){return e.id===a.sourceId?F()({},e,{isDeleting:!0}):e})})}),I()(n,x.a.REMOVE_SOURCE_FULFILLED,function(e,t){var a=t.meta;return F()({},e,{entities:e.entities.map(function(e){return e.id===a.sourceId?void 0:e}).filter(function(e){return e}),numberOfEntities:e.numberOfEntities-1})}),I()(n,x.a.REMOVE_SOURCE_REJECTED,function(e,t){var a=t.meta;return F()({},e,{entities:e.entities.map(function(e){return e.id===a.sourceId?F()({},e,{isDeleting:void 0}):e})})}),I()(n,x.a.REMOVE_APPLICATION_PENDING,function(e,t){var a=t.meta;return F()({},e,{entities:e.entities.map(function(e){return e.id===a.sourceId?F()({},e,{applications:e.applications.map(function(e){return e.id===a.appId?F()({},e,{isDeleting:!0}):e})}):e})})}),I()(n,x.a.REMOVE_APPLICATION_FULFILLED,function(e,t){var a=t.meta;return F()({},e,{entities:e.entities.map(function(e){return e.id===a.sourceId?F()({},e,{applications:e.applications.filter(function(e){return e.id!==a.appId})}):e})})}),I()(n,x.a.REMOVE_APPLICATION_REJECTED,function(e,t){var a=t.meta;return F()({},e,{entities:e.entities.map(function(e){return e.id===a.sourceId?F()({},e,{applications:e.applications.map(function(e){return e.id===a.appId?F()({},e,{isDeleting:void 0}):e})}):e})})}),I()(n,x.g,function(e,t){var a=t.payload,n=a.column,r=a.direction;return F()({},e,{sortBy:n,sortDirection:r})}),I()(n,x.e,function(e,t){var a=t.payload,n=a.page,r=a.size;return F()({},e,{pageSize:r,pageNumber:n})}),I()(n,x.d,function(e,t){var a=t.payload.value;return F()({},e,{filterValue:a})}),I()(n,x.f,function(e,t){var a=t.payload.column;return F()({},e,{filterColumn:a})}),I()(n,x.i,function(e,t){var a=t.payload;return F()({},e,{source:a})}),I()(n,x.h,function(e){return F()({},e,{source:null})}),I()(n,x.b,function(e,t){var a=t.payload,n=a.sourceId,r=a.app;return F()({},e,{entities:e.entities.map(function(e){return e.id===n?F()({},e,{applications:[].concat(N()(e.applications),[r])}):e})})}),I()(n,x.j,function(e,t){var a=t.payload.values;return F()({},e,{addSourceInitialValues:a})}),I()(n,x.c,function(e){return F()({},e,{addSourceInitialValues:{}})}),n),B=a(49),V=(a(482),function(e){function t(){return p()(this,t),h()(this,g()(t).apply(this,arguments))}return b()(t,e),f()(t,[{key:"componentDidMount",value:function(){t.getRegistry().register({providers:Object(_.applyReducerHash)(U,q)}),t.getRegistry().register({notifications:T.notifications}),insights.chrome.init();try{insights.chrome.identifyApp("sources")}catch(e){console.warn("Failed to initialize chrome navigation.")}}},{key:"render",value:function(){return o.a.createElement(S.a,{locale:"en"},o.a.createElement(i.Fragment,null,o.a.createElement(T.NotificationsPortal,null),o.a.createElement(M.Main,{style:{padding:0}},o.a.createElement(B.a,{childProps:this.props}))))}}],[{key:"getRegistry",value:function(){return r||(r=new O.a({},[D.a,Object(T.notificationsMiddleware)({errorTitleKey:"error.title",errorDescriptionKey:"error.detail"}),w.a,C.a])),r}}]),t}(i.Component)),z=a(312);c.a.render(o.a.createElement(l.Provider,{store:V.getRegistry().getStore()},o.a.createElement(u.BrowserRouter,{basename:Object(z.getBaseName)(location.pathname)},o.a.createElement(V,null))),document.getElementById("root"))},49:function(e,t,a){"use strict";a.d(t,"b",function(){return E});var n=a(307),r=a.n(n),i=a(2),o=a.n(i),s=a(217),c=a(1),u=a.n(c),l=a(308),d=a.n(l),p=a(194),m=Object(i.lazy)(function(){return Promise.resolve().then(function(){return r()(a(486))})}),f=function(){return o.a.createElement(p.default,null,o.a.createElement("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"70",height:"70"}),o.a.createElement("rect",{x:"80",y:"17",rx:"4",ry:"4",width:"300",height:"13"}),o.a.createElement("rect",{x:"80",y:"40",rx:"3",ry:"3",width:"250",height:"10"}))},E={sources:"/",sourcesNew:"/new",sourcesEdit:"/edit/:id",sourcesRemove:"/remove/:id",sourceManageApps:"/manage_apps/:id"},h=function(e){var t=e.location.pathname;return o.a.createElement("div",{className:"pf-c-page__main pf-l-page__main"},o.a.createElement(i.Suspense,{fallback:o.a.createElement(f,null)},o.a.createElement(s.g,null,o.a.createElement(s.d,{exact:!0,path:E.sources,component:m}),o.a.createElement(s.d,{exact:!0,path:E.sourcesNew,component:m}),o.a.createElement(s.d,{path:E.sourcesEdit,component:m}),o.a.createElement(s.d,{path:E.sourcesRemove,component:m}),o.a.createElement(s.d,{path:E.sourceManageApps,component:m}),o.a.createElement(s.d,{render:function(){return d()(E,function(e){return e===t})?null:o.a.createElement(s.c,{to:E.providers})}}))))};h.propTypes={childProps:u.a.any.isRequired,location:u.a.shape({pathname:u.a.string.isRequired}).isRequired},t.a=Object(s.k)(h)}});
//# sourceMappingURL=../sourcemaps/App.js.map