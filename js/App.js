!function(e){function t(t){for(var r,a,o=t[0],i=t[1],c=t[2],s=0,u=[];s<o.length;s++)a=o[s],Object.prototype.hasOwnProperty.call(T,a)&&T[a]&&u.push(T[a][0]),T[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(N&&N(t);u.length;)u.shift()();return k.push.apply(k,c||[]),n()}function n(){for(var e,t=0;t<k.length;t++){for(var n=k[t],r=!0,a=1;a<n.length;a++){var o=n[a];0!==T[o]&&(r=!1)}r&&(k.splice(t--,1),e=C(C.s=n[0]))}return e}var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!_[e]||!O[e])return;for(var n in O[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(y[n]=t[n]);0==--h&&0===E&&P()}(e,t),r&&r(e,t)};var a,o=!0,i="f5b4a222fdd912c1f631",c=1e4,s={},u=[],l=[];function d(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:a!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:w,apply:D,status:function(e){if(!e)return f;p.push(e)},addStatusHandler:function(e){p.push(e)},removeStatusHandler:function(e){var t=p.indexOf(e);t>=0&&p.splice(t,1)},data:s[e]};return a=void 0,t}var p=[],f="idle";function m(e){f=e;for(var t=0;t<p.length;t++)p[t].call(null,e)}var b,y,g,h=0,E=0,v={},O={},_={};function j(e){return+e+""===e?+e:e}function w(e){if("idle"!==f)throw new Error("check() is only allowed in idle status");return o=e,m("check"),(t=c,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,a=C.p+""+i+".hot-update.json";r.open("GET",a,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+a+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+a+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return m("idle"),null;O={},v={},_=e.c,g=e.h,m("prepare");var t=new Promise((function(e,t){b={resolve:e,reject:t}}));for(var n in y={},T)M(n);return"prepare"===f&&0===E&&0===h&&P(),t}));var t}function M(e){_[e]?(O[e]=!0,h++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=C.p+""+e+"."+i+".hot-update.js",document.head.appendChild(t)}(e)):v[e]=!0}function P(){m("ready");var e=b;if(b=null,e)if(o)Promise.resolve().then((function(){return D(o)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in y)Object.prototype.hasOwnProperty.call(y,n)&&t.push(j(n));e.resolve(t)}}function D(t){if("ready"!==f)throw new Error("apply() is only allowed in ready status");var n,r,a,o,c;function l(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var a=r.pop(),i=a.id,c=a.chain;if((o=S[i])&&!o.hot._selfAccepted){if(o.hot._selfDeclined)return{type:"self-declined",chain:c,moduleId:i};if(o.hot._main)return{type:"unaccepted",chain:c,moduleId:i};for(var s=0;s<o.parents.length;s++){var u=o.parents[s],l=S[u];if(l){if(l.hot._declinedDependencies[i])return{type:"declined",chain:c.concat([u]),moduleId:i,parentId:u};-1===t.indexOf(u)&&(l.hot._acceptedDependencies[i]?(n[u]||(n[u]=[]),d(n[u],[i])):(delete n[u],t.push(u),r.push({chain:c.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var p={},b=[],h={},E=function(){console.warn("[HMR] unexpected require("+O.moduleId+") to disposed module")};for(var v in y)if(Object.prototype.hasOwnProperty.call(y,v)){var O;c=j(v);var w=!1,M=!1,P=!1,D="";switch((O=y[v]?l(c):{type:"disposed",moduleId:v}).chain&&(D="\nUpdate propagation: "+O.chain.join(" -> ")),O.type){case"self-declined":t.onDeclined&&t.onDeclined(O),t.ignoreDeclined||(w=new Error("Aborted because of self decline: "+O.moduleId+D));break;case"declined":t.onDeclined&&t.onDeclined(O),t.ignoreDeclined||(w=new Error("Aborted because of declined dependency: "+O.moduleId+" in "+O.parentId+D));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(O),t.ignoreUnaccepted||(w=new Error("Aborted because "+c+" is not accepted"+D));break;case"accepted":t.onAccepted&&t.onAccepted(O),M=!0;break;case"disposed":t.onDisposed&&t.onDisposed(O),P=!0;break;default:throw new Error("Unexception type "+O.type)}if(w)return m("abort"),Promise.reject(w);if(M)for(c in h[c]=y[c],d(b,O.outdatedModules),O.outdatedDependencies)Object.prototype.hasOwnProperty.call(O.outdatedDependencies,c)&&(p[c]||(p[c]=[]),d(p[c],O.outdatedDependencies[c]));P&&(d(b,[O.moduleId]),h[c]=E)}var k,A=[];for(r=0;r<b.length;r++)c=b[r],S[c]&&S[c].hot._selfAccepted&&h[c]!==E&&A.push({module:c,errorHandler:S[c].hot._selfAccepted});m("dispose"),Object.keys(_).forEach((function(e){!1===_[e]&&function(e){delete T[e]}(e)}));for(var R,I,N=b.slice();N.length>0;)if(c=N.pop(),o=S[c]){var L={},F=o.hot._disposeHandlers;for(a=0;a<F.length;a++)(n=F[a])(L);for(s[c]=L,o.hot.active=!1,delete S[c],delete p[c],a=0;a<o.children.length;a++){var x=S[o.children[a]];x&&((k=x.parents.indexOf(c))>=0&&x.parents.splice(k,1))}}for(c in p)if(Object.prototype.hasOwnProperty.call(p,c)&&(o=S[c]))for(I=p[c],a=0;a<I.length;a++)R=I[a],(k=o.children.indexOf(R))>=0&&o.children.splice(k,1);for(c in m("apply"),i=g,h)Object.prototype.hasOwnProperty.call(h,c)&&(e[c]=h[c]);var U=null;for(c in p)if(Object.prototype.hasOwnProperty.call(p,c)&&(o=S[c])){I=p[c];var q=[];for(r=0;r<I.length;r++)if(R=I[r],n=o.hot._acceptedDependencies[R]){if(-1!==q.indexOf(n))continue;q.push(n)}for(r=0;r<q.length;r++){n=q[r];try{n(I)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:c,dependencyId:I[r],error:e}),t.ignoreErrored||U||(U=e)}}}for(r=0;r<A.length;r++){var B=A[r];c=B.module,u=[c];try{C(c)}catch(e){if("function"==typeof B.errorHandler)try{B.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:c,error:n,originalError:e}),t.ignoreErrored||U||(U=n),U||(U=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:c,error:e}),t.ignoreErrored||U||(U=e)}}return U?(m("fail"),Promise.reject(U)):(m("idle"),new Promise((function(e){e(b)})))}var S={},T={0:0},k=[];function C(t){if(S[t])return S[t].exports;var n=S[t]={i:t,l:!1,exports:{},hot:d(t),parents:(l=u,u=[],l),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=S[e];if(!t)return C;var n=function(n){return t.hot.active?(S[n]?-1===S[n].parents.indexOf(e)&&S[n].parents.push(e):(u=[e],a=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),u=[]),C(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return C[e]},set:function(t){C[e]=t}}};for(var o in C)Object.prototype.hasOwnProperty.call(C,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(n,o,r(o));return n.e=function(e){return"ready"===f&&m("prepare"),E++,C.e(e).then(t,(function(e){throw t(),e}));function t(){E--,"prepare"===f&&(v[e]||M(e),0===E&&0===h&&P())}},n.t=function(e,t){return 1&t&&(e=n(e)),C.t(e,-2&t)},n}(t)),n.l=!0,n.exports}C.m=e,C.c=S,C.d=function(e,t,n){C.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},C.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},C.t=function(e,t){if(1&t&&(e=C(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(C.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)C.d(n,r,function(t){return e[t]}.bind(null,r));return n},C.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return C.d(t,"a",t),t},C.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},C.p="/beta/apps/sources/",C.h=function(){return i};var A=window.webpackJsonp=window.webpackJsonp||[],R=A.push.bind(A);A.push=t,A=A.slice();for(var I=0;I<A.length;I++)t(A[I]);var N=R;k.push([490,1]),n()}({108:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return M}));var r=n(2),a=n.n(r),o=n(121),i=n(80),c=n(144),s=n(148),u=n(143),l=n(51),d=n(43),p=n(130),f=n(127),m=n(128),b=n(141),y=function(e){return{http:"80",https:"443"}[e]},g=function(e){var t=e.scheme,n=e.host,r=e.path,a=e.port;return"".concat(t,"://").concat(n).concat(function(e,t){return t&&String(t)!==y(e)?":".concat(t):""}(t,a)).concat(r||"")},h=function(e,t,n){var r=n.appTypes,c=e.map((function(e){var t=r.find((function(t){return t.id===e.application_type_id}));if(t)return t.display_name})).filter((function(e){return void 0!==e}));return a.a.createElement(o.a,null,c.length>0?c.sort((function(e,t){return e.localeCompare(t)})).map((function(e,t){return a.a.createElement(i.a,{key:e,className:"pf-u-mb-0-on-sm"},e,t<c.length-1&&a.a.createElement("br",{key:t}))})):"--")},E=function(e,t,n){var r=n.sourceTypes.find((function(t){return t.id===e}));return r&&r.product_name||e||""},v=function(e){return a.a.createElement(i.a,{style:{marginBottom:0},component:i.b.p,className:"ins-c-sources__help-cursor"},a.a.createElement(d.DateFormat,{type:"relative",date:e}))},O=function(e,t,n){var r=n.sourceTypes;return a.a.createElement(o.a,null,e,a.a.createElement("br",{key:"".concat(t.id,"-br")}),a.a.createElement(i.a,{key:t.id,component:i.b.small},function(e,t){var n=t.find((function(t){return t.id===e.source_type_id}));return n&&"openshift"===n.name}(t,r)&&function(e){return e.endpoints&&e.endpoints[0]&&g(e.endpoints[0])}(t)))},_=function(e){if(!e)return null;var t=function(e){return{cfme:a.a.createElement(l.a,{id:"sources.cloudformImportTooltip",defaultMessage:"This source can be managed from your connected CloudForms application."})}[e.toLowerCase()]}(e);return t?a.a.createElement(c.a,{content:t},a.a.createElement(s.a,{isRead:!0,className:"ins-c-sources__help-cursor"},a.a.createElement(l.a,{id:"sources.imported",defaultMessage:"imported"}))):a.a.createElement(s.a,{isRead:!0},a.a.createElement(l.a,{id:"sources.imported",defaultMessage:"imported"}))},j=function(e,t){return e.applications&&e.applications.length>0?e.applications.some((function(e){return"unavailable"===e.availability_status}))?e.applications.map((function(e,n){var r=e.application_type_id,o=e.availability_status_error;if("unavailable"===e.availability_status){var i=t.find((function(e){return e.id===r})),c=i?i.display_name:"";return o?"".concat(o," \n ").concat(c?"(".concat(c,")"):""):a.a.createElement(l.a,{key:o||n,id:"sources.unknownAppError",defaultMessage:"Unknown application error ({ appName }) ",values:{appName:c}})}})):a.a.createElement(l.a,{id:"sources.unknownError",defaultMessage:"Unknown error"}):a.a.createElement(l.a,{key:"availability_status_error",id:"sources.unknownAppError",defaultMessage:"Unknown source error."})},w=function(e,t,n){var r=n.appTypes,c=!t.applications||0===t.applications.length,s=c?"--":a.a.createElement(a.a.Fragment,null,function(e){return{unavailable:a.a.createElement(p.b,{className:"ins-c-sources__availability-not-ok"}),available:a.a.createElement(f.b,{className:"ins-c-sources__availability-ok"}),partially_available:a.a.createElement(m.b,{className:"ins-c-sources__availability-partially"})}[e]||a.a.createElement(b.b,{className:"ins-c-sources__availability-unknown"})}(e)," ",function(e){return{unavailable:a.a.createElement(l.a,{id:"sources.unavailable",defaultMessage:"Unavailable"}),available:a.a.createElement(l.a,{id:"sources.ok",defaultMessage:"OK"}),partially_available:a.a.createElement(l.a,{id:"sources.partiallyAvailable",defaultMessage:"Partially available"})}[e]||a.a.createElement(l.a,{id:"sources.unknown",defaultMessage:"Unknown"})}(e)),d=c?a.a.createElement(l.a,{id:"sources.noAppConnected",defaultMessage:"No application connected."}):function(e,t,n){return{unavailable:a.a.createElement(a.a.Fragment,null,a.a.createElement(l.a,{id:"sources.appStatusPartiallyOK",defaultMessage:"We found these errors:"}),a.a.createElement("br",null),j(t,n)),available:a.a.createElement(l.a,{id:"sources.appStatusOK",defaultMessage:"Everything works fine - all applications are connected."}),partially_available:a.a.createElement(a.a.Fragment,null,a.a.createElement(l.a,{id:"sources.appStatusPartiallyOK",defaultMessage:"We found these errors:"}),a.a.createElement("br",null),j(t,n))}[e]||a.a.createElement(l.a,{id:"sources.appStatusUnknown",defaultMessage:"Status has not been verified."})}(e,t,r);return a.a.createElement(o.a,{className:"clickable"},a.a.createElement(i.a,{key:e,component:i.b.p},a.a.createElement(u.a,{"aria-label":"".concat(e," popover"),bodyContent:a.a.createElement("h1",null,d)},a.a.createElement("span",null,s))))},M=function(e){return{nameFormatter:O,dateFormatter:v,applicationFormatter:h,sourceTypeFormatter:E,importedFormatter:_,availabilityFormatter:w}[e]||function(e){return function(t){return"undefined ".concat(e," formatter of value: ").concat(t)}}(e)}},13:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"i",(function(){return c})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return b}));var r=n(39),a=n.n(r),o=["LOAD_ENTITIES","CREATE_SOURCE","REMOVE_SOURCE","LOAD_SOURCE_TYPES","LOAD_APP_TYPES","REMOVE_APPLICATION"].reduce((function(e,t){return[].concat(a()(e),[t,"".concat(t,"_PENDING"),"".concat(t,"_FULFILLED"),"".concat(t,"_REJECTED")])}),[]),i=a()(o).reduce((function(e,t){return e[t]=t,e}),{}),c="SORT_ENTITIES",s="PAGE_AND_SIZE",u="FILTER_PROVIDERS",l="ADD_APP_TO_SOURCE",d="UNDO_ADDD_SOURCE",p="CLEAR_ADD_SOURCE",f="SET_COUNT",m="ADD_HIDDEN_SOURCE",b="CLEAR_FILTERS"},16:function(e,t,n){"use strict";var r=n(27),a=n.n(r),o=n(78),i=n(13),c=n(28),s=n(8),u=n.n(s),l=n(108),d=n(85);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e){return e.url?function(e){if(!e)return{};try{var t=new URL(e),n=t.protocol.replace(/:$/,"");return{scheme:n,host:t.hostname,port:""===t.port?Object(l.a)(n):t.port,path:t.pathname}}catch(e){return{}}}(e.url):e.endpoint?e.endpoint:e},b=function(e,t,n){var r,a,o=[];if(t.source&&o.push(Object(c.i)().updateSource(e.source.id,t.source).catch((function(e){throw{error:{title:n.source,detail:e.errors[0].detail}}}))),t.endpoint||t.url){var i=m(t),s=i.scheme,u=i.host,l=i.port,p=i.path,b=parseInt(l,10),y=f({scheme:s,host:u,path:p,port:isNaN(b)?void 0:b},t.endpoint);o.push(Object(c.i)().updateEndpoint(e.endpoints[0].id,y).catch((function(e){throw{error:{title:n.endpoint,detail:e.errors[0].detail}}})))}if(t.authentications&&Object.keys(t.authentications).forEach((function(e){var r=e.replace("a","");o.push(Object(c.i)().updateAuthentication(r,t.authentications[e]).catch((function(e){throw{error:{title:n.authentication,detail:e.errors[0].detail}}})))})),t.billing_source||t.credentials){var g={};t.credentials&&(g={authentication:{credentials:t.credentials}}),t.billing_source&&(g=f({},g,{billing_source:t.billing_source})),o.push((r=e.source.id,a=g,c.a.patch("".concat(d.a,"/sources/").concat(r,"/"),a)).catch((function(e){throw{error:{title:n.costManagement,detail:e.errors[0].detail}}})))}return Promise.all(o)};n.d(t,"h",(function(){return y})),n.d(t,"i",(function(){return g})),n.d(t,"g",(function(){return h})),n.d(t,"n",(function(){return E})),n.d(t,"j",(function(){return v})),n.d(t,"f",(function(){return O})),n.d(t,"p",(function(){return _})),n.d(t,"c",(function(){return j})),n.d(t,"m",(function(){return w})),n.d(t,"l",(function(){return M})),n.d(t,"k",(function(){return P})),n.d(t,"a",(function(){return D})),n.d(t,"o",(function(){return S})),n.d(t,"d",(function(){return T})),n.d(t,"b",(function(){return k})),n.d(t,"e",(function(){return C}));var y=function(e){return function(t,n){t({type:i.a.LOAD_ENTITIES_PENDING,options:e});var r=n().providers,o=r.pageSize,s=r.pageNumber,u=r.sortBy,l=r.sortDirection,d=r.filterValue;return Promise.all([Object(c.f)({pageSize:o,pageNumber:s,sortBy:u,sortDirection:l,filterValue:d}),Object(c.e)(d).then((function(e){var n=e.meta.count;return t({type:i.h,payload:{count:n}})}))]).then((function(e){var n=a()(e,1)[0].sources;return t({type:i.a.LOAD_ENTITIES_FULFILLED,payload:n})})).catch((function(e){return t({type:i.a.LOAD_ENTITIES_REJECTED,payload:{error:{detail:e.detail||e.data,title:"Fetching data failed, try refresh page"}}})}))}},g=function(){return function(e){return e({type:i.a.LOAD_SOURCE_TYPES_PENDING}),Object(c.i)().listSourceTypes().then((function(e){return e.data})).then((function(t){return e({type:i.a.LOAD_SOURCE_TYPES_FULFILLED,payload:t})}))}},h=function(){return function(e){return e({type:i.a.LOAD_APP_TYPES_PENDING}),Object(c.d)().then((function(t){return e({type:i.a.LOAD_APP_TYPES_FULFILLED,payload:t.data})}))}},E=function(e,t){return function(n){return n({type:i.i,payload:{column:e,direction:t}}),n(y())}},v=function(e,t){return function(n){return n({type:i.g,payload:{page:e,size:t}}),n(y())}},O=function(e){return function(t){return t({type:i.f,payload:{value:e}}),t(y())}},_=function(e,t,n,r,a){return function(i){return b(e,t,a).then((function(e){return i({type:o.ADD_NOTIFICATION,payload:{variant:"success",title:n,description:r,dismissable:!0}})})).catch((function(e){throw i({type:"FOOBAR_REJECTED",payload:e}),e}))}},j=function(e,t,n,r){return function(a){return a({type:o.ADD_NOTIFICATION,payload:{title:e,variant:t,description:n,dismissable:!0,customId:r}})}},w=function(e,t){return function(n){return n({type:i.a.REMOVE_SOURCE_PENDING,meta:{sourceId:e}}),Object(c.h)(e).then((function(){return n(y({loaded:!0}))})).then((function(){n({type:i.a.REMOVE_SOURCE_FULFILLED,meta:{sourceId:e}}),n(j(t,"success"))})).catch((function(){return n({type:i.a.REMOVE_SOURCE_REJECTED,meta:{sourceId:e}})}))}},M=function(e){return function(t){return t({type:o.REMOVE_NOTIFICATION,payload:e})}},P=function(e,t,n,r){return function(a){a({type:i.a.REMOVE_APPLICATION,payload:function(){return Object(c.c)(e,r)},meta:{appId:e,sourceId:t,notifications:{fulfilled:{variant:"success",title:n,dismissable:!0}}}})}},D=function(e,t){return{type:i.b,payload:{sourceId:e,app:t}}},S=function(e){return{type:i.j,payload:{values:e}}},T=function(){return{type:i.d}},k=function(e){return{type:i.c,payload:{source:e}}},C=function(){return function(e){return e({type:i.e}),e(y())}}},245:function(e,t,n){(t=e.exports=n(5)(!1)).i(n(486),""),t.i(n(487),""),t.i(n(488),""),t.push([e.i,"button:focus{outline:none}.pf-l-gallery{padding-bottom:20px}.pf-c-backdrop>.pf-l-bullseye>.pf-l-bullseye{flex:1}.sources-placeholder-table{background:white;width:100%;border-top:1px solid #ccc;border-bottom:1px solid #ccc;border-collapse:collapse}.sources-placeholder-table td{display:block;padding:10px}.ins-c-sources__dialog--warning .ins-c-source__delete-icon{color:var(--pf-global--warning-color--100)}.ins-c-sources__dialog--spinnerContainer{min-height:64px;text-align:center}.ins-c-sources__row-vertical-centered td{vertical-align:middle !important}.ins-c-sources__help-cursor:hover{cursor:help}.ins-c-sources__edit-field-group{min-height:36px;display:table;top:0;left:0;height:100%;width:100%}.ins-c-sources__edit-field-group .ins-c-sources__edit-field-group-text-content{display:table-cell;vertical-align:middle;color:var(--pf-global--disabled-color--100)}.ins-c-sources__edit-field-group .ins-c-sources__edit-field-group-text-content.clickable:hover{color:var(--pf-global--Color--100)}.ins-c-sources__edit-field-value{display:inline-block;max-width:calc(100% - 24px);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;vertical-align:middle}.ins-c-sources__availability-ok{color:var(--pf-global--success-color--100)}.ins-c-sources__availability-partially{color:var(--pf-global--warning-color--100)}.ins-c-sources__availability-not-ok{color:var(--pf-global--danger-color--100)}.ins-c-sources__availability-unknown{color:var(--pf-global--icon--Color--light)}.clickable{cursor:pointer}\n",""])},28:function(e,t,n){"use strict";n.d(t,"i",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"f",(function(){return y})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return v})),n.d(t,"g",(function(){return O}));var r=n(27),a=n.n(r),o=n(113),i=n.n(o);n.d(t,"a",(function(){return i.a}));var c,s=n(315),u=n(85);i.a.interceptors.response.use((function(e){return e.errors&&e.errors.length>0?Promise.reject({detail:e.errors[0].message}):e}));var l=function(){return c||(c=new s.DefaultApi(void 0,u.b,i.a))},d=function(){return i.a.get("".concat(u.b,"/application_types"))},p=function(e){return l().deleteSource(e).catch((function(e){throw{error:{detail:e.errors[0].detail}}}))},f=function(e,t){return"limit:".concat(e,", offset:").concat((t-1)*e)},m=function(e,t){return e?', sort_by:"'.concat(e,":").concat(t,'"'):""},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];return e.name&&t.push('name: { contains_i: "'.concat(e.name,'" }')),e.source_type_id&&e.source_type_id.length>0&&t.push("source_type_id: { eq: [".concat(e.source_type_id.map((function(e){return'"'.concat(e,'"')})).join(", "),"] }")),t.length>0?", filter: { ".concat(t.join(", ")," }"):""},y=function(e){var t=e.pageSize,n=e.pageNumber,r=e.sortBy,a=e.sortDirection,o=e.filterValue;return l().postGraphQL({query:"{ sources(".concat(f(t,n)).concat(m(r,a)).concat(b(o),")\n        {\n            id,\n            created_at,\n            source_type_id,\n            name,\n            tenant,\n            uid,\n            updated_at,\n            imported,\n            availability_status,\n            applications { application_type_id, id, availability_status_error, availability_status },\n            endpoints { id, scheme, host, port, path }\n        }\n    }")}).then((function(e){return e.data}))},g=function(e,t){return l().createApplication({source_id:e,application_type_id:t})},h=function(e,t){return l().deleteApplication(e).catch((function(e){var n=a()(e.errors,1)[0].detail;throw{error:{title:t,detail:n}}}))},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];return e.name&&t.push("filter[name][contains_i]=".concat(e.name)),e.source_type_id&&e.source_type_id.length>0&&e.source_type_id.map((function(e){return t.push("filter[source_type_id][]=".concat(e))})),t.length>0?t.join("&"):""},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.a.get("".concat(u.b,"/sources?").concat(E(e)))},O=function(e){return l().postGraphQL({query:"{ sources(filter: { id: { eq: ".concat(e,"}})\n            {\n                id,\n                created_at,\n                source_type_id,\n                name,\n                tenant,\n                uid,\n                updated_at,\n                imported,\n                applications { application_type_id, id },\n                endpoints { id, scheme, host, port, path }\n            }\n        }")}).then((function(e){return e.data}))}},41:function(e,t,n){"use strict";var r=n(309),a=n.n(r),o=n(2),i=n.n(o),c=n(86),s=n(248),u=n(310),l=n.n(u),d=n(311),p=n.n(d),f=n(312),m=n.n(f),b=n(313),y=n.n(b),g=n(246),h=n.n(g),E=n(314),v=n.n(E),O=n(8),_=n.n(O),j=n(1),w=n.n(j),M=n(12),P=n(16),D=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=m()(this,(e=y()(t)).call.apply(e,[this].concat(a))),_()(h()(n),"state",{error:null}),n}return v()(t,e),p()(t,[{key:"componentDidCatch",value:function(e,t){this.props.dispatch(Object(P.c)(e.toString(),"danger",t.componentStack))}},{key:"render",value:function(){var e=this.state.error,t=this.props.children;return e?i.a.createElement(o.Fragment,null,"Error occurred"):i.a.createElement(o.Fragment,null,t)}}],[{key:"getDerivedStateFromError",value:function(e,t){return{error:e,errorInfo:t}}}]),t}(o.Component);D.propTypes={dispatch:w.a.func.isRequired,children:w.a.node};var S=Object(M.connect)()(D);n.d(t,"b",(function(){return C}));var T=Object(o.lazy)((function(){return Promise.resolve().then((function(){return a()(n(489))}))})),k=function(){return i.a.createElement(s.default,null,i.a.createElement("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"70",height:"70"}),i.a.createElement("rect",{x:"80",y:"17",rx:"4",ry:"4",width:"300",height:"13"}),i.a.createElement("rect",{x:"80",y:"40",rx:"3",ry:"3",width:"250",height:"10"}))},C={sources:"/",sourcesNew:"/new",sourcesEdit:"/edit/:id",sourcesRemove:"/remove/:id",sourceManageApps:"/manage_apps/:id"};t.a=function(){return i.a.createElement(S,null,i.a.createElement(o.Suspense,{fallback:i.a.createElement(k,null)},i.a.createElement(c.d,{path:C.sources,component:T})))}},485:function(e,t,n){var r=n(245);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0},o=n(6)(r,a);r.locals&&(e.exports=r.locals),e.hot.accept(245,(function(){var t=n(245);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,r=0;for(n in e){if(!t||e[n]!==t[n])return!1;r++}for(n in t)r--;return 0===r}(r.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(t)})),e.hot.dispose((function(){o()}))},489:function(e,t,n){"use strict";n.r(t);var r=n(27),a=n.n(r),o=n(2),i=n.n(o),c=n(12),s=n(43),u=n(86),l=n(37),d=n(16),p=n(145),f=n(496),m=n(51),b=n(53),y=n(8),g=n.n(y),h=n(39),E=n.n(h),v=n(302),O=n(68),_=n(499),j=n(498),w=n(108),M=n(150),P=n.n(M),D=n(90),S=n.n(D),T=n(1),k=n.n(T),C=n(317),A=n(124),R=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return[{title:e.formatMessage({id:"sources.name",defaultMessage:"Name"}),value:"name",searchable:!0,formatter:"nameFormatter",sortable:!t},{title:e.formatMessage({id:"sources.type",defaultMessage:"Type"}),value:"source_type_id",searchable:!1,formatter:"sourceTypeFormatter",sortable:!1},{title:e.formatMessage({id:"sources.application",defaultMessage:"Application"}),value:"applications",searchable:!1,formatter:"applicationFormatter",sortable:!1},{title:e.formatMessage({id:"sources.addedDate",defaultMessage:"Date added"}),value:"created_at",formatter:"dateFormatter",sortable:!t},{hidden:!0,value:"imported",formatter:"importedFormatter"},{title:e.formatMessage({id:"sources.status",defaultMessage:"Status"}),value:"availability_status",searchable:!0,formatter:"availabilityFormatter",sortable:!t}]},I=R({formatMessage:function(){return""}}).length+1,N=function(){return i.a.createElement("table",{className:"sources-placeholder-table pf-m-compact ins-entity-table"},i.a.createElement("tbody",null,new Array(12).fill(null).map((function(e,t){return i.a.createElement("tr",{key:t},i.a.createElement("td",null,i.a.createElement(A.RowLoader,null)))}))))},L=function(e){var t=e.row,n=t.isDeleting,r=S()(t,["isDeleting"]),a=S()(e,["row"]);return n?i.a.createElement("tr",null,i.a.createElement("td",{colSpan:I},i.a.createElement(A.RowLoader,null))):i.a.createElement(C.a,P()({},a,{row:r,className:"ins-c-sources__row-vertical-centered"}))};L.propTypes={row:k.a.object.isRequired};var F=n(278),x=n(269),U=n(271),q=n(120),B=n(270),V=n(194),H=function(){var e=Object(c.useDispatch)();return i.a.createElement(F.a,null,i.a.createElement(x.a,{variant:x.b.small},i.a.createElement(U.a,{icon:V.b}),i.a.createElement(q.a,{headingLevel:"h2",size:"lg"},i.a.createElement(m.a,{defaultMessage:"No results found",id:"sources.noResultsFoundTitle"})),i.a.createElement(B.a,null,i.a.createElement(m.a,{defaultMessage:"No results match the filter criteria. Remove all filters or clear all filters to show results.",id:"sources.noResultsFoundDescription"})),i.a.createElement(p.a,{variant:"link",onClick:function(){return e(Object(d.e)())}},i.a.createElement(m.a,{defaultMessage:"Clear all filters",id:"sources.clearAllFilters"}))))};function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=function(e,t,n,r){return t.filter((function(e){return e.title||e.hidden})).map((function(t){return{title:t.formatter?Object(w.c)(t.formatter)(e[t.value],e,{sourceTypes:n,appTypes:r}):e[t.value]||""}}))},W=function(e,t,n,r){return e.filter((function(e){return!e.hidden})).reduce((function(e,a){return[].concat(E()(e),[G({},a,{isOpen:!!a.expanded,cells:Y(a,t,n,r),disableActions:!!a.isDeleting})])}),[])},K=function(e){return e.filter((function(e){return e.title||e.hidden})).map((function(e){return G({title:e.title||"",value:e.value},e.sortable&&{transforms:[v.a]})}))},J=function(e,t){return G({},e,{},t)},Q=function(e,t){return function(n){var r=[{title:e.formatMessage({id:"sources.manageApps",defaultMessage:"Manage applications"}),onClick:function(e,n,r){var a=r.id;return t("/manage_apps/".concat(a))}},{style:{color:"var(--pf-global--danger-color--100)"},title:e.formatMessage({id:"sources.delete",defaultMessage:"Delete"}),onClick:function(e,n,r){var a=r.id;return t("/remove/".concat(a))}}];return!n.imported&&function(e,t,n){e.splice(1,0,{title:t.formatMessage({id:"sources.edit",defaultMessage:"Edit"}),onClick:function(e,t,r){var a=r.id;return n("/edit/".concat(a))}})}(r,e,t),r}},X=function(){var e,t=Object(u.k)().push,n=Object(f.a)(),r=Object(c.useSelector)((function(e){return e.providers}),c.shallowEqual),s=r.loaded,l=r.appTypes,p=r.entities,m=r.sourceTypes,b=r.sourceTypesLoaded,y=r.appTypesLoaded,g=r.sortBy,h=r.sortDirection,E=r.numberOfEntities,v=Object(c.useDispatch)(),w=Object(o.useReducer)(J,(e=R(n),{rows:[],sortBy:{},isLoaded:!1,cells:K(e)})),M=a()(w,2),P=M[0],D=M[1],S=function(){var e=R(n,0===E);return D({rows:W(p,e,m,l),cells:K(e)})};if(Object(o.useEffect)((function(){s&&b&&y?(D({isLoaded:!0}),S()):D({isLoaded:!1})}),[s,b,y]),Object(o.useEffect)((function(){P.isLoaded&&S()}),[p]),!P.isLoaded)return i.a.createElement(N,null);var T=P.rows;return 0===E&&(T=[{heightAuto:!0,cells:[{props:{colSpan:I},title:i.a.createElement(H,null)}]}]),i.a.createElement(O.b,{gridBreakPoint:"grid-lg","aria-label":n.formatMessage({id:"sources.list",defaultMessage:"List of Sources"}),onSort:function(e,t,n){return v(Object(d.n)(P.cells[t].value,n))},sortBy:{index:P.cells.map((function(e){return e.value})).indexOf(g),direction:h},rows:T,cells:P.cells,actionResolver:E>0?Q(n,t):void 0,rowWrapper:L},i.a.createElement(_.a,null),i.a.createElement(j.a,null))},Z=n(266),$=n(267),ee=n(235),te=n(41),ne=function(e){var t=e.title,n=e.body;return i.a.createElement(Z.a,null,i.a.createElement($.a,null,i.a.createElement(F.a,null,i.a.createElement(x.a,null,i.a.createElement(U.a,{icon:ee.b}),i.a.createElement(q.a,{headingLevel:"h5",size:"lg"},t||i.a.createElement(m.a,{id:"sources.emptyStateTitle",defaultMessage:"No sources"})),i.a.createElement(B.a,null,n||i.a.createElement(m.a,{id:"sources.emptyStateBody",defaultMessage:"No sources have been defined. To start define a source."})),i.a.createElement(l.Link,{to:te.b.sourcesNew},i.a.createElement(p.a,{style:{marginTop:"var(--pf-c-empty-state--c-button--MarginTop)"},variant:"primary"},i.a.createElement(m.a,{id:"sources.emptyStateButton",defaultMessage:"Add a source"})))))))};ne.propTypes={title:k.a.node,body:k.a.node};var re=ne,ae=n(275),oe=n(110),ie=n(30),ce=n.n(ie),se=function(e){var t=e.name,n=e.Content,r=e.className,a=e.formOptions,o=e.assignFormOptions;return i.a.createElement("div",{className:r,id:t},o?i.a.createElement(n,{formOptions:a}):i.a.createElement(n,null))};se.propTypes={name:k.a.string.isRequired,Content:k.a.oneOfType([k.a.element,k.a.func]).isRequired,className:k.a.string,assignFormOptions:k.a.bool,formOptions:k.a.shape({getState:k.a.func.isRequired}).isRequired},se.defaultProps={className:void 0};var ue=se,le=n(121),de=n(276),pe=n(277),fe=n(28),me=function(){var e=Object(u.m)().id,t=Object(f.a)(),n=Object(c.useSelector)((function(e){return e.providers}),c.shallowEqual),r=n.loaded,s=n.appTypesLoaded,l=n.sourceTypesLoaded,p=Object(c.useDispatch)(),m=Object(o.useState)(!1),b=a()(m,2),y=b[0],g=b[1];return Object(o.useEffect)((function(){r&&s&&l&&Object(fe.g)(e).then((function(e){var t=a()(e.sources,1)[0];return p(Object(d.b)(t))})).then((function(){g(!0)}))}),[r,s,l]),y?(p(Object(d.c)(t.formatMessage({id:"sources.sourceNotFoundTitle",defaultMessage:"Requested source was not found"}),"danger",t.formatMessage({id:"sources.sourceNotFoundTitleDescription",defaultMessage:"Source with { id } was not found. Try it again later."},{id:e}))),i.a.createElement(u.c,{to:"/"})):null},be=function(e){return Object(c.useSelector)((function(t){return t.providers.entities.find((function(t){return t.id===e}))}))},ye=function(e){var t=e.formOptions,n=Object(u.m)().id,r=Object(c.useSelector)((function(e){return e.providers}),c.shallowEqual),a=r.sourceTypes,o=r.appTypes,s=be(n);if(!s)return i.a.createElement(me,null);var l=a.find((function(e){return e.id===s.source_type_id})),d=t.getState().values.application,p=o.find((function(e){return e.id===d}));return i.a.createElement(le.a,null,i.a.createElement(de.a,{component:de.b.dl},i.a.createElement(pe.a,{component:pe.b.dt},i.a.createElement(m.a,{id:"sources.name",defaultMessage:"Name"})),i.a.createElement(pe.a,{component:pe.b.dd},s.name),l&&i.a.createElement(i.a.Fragment,null,i.a.createElement(pe.a,{component:pe.b.dt},i.a.createElement(m.a,{id:"sources.sourceType",defaultMessage:"Source type"})),i.a.createElement(pe.a,{component:pe.b.dd},l.product_name)),i.a.createElement(pe.a,{component:pe.b.dt},i.a.createElement(m.a,{id:"sources.app",defaultMessage:"Application"})),i.a.createElement(pe.a,{component:pe.b.dd},p.display_name)))};ye.propTypes={formOptions:k.a.shape({getState:k.a.func.isRequired})};var ge=ye,he=n(274),Ee=n(234),ve=function(e){var t=e.isRequired,n=e.label,r=e.helperText,a=e.hideLabel,o=e.meta,c=e.input,s=e.type,u=e.setEdit,l=o.error,d=o.touched&&l,p=c.value;"boolean"==typeof p&&(p=p?"True":"False");var f="password"===s||c.name.includes("password")?"Click to edit":"Click to add";return i.a.createElement(he.a,{isRequired:t,label:!a&&n,fieldId:c.name,isValid:!d,helperText:r,helperTextInvalid:l,onClick:u?function(){return u(c.name)}:void 0},i.a.createElement("div",{className:"pf-c-form__horizontal-group ins-c-sources__edit-field-group ".concat(u?"clickable":"")},i.a.createElement(le.a,{className:"ins-c-sources__edit-field-group-text-content ".concat(u?"clickable":"")},i.a.createElement("span",{className:"ins-c-sources__edit-field-value pf-u-mr-sm"},p||(u?f:"")),u&&i.a.createElement(Ee.b,null))))};ve.propTypes={label:k.a.string,isRequired:k.a.bool,helperText:k.a.string,meta:k.a.object.isRequired,FieldProvider:k.a.oneOfType([k.a.node,k.a.func]),input:k.a.shape({value:k.a.any,name:k.a.string.isRequired}).isRequired,hideLabel:k.a.bool,setEdit:k.a.func,type:k.a.string};var Oe=function(e){var t=e.FieldProvider,n=S()(e,["FieldProvider"]);return i.a.createElement(t,n,(function(e){return i.a.createElement(ve,e)}))};Oe.propTypes={FieldProvider:k.a.oneOfType([k.a.node,k.a.func]).isRequired};var _e=Oe;function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Me=function(e){return i.a.createElement(ce.a,P()({layoutMapper:oe.layoutMapper,formFieldsMapper:we({},oe.formFieldsMapper,{},b.mapperExtension,{description:ue,"add-application-summary":ge,"edit-field":_e})},e))},Pe=function(e,t,n){return[{name:"source.name",label:i.a.createElement(m.a,{id:"sources.sourceName",defaultMessage:"Source Name"}),component:e["source.name"]?ie.componentTypes.TEXT_FIELD:"edit-field",setEdit:e["source.name"]?void 0:t,validate:[function(e){return Object(b.asyncValidator)(e,n)}],isRequired:!0},{name:"source_type",label:i.a.createElement(m.a,{id:"sources.sourceType",defaultMessage:"Source Type"}),isReadOnly:!0,component:"edit-field"}]},De=n(72),Se=n.n(De),Te=n(80);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ae=function(e,t,n,r){return e.map((function(e){var a=e.name.startsWith("authentication")?function(e,t){return"authentications.a".concat(t,".").concat(e.replace("authentication.",""))}(e.name,t):e.name,o=n[a],c=Ce({},e,{name:a,component:o?e.component:"edit-field"});return o||(c.setEdit=r),"password"===c.name.split(".").pop()&&(c.helperText=i.a.createElement(m.a,{id:"sources.passwordResetHelperText",defaultMessage:"Changing this resets your current { label }.",values:{label:c.label}}),c.isRequired=!1,c.validate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter((function(e){return e.type!==ie.validatorTypes.REQUIRED}))}(c.validate)),c}))},Re=function(e,t,n,r){return e&&0!==e.length&&t.schema&&t.schema.authentication?e.map((function(e){var a,o=t.schema.authentication.find((function(t){return t.type===e.authtype}));if(!o)return a=e.authtype,{component:"description",name:"".concat(a,"-unsupported"),Content:function(){return i.a.createElement(le.a,null,i.a.createElement(Te.a,{component:Te.b.p},i.a.createElement(m.a,{id:"sources.unsupportedAuthType",defaultMessage:"Authentication type of { type } is no longer supported.",values:{type:a}})))}};var c=function(e,t){return Se()(b.hardcodedSchemas,[e,"authentication",t,"generic","includeStepKeyFields"],[])}(t.name,e.authtype),s=o.fields.filter((function(e){return!e.stepKey||c.includes(e.stepKey)})).map((function(n){return Ce({},n,{},function(e,t,n){return Se()(b.hardcodedSchemas,[e,"authentication",t,"generic",n],{})}(t.name,e.authtype,n.name))}));return{component:ie.componentTypes.SUB_FORM,title:o.name,name:o.name,fields:[Ae(s,e.id,n,r)]}})):[]};function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ne=[ie.componentTypes.CHECKBOX,ie.componentTypes.SWITCH],Le=function(e,t,n){return e.map((function(e){var r=t[e.name],a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{component:r||Ne.includes(e.component)?e.component:"edit-field"});return r||Ne.includes(e.component)||(a.setEdit=n),a}))};function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var xe=function(e,t,n){if(e.schema&&e.schema.endpoint&&!e.schema.endpoint.hidden){var r=e.schema.endpoint.fields.map((function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{},function(e,t){return Se()(b.hardcodedSchemas,[e,"endpoint",t],{})}(e.name,t.name))}));return{component:ie.componentTypes.SUB_FORM,title:i.a.createElement(m.a,{id:"sources.endpoint",defaultMessage:"Endpoint"}),name:"endpoint",fields:Le(r,t,n)}}};function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Be="/insights/platform/cost-management",Ve=["billing_source","credentials"],He=function(e){var t=e.name;return Ve.some((function(e){return t.startsWith(e)}))},ze=function(e){return Object.keys(e).map((function(t){return e[t].fields.filter(He)})).flatMap((function(e){return e}))},Ge=function(e,t,n){var r=void 0;return n.forEach((function(n){var a=r?{}:Se()(b.hardcodedSchemas,[e,"authentication",n],{});Object.keys(a).find((function(a){var o=Se()(b.hardcodedSchemas,[e,"authentication",n,a,t],void 0);if(o)return r=o,!0}))})),r||{}},Ye=function(e,t,n){return"openshift"===n.name?[{name:"source.source_ref",label:i.a.createElement(m.a,{id:"sources.clusterIdentifier",defaultMessage:"Cluster Identifier"}),isRequired:!0,setEdit:e["source.source_ref"]?void 0:t,validate:[{type:ie.validatorTypes.REQUIRED}],component:e["source.source_ref"]?ie.componentTypes.TEXT_FIELD:"edit-field"}]:[]},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,i=a.find((function(e){return e.name===Be}));if(i){var c=e.find((function(e){return e.application_type_id===i.id}));if(c){var s=ze(t.schema.authentication),u=o.authentications?o.authentications.map((function(e){return e.authtype})):[],l=s.map((function(e){return qe({},e,{},Ge(t.name,e.name,u))}));return{component:ie.componentTypes.SUB_FORM,title:i.display_name,name:i.display_name,fields:[].concat(E()(Le(l,n,r)),E()(Ye(n,r,t)))}}}},Ke=function(e,t,n,r,a,o){return[We(e,t,n,r,a,o)]},Je=function(e,t,n,r,a){return{fields:[].concat(E()(Pe(t,n,e.source.id)),E()(Re(e.authentications,r,t,n)),E()(Ke(e.applications,r,t,n,a,e)),[!!(e.endpoints&&e.endpoints.length>0)&&xe(r,t,n)]).filter(Boolean)}},Qe=n(85);function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $e=n(273),et=function(e){var t=e.children;return i.a.createElement($e.a,{isHorizontal:!0,onSubmit:function(e){return e.preventDefault()}},t)};et.propTypes={children:k.a.node};var tt=et,nt=n(279),rt=n(280),at=function(){return i.a.createElement(nt.a,null,i.a.createElement(rt.a,{xs:12},i.a.createElement(q.a,{headingLevel:q.b.h1,size:"3xl"},i.a.createElement(m.a,{id:"sources.editSource",defaultMessage:"Edit a source"}))),i.a.createElement(rt.a,{xs:12},i.a.createElement(m.a,{id:"sources.editSourceDescription",defaultMessage:"You are editing a source"})))},ot=n(319),it=n.n(ot);function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var st=function(e,t){var n,r,a=e.endpoints,o=e.authentications,i=S()(e,["endpoints","authentications"]),c={};return o&&o.length>0&&o.forEach((function(e){c["a".concat(e.id)]=e})),a&&a.length>0&&(n=a[0]),n&&(r=n.scheme||n.host||n.path||n.port?Object(w.b)(n):void 0),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({source_type:t,endpoint:n,authentications:c,url:r},i)},ut=function(e,t,n,r,a,o){return n(Object(d.p)(r,function(e,t){var n={};return Object.keys(t).filter((function(e){return t[e]})).forEach((function(t){it()(n,t,Se()(e,t))})),n}(e,t),a.formatMessage({id:"sources.modifiedNotificationTitle",defaultMessage:'"{ name }" was modified successfully.'},{name:r.source.name}),a.formatMessage({id:"sources.modifiedNotificationDescription",defaultMessage:"The source was successfully modified."}),{authentication:a.formatMessage({id:"sources.sourceEditAuthFailure",defaultMessage:"Authentication update failure."}),source:a.formatMessage({id:"sources.sourceEditFailure",defaultMessage:"Source update failure."}),endpoint:a.formatMessage({id:"sources.sourceEditEndpointFailure",defaultMessage:"Endpoint update failure."}),costManagement:a.formatMessage({id:"sources.sourceCostmanagementFailure",defaultMessage:"Cost Management update failure."})})).then((function(){o(te.b.sources),n(Object(d.h)())}))};function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pt={loading:!0,editing:{},source:void 0,initialValues:{},sourceType:void 0,schema:void 0},ft=function(e,t){return dt({},e,{},t)},mt=function(){var e=Object(o.useReducer)(ft,pt),t=a()(e,2),n=t[0],r=t[1],l=Object(u.m)().id,p=Object(u.k)(),m=n.loading,b=n.editing,y=n.source,h=n.initialValues,E=n.sourceType,v=n.schema,O=Object(f.a)(),_=Object(c.useSelector)((function(e){return e.providers}),c.shallowEqual),j=_.sourceTypes,w=_.appTypes,M=_.sourceTypesLoaded,P=_.appTypesLoaded,D=Object(c.useDispatch)();Object(o.useEffect)((function(){(function(e){return Promise.all([Object(fe.i)().showSource(e),Object(fe.i)().listSourceEndpoints(e),Object(fe.i)().listSourceApplications(e),(t=e,fe.a.get("".concat(Qe.a,"/sources/").concat(t,"/"))).catch((function(){}))]).then((function(e){var t=a()(e,4),n=t[0],r=t[1],o=t[2],i=t[3],c=r&&r.data&&r.data[0],s={source:n,applications:o.data};return i&&(s=Ze({},s,{billing_source:i.billing_source,credentials:i.authentication.credentials})),c?Object(fe.i)().listEndpointAuthentications(c.id).then((function(e){return Ze({},s,{endpoints:r.data,authentications:e.data})})):s}));var t})(l).then((function(e){e.source.imported&&function(e,t,n,r){e(Object(d.c)(t.formatMessage({id:"sources.importSourceCannotEdited",defaultMessage:"Source { name } is imported."},{name:r}),"danger",t.formatMessage({id:"sources.importedSourcesCannotEdited",defaultMessage:"Imported sources cannot be edited."}))),n.push(te.b.sources)}(D,O,p,e.source.name),r({source:e})}))}),[]);var S=function(e){return r({editing:dt({},b,g()({},e,!b[e]))})};return Object(o.useEffect)((function(){if(y&&P&&M){var e=j.find((function(e){return e.id===y.source.source_type_id}));r({sourceType:e,initialValues:st(y,e.product_name),schema:Je(y,b,S,e,w),loading:!1})}}),[P,y,M]),Object(o.useEffect)((function(){y&&!m&&r({schema:Je(y,b,S,E,w)})}),[b]),!P||!M||m?i.a.createElement(ae.a,{title:O.formatMessage({id:"sources.editSource",defaultMessage:"Edit a source."}),header:i.a.createElement(at,null),isOpen:!0,isLarge:!0,onClose:function(){return p.push("/")}},i.a.createElement("div",{className:"ins-c-sources__dialog--spinnerContainer"},i.a.createElement(s.Spinner,null))):i.a.createElement(ae.a,{title:O.formatMessage({id:"sources.editSource",defaultMessage:"Edit a source."}),header:i.a.createElement(at,null),isOpen:!0,isLarge:!0,onClose:function(){return p.push("/")}},i.a.createElement(Me,{onCancel:function(){return p.push("/")},schema:v,onSubmit:function(e,t){return ut(e,t.getState().dirtyFields,D,y,O,p.push)},layoutMapper:dt({},oe.layoutMapper,{FormWrapper:tt}),canReset:!0,disableSubmit:["submitting"],onReset:function(){return r({editing:{}})},initialValues:h,buttonsLabels:{submitLabel:O.formatMessage({id:"sources.save",defaultMessage:"Save"})}}))},bt=n(268),yt=n(281),gt=n(282),ht=n(283),Et=n(128),vt=function(e){var t=e.setApplicationToRemove,n=e.breakpoints,r=e.namePrefix,a=Object(u.m)().id,o=Object(c.useSelector)((function(e){return e.providers.appTypes})),s=be(a);if(!s)return i.a.createElement(me,null);var l=s.applications.map((function(e){var t=e.application_type_id,n=o.find((function(e){return e.id===t}));return n?n.display_name:void 0}));return s.applications.filter((function(e){return!e.isDeleting})).map((function(e){var t=o.find((function(t){return t.id===e.application_type_id}));if(t)return{display_name:t.display_name,id:e.id,dependent_applications:t.dependent_applications}})).sort((function(e,t){return e.display_name.localeCompare(t.display_name)})).map((function(e){var a=e.display_name,o=e.id,c=e.dependent_applications;return i.a.createElement(le.a,{key:o},i.a.createElement(nt.a,null,i.a.createElement(rt.a,{md:n.display_name||4},i.a.createElement(Te.a,{component:Te.b.p,style:{marginBottom:0}},r,a)),i.a.createElement(rt.a,{md:n.remove||8,className:"ins-c-sources__remove-app"},i.a.createElement(p.a,{variant:p.c.link,isInline:!0,onClick:function(){return t({id:o,display_name:a,dependent_applications:c,sourceAppsNames:l})}},i.a.createElement(m.a,{id:"sources.remove",defaultMessage:"Remove"})))))}))};vt.propTypes={setApplicationToRemove:k.a.func.isRequired,breakpoints:k.a.shape({display_name:k.a.number,remove:k.a.number}),namePrefix:k.a.node},vt.defaultProps={breakpoints:{}};var Ot=vt,_t=function(e){var t=e.app,n=e.onCancel,r=Object(u.m)().id,a=Object(f.a)(),o=Object(c.useSelector)((function(e){return e.providers.appTypes})),s=be(r),l=Object(c.useDispatch)();if(!s)return i.a.createElement(me,null);var b=t.dependent_applications.map((function(e){var n=o.find((function(t){return t.name===e}));return n&&t.sourceAppsNames.includes(n.display_name)?n.display_name:void 0})).filter((function(e){return e}));return i.a.createElement(ae.a,{className:"ins-c-sources__dialog--warning",title:"Remove ".concat(t.display_name," application"),isOpen:!0,isSmall:!0,onClose:n,isFooterLeftAligned:!0,actions:[i.a.createElement(p.a,{id:"deleteSubmit",key:"submit",variant:"danger",type:"button",onClick:function(){var e=a.formatMessage({id:"sources.removeAppWarning",defaultMessage:"{ name } was removed from this source."},{name:t.display_name}),r=a.formatMessage({id:"sources.removeAppError",defaultMessage:"Removing of { name } application from this source was unsuccessful."},{name:t.display_name});return n(),l(Object(d.k)(t.id,s.id,e,r))}},i.a.createElement(m.a,{id:"sources.remove",defaultMessage:"Remove"})),i.a.createElement(p.a,{id:"deleteCancel",key:"cancel",variant:"link",type:"button",onClick:n},i.a.createElement(m.a,{id:"sources.cancel",defaultMessage:"Cancel"}))]},i.a.createElement(yt.a,{gutter:"md"},i.a.createElement(gt.a,null,i.a.createElement(Et.b,{size:"xl",className:"ins-m-alert ins-c-source__delete-icon"})),i.a.createElement(gt.a,{isFilled:!0},i.a.createElement(ht.a,{gutter:"md"},i.a.createElement(le.a,null,i.a.createElement(Te.a,{component:Te.b.p},i.a.createElement(m.a,{id:"sources.deleteAppWarning",defaultMessage:"Are you sure to remove { appName } from this source?",values:{appName:t.display_name}})),b.length>0&&i.a.createElement(Te.a,{component:Te.b.p},i.a.createElement(m.a,{id:"sources.deleteAppDetails",defaultMessage:"This change will affect these applications: { apps }.",values:{apps:b}})))))))};_t.propTypes={app:k.a.shape({id:k.a.string.isRequired,display_name:k.a.string.isRequired,dependent_applications:k.a.arrayOf(k.a.string),sourceAppsNames:k.a.arrayOf(k.a.string)}).isRequired,onCancel:k.a.func.isRequired};var jt=_t,wt=function(){var e=Object(u.m)().id,t=Object(u.k)().push,n=Object(o.useState)(!1),r=a()(n,2),s=r[0],l=r[1],b=Object(o.useState)({}),y=a()(b,2),g=y[0],h=y[1],E=Object(f.a)(),v=be(e),O=Object(c.useDispatch)();if(!v)return i.a.createElement(me,null);var _=function(){return t("/")},j=v.applications.some((function(e){return!e.isDeleting})),w=v.applications.length>0?[i.a.createElement(p.a,{id:"deleteCancel",key:"cancel",variant:"link",type:"button",onClick:_},i.a.createElement(m.a,{id:"sources.close",defaultMessage:"Close"}))]:[i.a.createElement(p.a,{id:"deleteSubmit",key:"submit",variant:"danger",type:"button",onClick:function(){t("/"),O(Object(d.m)(v.id,E.formatMessage({id:"sources.notificationDeleteMessage",defaultMessage:"{title} was deleted successfully."},{title:v.name})))},isDisabled:!s},i.a.createElement(m.a,{id:"sources.deleteConfirm",defaultMessage:"Delete this source and its data"})),i.a.createElement(p.a,{id:"deleteCancel",key:"cancel",variant:"link",type:"button",onClick:_},i.a.createElement(m.a,{id:"sources.deleteCancel",defaultMessage:"Do not delete this source"}))],M=v.applications.length>0?i.a.createElement(i.a.Fragment,null,i.a.createElement(Te.a,{component:Te.b.p},i.a.createElement(m.a,{id:"sources.deleteTextBodyWithApp",defaultMessage:"This action cannot be enacted until all assigned applications have been removed from this source."})),i.a.createElement(p.a,{variant:"link",isInline:!0,onClick:function(e){return t("/manage_apps/".concat(v.id))}},i.a.createElement(Te.a,{component:Te.b.p,style:{marginBottom:0}},i.a.createElement(m.a,{id:"sources.connectedApps",defaultMessage:"Connected applications:"}))),j?i.a.createElement(Ot,{breakpoints:{display_name:8,remove:4},setApplicationToRemove:h,namePrefix:"- "}):i.a.createElement(Te.a,{component:Te.b.p},i.a.createElement(m.a,{id:"sources.connectedApps",defaultMessage:"Connected applications are being removed."}))):i.a.createElement(i.a.Fragment,null,i.a.createElement(Te.a,{component:Te.b.p},i.a.createElement(m.a,{id:"sources.deleteTextBody",defaultMessage:'Are you sure that you want to delete "{ name }"?',values:{name:v.name}})),i.a.createElement(Te.a,{component:Te.b.p},i.a.createElement(m.a,{id:"sources.delete-text-body-2",defaultMessage:"Deleting this source will permanently delete:"})),i.a.createElement(de.a,null,i.a.createElement(pe.a,null,i.a.createElement(m.a,{id:"sources.deleteTextBody3",defaultMessage:"All data collected"})),i.a.createElement(pe.a,null,i.a.createElement(m.a,{id:"sources.deleteTextBody4",defaultMessage:"Any and all historical data"}))),i.a.createElement(bt.a,{label:E.formatMessage({id:"sources.deleteCheckboxTitle",defaultMessage:"I acknowledge that this action cannot be undone."}),onChange:function(){return l((function(e){return!e}))},"aria-label":E.formatMessage({id:"sources.deleteCheckboxTitle",defaultMessage:"I acknowledge that this action cannot be undone."}),id:"acknowledgeDelete",name:"acknowledgeDelete",isChecked:s}));return i.a.createElement(ae.a,{className:"ins-c-sources__dialog--warning",title:E.formatMessage({id:"sources.deleteTitle",defaultMessage:"Delete {title}"},{title:v.name}),isOpen:!0,isSmall:!0,onClose:_,actions:w,isFooterLeftAligned:!0},g.id&&i.a.createElement(jt,{app:g,onCancel:function(){return h({})}}),i.a.createElement(yt.a,{gutter:"md"},i.a.createElement(gt.a,null,i.a.createElement(Et.b,{size:"xl",className:"ins-m-alert ins-c-source__delete-icon"})),i.a.createElement(gt.a,{isFilled:!0},i.a.createElement(ht.a,{gutter:"md"},i.a.createElement(le.a,null,M)))))},Mt=n(303),Pt=function(){var e=Object(u.m)().id,t=Object(o.useState)({}),n=a()(t,2),r=n[0],s=n[1],l=Object(c.useSelector)((function(e){return e.providers.sourceTypes})),d=be(e);if(!d)return i.a.createElement(me,null);var p=l.find((function(e){return e.id===d.source_type_id})),f=d.applications.filter((function(e){return!e.isDeleting}));return i.a.createElement(i.a.Fragment,null,r.id&&i.a.createElement(jt,{app:r,onCancel:function(){return s({})}}),i.a.createElement(le.a,null,i.a.createElement(nt.a,{gutter:"md"},i.a.createElement(rt.a,{md:2},i.a.createElement(Te.a,{component:Te.b.h4},i.a.createElement(m.a,{id:"sources.sourceName",defaultMessage:"Source name"}))),i.a.createElement(rt.a,{md:2},i.a.createElement(Te.a,{component:Te.b.h4},i.a.createElement(m.a,{id:"sources.type",defaultMessage:"Type"}))),i.a.createElement(rt.a,{md:8},i.a.createElement(Te.a,{component:Te.b.h4},i.a.createElement(m.a,{id:"sources.apps",defaultMessage:"Applications"}))),i.a.createElement(rt.a,{md:2},i.a.createElement(Te.a,{component:Te.b.p},d.name)),i.a.createElement(rt.a,{md:2},i.a.createElement(Te.a,{component:Te.b.p},p?p.product_name:i.a.createElement(m.a,{id:"sources.typeNotFound",defaultMessage:"Type not found"}))),i.a.createElement(rt.a,{md:8},f.length>0?i.a.createElement(Ot,{setApplicationToRemove:s}):i.a.createElement(m.a,{id:"sources.noApps",defaultMessage:"No applications"})))))};function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tt=function(e){return e.length>0?{nextStep:"summary"}:{}},kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return{fields:[{component:ie.componentTypes.WIZARD,name:"wizard",title:t.formatMessage({id:"sources.manageApps",defaultMessage:"Manage applications"}),inModal:!0,predictSteps:!0,showTitles:!0,description:t.formatMessage({id:"sources.addAppDescription",defaultMessage:"You are managing applications of this source"}),buttonLabels:{submit:t.formatMessage({id:"sources.finish",defaultMessage:"Finish"}),cancel:t.formatMessage({id:"sources.cancel",defaultMessage:"Cancel"}),back:t.formatMessage({id:"sources.back",defaultMessage:"Back"})},fields:[St({},Tt(e),{title:t.formatMessage({id:"sources.selectApp",defaultMessage:"Select application"}),stepKey:1,fields:[{component:"description",name:"description",Content:Pt},e.length>0?{component:"card-select",name:"application",options:e,label:t.formatMessage({id:"sources.chooseAppToAdd",defaultMessage:"Choose an application to add"}),DefaultIcon:function(){return i.a.createElement(i.a.Fragment,null)},isRequired:!0,validate:[{type:ie.validatorTypes.REQUIRED}]}:{component:"description",name:"description-no-options",validate:[{type:ie.validatorTypes.REQUIRED}],validateOnMount:!0,Content:function(){return i.a.createElement(le.a,null,i.a.createElement(Te.a,{component:Te.b.p},i.a.createElement(m.a,{id:"sources.allApplicationsAssigned",defaultMessage:"All available applications have already been added to this source or there is no available application for this source type."})))}}]}),{title:t.formatMessage({id:"sources.review",defaultMessage:"Review"}),stepKey:"summary",fields:[{component:"description",name:"description-summary",Content:function(){return i.a.createElement(le.a,null,i.a.createElement(Te.a,{component:Te.b.p},i.a.createElement(m.a,{id:"sources.reviewAddAppSummary",defaultMessage:"Review the information below and click Finish to add the application to your source."})," ",i.a.createElement("br",null),i.a.createElement(m.a,{id:"sources.backGuide",defaultMessage:"Use the Back button to make changes."})))}},{component:"add-application-summary",name:"summary"}]}]}]}},Ct=n(272),At=function(e){var t=e.onClose,n=e.customText;return i.a.createElement(F.a,null,i.a.createElement(x.a,{variant:x.b.full},i.a.createElement("div",null,i.a.createElement(s.Spinner,null)),i.a.createElement(B.a,null,n),t&&i.a.createElement(Ct.a,null,i.a.createElement(p.a,{variant:"link",onClick:t},i.a.createElement(m.a,{id:"sources.cancel",defaultMessage:"Cancel"})))))};At.propTypes={onClose:k.a.func,customText:k.a.node},At.defaultProps={customText:i.a.createElement(m.a,{id:"sources.loading",defaultMessage:"Loading, please wait."})};var Rt=At,It=n(236),Nt=function(e){var t=e.onClose,n=e.onRetry,r=e.message,a=e.title;return i.a.createElement(F.a,null,i.a.createElement(x.a,{variant:x.b.full},i.a.createElement(U.a,{icon:It.b,color:"var(--pf-global--danger-color--100)"}),i.a.createElement(q.a,{headingLevel:"h5",size:"lg"},a),i.a.createElement(B.a,null,r),i.a.createElement(p.a,{variant:"primary",onClick:t},i.a.createElement(m.a,{id:"sources.backToSources",defaultMessage:"Back to Sources"})),n&&i.a.createElement(Ct.a,null,i.a.createElement(p.a,{variant:"link",onClick:n},i.a.createElement(m.a,{id:"sources.retry",defaultMessage:"Retry"})))))};Nt.propTypes={onClose:k.a.func.isRequired,message:k.a.node.isRequired,title:k.a.node.isRequired,onRetry:k.a.func};var Lt=Nt,Ft=n(127),xt=function(e){var t=e.onClose,n=e.title,r=e.successfulMessage,a=e.secondaryActions;return i.a.createElement(F.a,null,i.a.createElement(x.a,{variant:x.b.full},i.a.createElement(U.a,{icon:Ft.b,color:"var(--pf-global--success-color--100)"}),i.a.createElement(q.a,{headingLevel:"h5",size:"lg"},n),i.a.createElement(B.a,null,r),i.a.createElement(p.a,{variant:"primary",onClick:t},i.a.createElement(m.a,{id:"sources.backToSources",defaultMessage:"Back to Sources"})),a&&i.a.createElement(Ct.a,null,a)))};xt.propTypes={onClose:k.a.func.isRequired,successfulMessage:k.a.node.isRequired,title:k.a.node.isRequired,secondaryActions:k.a.node};var Ut=xt;function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Bt={state:"wizard",error:"",values:{}},Vt=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},t)},Ht=function(){var e=Object(f.a)(),t=Object(u.m)().id,n=Object(u.k)(),r=Object(c.useSelector)((function(e){return e.providers}),c.shallowEqual),s=r.appTypes,l=r.sourceTypesLoaded,b=r.appTypesLoaded,y=r.sourceTypes,g=be(t),h=Object(c.useDispatch)(),v=Object(o.useReducer)(Vt,Bt),O=a()(v,2),_=O[0],j=O[1];if(!g||!b||!l)return i.a.createElement(me,null);var w=g.applications.filter((function(e){return!e.isDeleting})).reduce((function(e,t){return[].concat(E()(e),[t.application_type_id])}),[]),M=y.find((function(e){return e.id===g.source_type_id})),P=M&&M.name,D=s.filter((function(e){return!w.includes(e.id)&&e.supported_source_types.includes(P)})),S=kt(D.map((function(t){var n=g.applications.find((function(e){return e.application_type_id===t.id})),r="".concat(t.display_name," ").concat(n?"(".concat(e.formatMessage({id:"sources.currentlyRemoving",defaultMessage:"Currently removing"}),")"):"");return{value:t.id,label:r,isDisabled:!!n}})),e);return"wizard"!==_.state?i.a.createElement(Mt.a,{isOpen:!0,onClose:function(){return n.push("/")},title:e.formatMessage({id:"sources.manageApps",defaultMessage:"Manage applications"}),description:e.formatMessage({id:"sources.addAppDescription",defaultMessage:"You are managing applications of this source"}),steps:[{name:"Finish",component:"loading"===_.state?i.a.createElement(Rt,null):"finished"===_.state?i.a.createElement(Ut,{onClose:function(){return n.push("/")},successfulMessage:i.a.createElement(m.a,{id:"sources.successAddApp",defaultMessage:"Your application has been successfully added."}),title:i.a.createElement(m.a,{id:"sources.configurationSuccessful",defaultMessage:"Configuration successful"}),secondaryActions:i.a.createElement(p.a,{variant:"link",onClick:function(){return j({values:{},state:"wizard"})}},i.a.createElement(m.a,{id:"sources.continueManageApp",defaultMessage:"Continue managing applications"}))}):i.a.createElement(Lt,{onClose:function(){return n.push("/")},message:i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{id:"sources.successAddApp",defaultMessage:"Your application has not been successfully added:"}),i.a.createElement("br",null),i.a.createElement(le.a,null,i.a.createElement(Te.a,{component:Te.b.h6},_.error))),title:i.a.createElement(m.a,{id:"sources.configurationSuccessful",defaultMessage:"Configuration unsuccessful"}),onRetry:function(){return j({state:"wizard"})}}),isFinishedStep:!0}]}):i.a.createElement(Me,{schema:S,showFormControls:!1,onSubmit:D.length>0?function(e){var t=e.application;return j({state:"loading"}),Object(fe.b)(g.id,t).then((function(e){j({state:"finished"}),h(Object(d.a)(g.id,e))})).catch((function(e){var n=a()(e.errors,1)[0].detail;j({state:"errored",error:n,values:{application:t}})}))}:function(){return n.push("/")},onCancel:function(){return n.push("/")},initialValues:_.values})},zt=n(326),Gt=n(321),Yt=n.n(Gt),Wt=function(e){var t=e.messageId,n=e.values,r=Object(u.k)(),a=Object(c.useDispatch)(),o=Object(c.useSelector)((function(e){return e.notifications}));return i.a.createElement(p.a,{variant:"link",isInline:!0,onClick:function(){var e=o.find((function(e){return e.customId===t}));e&&a(Object(d.l)(e.id)),a(Object(d.o)(n)),r.location.pathname===te.b.sourcesNew?function(e){e.push("/"),e.goBack()}(r):r.push(te.b.sourcesNew)}},i.a.createElement(m.a,{id:"sources.undo",defaultMessage:"Undo"}))};Wt.propTypes={messageId:k.a.number.isRequired,values:k.a.object.isRequired};var Kt=Wt;function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xt=Object(zt.a)((function(e){return e()}),500),Zt={pageNumber:1,sortBy:"created_at",sortDirection:"desc"},$t=function(e){return e.map((function(e){var t=e.id;return{label:e.product_name,value:t}})).sort((function(e,t){return e.label.localeCompare(t.label)}))},en=function(e,t,n){return n(Object(d.f)(g()({},e,t)))},tn=function(e,t){return Object.keys(e).map((function(n){return e[n]&&e[n].length>0?function(e,t,n){return{name:function(){return{name:t[e],key:e}},source_type_id:function(){return{category:"Source Type",key:e,chips:t[e].map((function(e){var t=n.find((function(t){return t.id===e}));return{name:t?t.product_name:e,value:e}}))}}}[e]||function(){return{name:e}}}(n,e,t)():void 0})).filter(Boolean)};t.default=function(){var e=Object(o.useState)(!1),t=a()(e,2),n=t[0],r=t[1],y=Object(o.useState)(!1),h=a()(y,2),E=h[0],v=h[1],O=Object(o.useState)(),_=a()(O,2),j=_[0],w=_[1],M=Object(u.k)(),P=Object(f.a)(),D=Object(c.useSelector)((function(e){return e.providers}),c.shallowEqual),S=D.filterValue,T=D.loaded,k=D.numberOfEntities,C=D.appTypes,A=D.pageSize,R=D.pageNumber,I=D.fetchingError,N=D.addSourceInitialValues,L=D.sourceTypes,F=D.entities,x=Object(c.useDispatch)();Object(o.useEffect)((function(){Promise.all([x(Object(d.i)()),x(Object(d.g)()),x(Object(d.h)())]).then((function(){return v(!0)}))}),[]),Object(o.useEffect)((function(){E&&r(0===F.length)}),[E]);var U=function(e,t){return x(Object(d.j)(t,A))},q=function(e,t){return x(Object(d.j)(1,t))},B=Math.ceil(k/A);F.length>0&&T&&R>Math.max(B,1)&&U();return i.a.createElement(i.a.Fragment,null,i.a.createElement(u.d,{exact:!0,path:te.b.sourceManageApps,component:Ht}),i.a.createElement(u.d,{exact:!0,path:te.b.sourcesRemove,component:wt}),i.a.createElement(u.d,{exact:!0,path:te.b.sourcesNew,render:function(){return i.a.createElement(b.AddSourceWizard,{sourceTypes:L,applicationTypes:C,isOpen:!0,onClose:function(e){return function(e){var t=e.values,n=e.dispatch,r=e.history,a=e.intl;if(t&&!Yt()(t)){var o=Date.now();n(Object(d.c)(a.formatMessage({id:"sources.addWizardCanceled",defaultMessage:"Adding a source was cancelled"}),"success",i.a.createElement(m.a,{id:"sources.undoMistake",defaultMessage:"{undo} if this was a mistake.",values:{undo:i.a.createElement(Kt,{messageId:o,values:t})}}),o))}n(Object(d.d)()),r.push("/")}({values:e,dispatch:x,history:M,intl:P})},afterSuccess:function(){return function(e){e(Object(d.d)()),e(Object(d.h)(Zt))}(x)},hideSourcesButton:!0,initialValues:N})}}),i.a.createElement(u.d,{exact:!0,path:te.b.sourcesEdit,component:mt}),i.a.createElement(s.PageHeader,null,i.a.createElement(s.PageHeaderTitle,{title:P.formatMessage({id:"sources.sources",defaultMessage:"Sources"})})),i.a.createElement(s.Section,{type:"content"},n||I?i.a.createElement(re,{title:I?I.title:void 0,body:I?I.detail:void 0}):i.a.createElement(i.a.Fragment,null,i.a.createElement(s.PrimaryToolbar,{pagination:{itemCount:k||0,page:R,perPage:A,onSetPage:U,onPerPageSelect:q,isCompact:!1},actionsConfig:{actions:[i.a.createElement(l.Link,{to:te.b.sourcesNew,key:"addSourceButton"},i.a.createElement(p.a,{variant:"primary"},i.a.createElement(m.a,{id:"sources.addSource",defaultMessage:"Add a source"})))]},filterConfig:{items:[{label:P.formatMessage({id:"sources.name",defaultMessage:"Name"}),filterValues:{"aria-label":P.formatMessage({id:"sources.filterByName",defaultMessage:"Filter by name"}),onChange:function(e,t){w(t),Xt((function(){return en("name",t,x)}))},value:j}},{label:P.formatMessage({id:"sources.type",defaultMessage:"Type"}),type:"checkbox",filterValues:{onChange:function(e,t){return en("source_type_id",t,x)},items:$t(L||[]),value:S.source_type_id}}]},activeFiltersConfig:{filters:tn(S,L),onDelete:function(e,t,n){return x(Object(d.f)(function(e,t,n,r){if(n)return r(""),Object.keys(t).reduce((function(e,t){return Qt({},e,g()({},t,void 0))}),{});var a=e[0];return Qt({},t,g()({},a.key,a.chips?t[a.key].filter((function(e){return e!==a.chips[0].value})):void 0))}(t,S,n,w)))}}}),i.a.createElement(X,null),i.a.createElement(s.PrimaryToolbar,{pagination:{itemCount:k||0,page:R,perPage:A,onSetPage:U,onPerPageSelect:q,isCompact:!1,dropDirection:"up",variant:"bottom"}}))))}},490:function(e,t,n){"use strict";n.r(t);var r,a=n(2),o=n.n(a),i=n(22),c=n.n(i),s=n(37),u=n(12),l=n(78),d=n(43),p=n(497),f=n(41),m=(n(485),function(e){return Object(a.useEffect)((function(){insights.chrome.init();try{insights.chrome.identifyApp("sources")}catch(e){console.warn("Failed to initialize chrome navigation.")}}),[]),o.a.createElement(p.a,{locale:"en"},o.a.createElement(o.a.Fragment,null,o.a.createElement(l.NotificationsPortal,null),o.a.createElement(d.Main,{style:{padding:0}},o.a.createElement(f.a,{childProps:e}))))}),b=n(124),y=n(258),g=n.n(y),h=n(322),E=n.n(h),v=n(323),O=n(324),_=n(39),j=n.n(_),w=n(8),M=n.n(w),P=n(13);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){M()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T={loaded:!1,pageSize:50,pageNumber:1,entities:[],numberOfEntities:0,appTypesLoaded:!1,sourceTypesLoaded:!1,addSourceInitialValues:{},filterValue:{},sortBy:"created_at",sortDirection:"desc"},k=function(e,t){var n=t.payload,r=n.sourceId,a=n.app;return S({},e,{entities:e.entities.map((function(e){return e.id===r?S({},e,{applications:[].concat(j()(e.applications),[a])}):e}))})},C=(r={},M()(r,P.a.LOAD_ENTITIES_PENDING,(function(e,t){return S({},e,{loaded:!1},t.options)})),M()(r,P.a.LOAD_ENTITIES_FULFILLED,(function(e,t){return S({},e,{loaded:!0,entities:t.payload},t.options)})),M()(r,P.a.LOAD_ENTITIES_REJECTED,(function(e,t){return S({},e,{fetchingError:t.payload.error})})),M()(r,P.a.LOAD_SOURCE_TYPES_PENDING,(function(e){return S({},e,{sourceTypes:[],sourceTypesLoaded:!1})})),M()(r,P.a.LOAD_SOURCE_TYPES_FULFILLED,(function(e,t){return S({},e,{sourceTypes:t.payload,sourceTypesLoaded:!0})})),M()(r,P.a.LOAD_APP_TYPES_PENDING,(function(e){return S({},e,{appTypes:[],appTypesLoaded:!1})})),M()(r,P.a.LOAD_APP_TYPES_FULFILLED,(function(e,t){return S({},e,{appTypes:t.payload,appTypesLoaded:!0})})),M()(r,P.a.REMOVE_SOURCE_PENDING,(function(e,t){var n=t.meta;return S({},e,{entities:e.entities.map((function(e){return e.id===n.sourceId?S({},e,{isDeleting:!0}):e}))})})),M()(r,P.a.REMOVE_SOURCE_FULFILLED,(function(e,t){var n=t.meta;return S({},e,{entities:e.entities.map((function(e){return e.id===n.sourceId?void 0:e})).filter((function(e){return e}))})})),M()(r,P.a.REMOVE_SOURCE_REJECTED,(function(e,t){var n=t.meta;return S({},e,{entities:e.entities.map((function(e){return e.id===n.sourceId?S({},e,{isDeleting:void 0}):e}))})})),M()(r,P.a.REMOVE_APPLICATION_PENDING,(function(e,t){var n=t.meta;return S({},e,{entities:e.entities.map((function(e){return e.id===n.sourceId?S({},e,{applications:e.applications.map((function(e){return e.id===n.appId?S({},e,{isDeleting:!0}):e}))}):e}))})})),M()(r,P.a.REMOVE_APPLICATION_FULFILLED,(function(e,t){var n=t.meta;return S({},e,{entities:e.entities.map((function(e){return e.id===n.sourceId?S({},e,{applications:e.applications.filter((function(e){return e.id!==n.appId}))}):e}))})})),M()(r,P.a.REMOVE_APPLICATION_REJECTED,(function(e,t){var n=t.meta;return S({},e,{entities:e.entities.map((function(e){return e.id===n.sourceId?S({},e,{applications:e.applications.map((function(e){return e.id===n.appId?S({},e,{isDeleting:void 0}):e}))}):e}))})})),M()(r,P.i,(function(e,t){var n=t.payload;return S({},e,{sortBy:n.column,sortDirection:n.direction})})),M()(r,P.g,(function(e,t){var n=t.payload,r=n.page;return S({},e,{pageSize:n.size,pageNumber:r})})),M()(r,P.f,(function(e,t){var n=t.payload.value;return S({},e,{filterValue:S({},e.filterValue,{},n),pageNumber:1})})),M()(r,P.b,k),M()(r,P.j,(function(e,t){return S({},e,{addSourceInitialValues:t.payload.values})})),M()(r,P.d,(function(e){return S({},e,{addSourceInitialValues:{}})})),M()(r,P.b,k),M()(r,P.h,(function(e,t){return S({},e,{numberOfEntities:t.payload.count})})),M()(r,P.c,(function(e,t){var n=t.payload.source;return S({},e,{entities:[].concat(j()(e.entities),[S({},n,{hidden:!0})])})})),M()(r,P.e,(function(e){return S({},e,{filterValue:{},pageNumber:1})})),r),A=function(e){var t=[v.a,Object(l.notificationsMiddleware)({errorTitleKey:"error.title",errorDescriptionKey:"error.detail"}),O.a];e&&t.push(E.a);var n=new g.a({},t);return n.register({providers:Object(y.applyReducerHash)(C,T)}),n.register({notifications:l.notifications}),n.getStore()};c.a.render(o.a.createElement(u.Provider,{store:A(!1)},o.a.createElement(s.BrowserRouter,{basename:Object(b.getBaseName)(location.pathname)},o.a.createElement(m,null))),document.getElementById("root"))},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r="".concat("/api","/cost-management/v1"),a="".concat("/api","/sources/v1.0")}});
//# sourceMappingURL=../sourcemaps/App.js.map