(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{449:function(e,t,n){var r=n(218),a=n(450);e.exports=function(e,t){return a(e||[],t||[],r)}},450:function(e,t){e.exports=function(e,t,n){for(var r=-1,a=e.length,o=t.length,i={};++r<a;){var c=r<o?t[r]:void 0;n(i,e[r],c)}return i}},458:function(e,t,n){"use strict";n.r(t);var r=n(50),a=n.n(r),o=n(51),i=n.n(o),c=n(52),s=n.n(c),u=n(53),l=n.n(u),p=n(210),m=n.n(p),d=n(10),f=n.n(d),y=n(1),E=n.n(y),h=n(55),T=n(36),b=n(102),S=n(101),v=n(229),g=n(0),R=n.n(g),C=n(44),O=n(388),q=n(63),F=n(121),_=n(124),P=n(122),w=n(123),x=n(86),I=n.n(x),A=n(8),D=n.n(A),j=n(394),k=n.n(j),L=n(225),N=n(456),M=n(462),X=n(231),V=n(212),B=n.n(V),z=n(403),K=n(134),U=n(135),H=function(){return E.a.createElement(K.a,null,E.a.createElement(U.a,{sm:6,md:4,lg:4,xl:4},E.a.createElement("dl",null,E.a.createElement("dt",null,"Access Key ID (User ID)"),E.a.createElement("dd",null,"TO BE ADDED"))))};H.propTypes={source:R.a.shape({id:R.a.oneOfType([R.a.string,R.a.number]).isRequired,name:R.a.string.isRequired}).isRequired};var W=H,J=function(e){return E.a.createElement(z.a,k()({height:20,width:480},e),E.a.createElement("rect",{x:"30",y:"0",rx:"3",ry:"3",width:"250",height:"7"}),E.a.createElement("rect",{x:"300",y:"0",rx:"3",ry:"3",width:"70",height:"7"}),E.a.createElement("rect",{x:"385",y:"0",rx:"3",ry:"3",width:"95",height:"7"}),E.a.createElement("rect",{x:"50",y:"12",rx:"3",ry:"3",width:"80",height:"7"}),E.a.createElement("rect",{x:"150",y:"12",rx:"3",ry:"3",width:"200",height:"7"}),E.a.createElement("rect",{x:"360",y:"12",rx:"3",ry:"3",width:"120",height:"7"}),E.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"20",height:"20"}))},Q=function(e){function t(e){var n;return a()(this,t),n=i()(this,s()(t).call(this,e)),f()(m()(m()(n)),"onItemSelect",function(e,t,r){return n.props.selectEntity(t,r)}),f()(m()(m()(n)),"onSort",function(e,t,r){n.props.sortEntities(n.filteredColumns[t].value,r),n.setState({sortBy:{index:t,direction:r}})}),f()(m()(m()(n)),"onCollapse",function(e,t,r){return n.props.expandEntity(n.sourceIndexToId(t),r)}),f()(m()(m()(n)),"sourceIndexToId",function(e){return n.props.entities[e/2].id}),f()(m()(m()(n)),"renderActions",function(){return[{title:"Remove Source",onClick:function(e,t){return n.props.history.push("/remove/".concat(n.sourceIndexToId(t)))}},{title:"Edit Source",onClick:function(e,t){return n.props.history.push("/edit/".concat(n.sourceIndexToId(t)))}}]}),f()(m()(m()(n)),"sourceTypeFormatter",function(e){return n.sourceTypeMap.get(e)||e||""}),f()(m()(m()(n)),"itemToCells",function(e){return n.filteredColumns.map(function(t){return t.formatter?n[t.formatter](e[t.value]):e[t.value]||""})}),f()(m()(m()(n)),"render",function(){var e=n.props,t=e.entities,r=e.loaded,a=e.sourceTypes,o=B()(t.map(function(e,t){return[D()({},e,{isOpen:!!e.expanded,cells:n.itemToCells(e)}),{id:e.id+"_detail",parent:2*t,cells:[e.expanded?E.a.createElement(E.a.Fragment,{key:"".concat(e.id,"_detail")},E.a.createElement(W,{source:e})):"collapsed content"]}]}));return n.sourceTypeMap=new Map(a.map(function(e){return[e.id,e.name]})),r?E.a.createElement(L.b,{gridBreakPoint:"grid-lg","aria-label":"List of Sources",onCollapse:n.onCollapse,onSort:n.onSort,sortBy:n.state.sortBy,rows:o,cells:n.headers,actions:n.renderActions()},E.a.createElement(N.a,null),E.a.createElement(M.a,null)):E.a.createElement("table",{className:"sources-placeholder-table pf-m-compact ins-entity-table"},E.a.createElement("tbody",null,E.a.createElement("tr",null,E.a.createElement("td",null,E.a.createElement(J,null))),E.a.createElement("tr",null,E.a.createElement("td",null,E.a.createElement(J,null)))))}),n.filteredColumns=I()(n.props.columns,function(e){return e.title}),n.headers=n.filteredColumns.map(function(e){return{title:e.title,transforms:[X.a]}}),n.state={sortBy:{}},n}return l()(t,e),t}(E.a.Component);Q.propTypes={columns:R.a.arrayOf(R.a.shape({value:R.a.string,title:R.a.string})).isRequired,loadEntities:R.a.func.isRequired,selectEntity:R.a.func.isRequired,expandEntity:R.a.func.isRequired,removeSource:R.a.func.isRequired,sortEntities:R.a.func.isRequired,entities:R.a.arrayOf(R.a.any),numberOfEntities:R.a.number.isRequired,loaded:R.a.bool.isRequired,sourceTypes:R.a.arrayOf(R.a.any),history:R.a.any.isRequired},Q.defaultProps={entities:[],numberOfEntities:0,loaded:!1,sourceTypes:[]};var Z=Object(T.connect)(function(e){var t=e.providers;return{entities:t.entities,loaded:t.loaded,numberOfEntities:t.numberOfEntities,sourceTypes:t.sourceTypes}},function(e){return Object(h.bindActionCreators)({loadEntities:O.e,selectEntity:O.j,expandEntity:O.c,sortEntities:O.l,removeSource:O.i},e)})(Object(v.a)(Q)),G=function(e){function t(e){var n;return a()(this,t),n=i()(this,s()(t).call(this,e)),f()(m()(m()(n)),"render",function(){return E.a.createElement(C.SimpleTableFilter,{options:{title:"Filter By",items:n.props.columns},onOptionSelect:n.props.onFilterSelect,onButtonClick:n.props.onFilter})}),n}return l()(t,e),t}(y.Component);G.propTypes={columns:R.a.arrayOf(R.a.shape({value:R.a.string,title:R.a.string})).isRequired,onFilter:R.a.func.isRequired,onFilterSelect:R.a.func.isRequired};var Y=G,$=n(62),ee=n(129),te=n(131),ne=n(120),re=n(130),ae=n(205),oe=n(89),ie=function(){return E.a.createElement(F.a,null,E.a.createElement(P.a,null,E.a.createElement($.a,null,E.a.createElement(ee.a,null,E.a.createElement(te.a,{icon:ae.a}),E.a.createElement(ne.a,{headingLevel:"h5",size:"lg"},"No Sources"),E.a.createElement(re.a,null,"No Sources have been defined. To start define a Source."),E.a.createElement(S.a,{to:oe.b.sourcesNew},E.a.createElement(q.c,{style:{marginTop:"var(--pf-c-empty-state--c-button--MarginTop)"},variant:"primary"},"Add a Source"))))))},ce=n(132),se=n(412),ue=n(449),le=n.n(ue),pe=n(401),me=n.n(pe),de=function(e){return[{label:"Please Choose"}].concat(e.map(function(e){return{value:e.name,label:e.product_name}}))},fe=function(e,t,n){return D()({},e,{name:t,stepKey:t,nextStep:n})},ye={openshift:{title:"Configure OpenShift",fields:[{component:se.componentTypes.TEXT_FIELD,name:"role",type:"hidden",initialValue:"kubernetes"},{component:se.componentTypes.TEXT_FIELD,name:"url",label:"URL"},{component:se.componentTypes.CHECKBOX,name:"verify_ssl",label:"Verify SSL"},{component:se.componentTypes.TEXT_FIELD,name:"certificate_authority",label:"Certificate Authority",condition:{when:"verify_ssl",is:!0}},{component:se.componentTypes.TEXT_FIELD,name:"token",label:"Token",type:"password"}]},amazon:{title:"Configure AWS",fields:[{component:se.componentTypes.TEXT_FIELD,name:"role",type:"hidden",initialValue:"aws"},{component:se.componentTypes.TEXT_FIELD,name:"user_name",label:"Access Key"},{component:se.componentTypes.TEXT_FIELD,name:"password",label:"Secret Key",type:"password"}]}},Ee=function(e){return e.schema||ye[e.name]},he=function(e){return{title:"Get started with adding source",name:"step_1",stepKey:"step_1",nextStep:{when:"source_type",stepMapper:function(e){var t=e.map(function(e){return e.name});return le()(t,t)}(e)},fields:[{component:se.componentTypes.TEXT_FIELD,name:"source_name",type:"text",label:"Name"},{component:se.componentTypes.SELECT_COMPONENT,name:"source_type",label:"Source type",isRequired:!0,options:de(e),validate:[{type:se.validatorTypes.REQUIRED}]}]}},Te=function(e,t){return{title:"Edit a source",name:"step_1",stepKey:"step_1",nextStep:t,fields:[{component:se.componentTypes.TEXT_FIELD,name:"source_name",type:"text",label:"Name"},{component:se.componentTypes.SELECT_COMPONENT,name:"source_type",label:"Source type",isRequired:!0,isDisabled:!0,readOnly:!0,options:de(e),validate:[{type:se.validatorTypes.REQUIRED}]}]}},be=function(){return{fields:[{name:"summary",component:"summary"}],stepKey:"summary",name:"summary"}},Se=function(e){return e.map(function(e){return fe(Ee(e),e.name,"summary")})},ve=function(e){return{source_name:e.name,source_type:e.source_type,url:function(e){return"".concat(e.scheme,"://").concat(e.host,":").concat(e.port).concat(e.path||"")}(e.endpoint),verify_ssl:e.endpoint.verify_ssl,certificate_authority:e.endpoint.certificate_authority,token:"FIXME",role:e.endpoint.role,user_name:"FIXME",password:"FIXME"}};var ge=n(411),Re=function(e){var t=e.location.pathname===oe.b.sourcesNew;Object(y.useEffect)(function(){t||e.loadSourceForEdit(parseInt(e.match.params.id,10))},[]);if(!e.sourceTypes||!t&&!e.source)return E.a.createElement("div",null,"Loading...");var n=t?function(e){return{initialValues:{verify_ssl:!0},schemaType:"default",showFormControls:!1,schema:{fields:[{component:se.componentTypes.WIZARD,name:"wizard",fields:[he(e)].concat(Se(e),be())}]}}}(e.sourceTypes):function(e,t){var n=me()(e,{id:t.source_type_id}),r=n.name;return{initialValues:ve(D()({source_type:n.name},t)),schemaType:"default",showFormControls:!1,schema:{fields:[{component:se.componentTypes.WIZARD,name:"wizard",fields:[Te(e,r)].concat(n&&fe(Ee(n),r,"summary"),be())}]}}}(e.sourceTypes,e.source);return console.log("Form schema: ",n),E.a.createElement(ce.a,{title:t?"Add a New Source":"Edit Source",isOpen:!0,onClose:e.history.goBack,isLarge:!0},E.a.createElement(ge.a,{initialValues:n.initialValues,schemaType:n.schemaType,schema:n.schema,uiSchema:n.uiSchema,showFormControls:n.showFormControls,onSubmit:function(n,r){(t?e.createSource(n,e.sourceTypes):e.updateSource(e.source,n)).then(function(){e.history.replace("/"),e.loadEntities()}).catch(function(t){e.history.replace("/")})}}))};Re.propTypes={createSource:R.a.func.isRequired,loadSourceForEdit:R.a.func.isRequired,loadEntities:R.a.func.isRequired,updateSource:R.a.func.isRequired,sourceTypes:R.a.arrayOf(R.a.any),source:R.a.object,location:R.a.any.isRequired,match:R.a.object.isRequired,history:R.a.any.isRequired};var Ce=Object(T.connect)(function(e){var t=e.providers;return{source:t.source,sourceTypes:t.sourceTypes}},function(e){return Object(h.bindActionCreators)({createSource:O.b,loadEntities:O.e,loadSourceForEdit:O.f,updateSource:O.m},e)})(Object(v.a)(Re)),Oe=n(133),qe=n(90),Fe=function(e){var t=e.history.push,n=e.removeSource,r=e.loadEntities,a=e.source,o=function(){return t("/")};return a?E.a.createElement(ce.a,{title:" ",isOpen:!0,isSmall:!0,hideTitle:!0,onClose:o,actions:[E.a.createElement(q.c,{key:"cancel",variant:"secondary",type:"button",onClick:o},"Cancel"),E.a.createElement(q.c,{key:"submit",variant:"primary",type:"button",onClick:function(){return n(a.id).then(function(){r(),t("/")})}},"Confirm")]},E.a.createElement($.a,null,E.a.createElement(Oe.a,null,E.a.createElement(qe.b,{component:qe.a.h1},"Removing Source:  ",a.name)))):null};Fe.propTypes={history:R.a.shape({push:R.a.func.isRequired}).isRequired,removeSource:R.a.func.isRequired,loadEntities:R.a.func.isRequired,source:R.a.shape({id:R.a.string.isRequired,name:R.a.string.isRequired})};var _e=Object(v.a)(Object(T.connect)(function(e,t){return{source:function(e,t){return e.providers.entities.find(function(e){return e.id===t})}(e,t.match.params.id)}},function(e){return Object(h.bindActionCreators)({loadEntities:O.e,removeSource:O.i},e)})(Fe)),Pe=n(393),we=function(e){function t(e){var n;return a()(this,t),n=i()(this,s()(t).call(this,e)),f()(m()(m()(n)),"componentDidMount",function(){n.props.loadSourceTypes(),n.props.loadEntities()}),f()(m()(m()(n)),"onFilter",function(e){console.log("onFilter",e),n.props.filterProviders(e)}),f()(m()(m()(n)),"onFilterSelect",function(e,t){console.log("onFilter",t),n.props.setProviderFilterColumn(t.value)}),f()(m()(m()(n)),"onSetPage",function(e){n.setState({onPage:e}),n.props.pageAndSize(e,n.state.itemsPerPage)}),f()(m()(m()(n)),"onPerPageSelect",function(e){n.setState({onPage:1,itemsPerPage:e}),n.props.pageAndSize(1,e)}),f()(m()(m()(n)),"renderMainContent",function(){return E.a.createElement(F.a,null,E.a.createElement(_.a,null,E.a.createElement(Y,{columns:I()(Pe.a.columns,function(e){return e.searchable}),onFilter:n.onFilter,onFilterSelect:n.onFilterSelect})),E.a.createElement(P.a,null,E.a.createElement(Z,{columns:Pe.a.columns})),E.a.createElement(w.a,null,E.a.createElement(C.Pagination,{itemsPerPage:n.state.itemsPerPage,page:n.state.onPage,direction:"up",onSetPage:n.onSetPage,onPerPageSelect:n.onPerPageSelect,numberOfItems:n.props.numberOfEntities||0})))}),f()(m()(m()(n)),"render",function(){var e=n.props.numberOfEntities,t=n.props.loaded&&!n.props.filterValue&&(!e||0===e),r=n.props.location.pathname===oe.b.sourcesNew,a=n.props.match.path===oe.b.sourcesEdit;return E.a.createElement(E.a.Fragment,null,E.a.createElement(b.a,{exact:!0,path:oe.b.sourcesRemove,component:_e}),r||a?E.a.createElement(Ce,null):"",E.a.createElement(C.PageHeader,null,E.a.createElement(C.PageHeaderTitle,{title:"Sources"}),E.a.createElement(S.a,{to:oe.b.sourcesNew},E.a.createElement(q.c,{className:"pull-right",variant:"secondary"}," Add a New Source "))),E.a.createElement(C.Section,{type:"content"},t?E.a.createElement(ie,null):n.renderMainContent()))}),n.state={itemsPerPage:10,onPage:1},n}return l()(t,e),t}(y.Component);f()(we,"propTypes",{filterProviders:R.a.func.isRequired,setProviderFilterColumn:R.a.func.isRequired,loadEntities:R.a.func.isRequired,loadSourceTypes:R.a.func.isRequired,pageAndSize:R.a.func.isRequired,filterValue:R.a.string,loaded:R.a.bool.isRequired,numberOfEntities:R.a.number.isRequired,location:R.a.any.isRequired,match:R.a.object.isRequired,history:R.a.any.isRequired});t.default=Object(T.connect)(function(e){var t=e.providers;return{filterValue:t.filterValue,loaded:t.loaded,numberOfEntities:t.numberOfEntities}},function(e){return Object(h.bindActionCreators)({filterProviders:O.d,loadEntities:O.e,loadSourceTypes:O.g,pageAndSize:O.h,setProviderFilterColumn:O.k},e)})(Object(v.a)(we))}}]);
//# sourceMappingURL=../sourcemaps/SourcesPage.js.map