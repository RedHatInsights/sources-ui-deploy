(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{288:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(283),a=n.n(r),o=n(0),i=n.n(o),c=n(3),u=n.n(c),s=n(419),l=n.n(s),p=n(40),f=n(321),d="edit-field",m=function(e){var t=e.isRequired,n=e.label,r=e.helperText,a=e.hideLabel,o=e.meta,c=e.input,u=e.type,s=e.setEdit,d=o.error,m=o.touched&&d,v=c.value;"boolean"==typeof v&&(v=v?"True":"False");var y="password"===u||c.name.includes("password")?"Click to edit":"Click to add";return i.a.createElement(f.FormGroup,{isRequired:t,label:!a&&n,fieldId:c.name,isValid:!m,helperText:r,helperTextInvalid:d,onClick:s?function(){return s(c.name)}:void 0,tabIndex:0,onKeyPress:function(e){32===e.charCode&&s&&(e.preventDefault(),s(c.name))}},i.a.createElement("div",{className:"pf-c-form__horizontal-group ins-c-sources__edit-field-group ".concat(s?"clickable":"")},i.a.createElement(p.TextContent,{className:"ins-c-sources__edit-field-group-text-content ".concat(s?"clickable":"")},i.a.createElement("span",{className:"ins-c-sources__edit-field-value pf-u-mr-sm"},v||(s?y:"")),s&&i.a.createElement(l.a,null))))};m.propTypes={label:u.a.string,isRequired:u.a.bool,helperText:u.a.string,meta:u.a.object.isRequired,FieldProvider:u.a.oneOfType([u.a.node,u.a.func]),input:u.a.shape({value:u.a.any,name:u.a.string.isRequired}).isRequired,hideLabel:u.a.bool,setEdit:u.a.func,type:u.a.string};var v=function(e){var t=e.FieldProvider,n=a()(e,["FieldProvider"]);return i.a.createElement(t,n,(function(e){return i.a.createElement(m,e)}))};v.propTypes={FieldProvider:u.a.oneOfType([u.a.node,u.a.func]).isRequired},t.b=v},305:function(e,t,n){var r=n(364),a=n(365);e.exports=function(e,t,n,o){var i=!n;n||(n={});for(var c=-1,u=t.length;++c<u;){var s=t[c],l=o?o(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?a(n,s,l):r(n,s,l)}return n}},330:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Stack=void 0;var r=s(n(3)),a=function(e){if(e&&e.__esModule)return e;var t=u();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}}n.default=e,t&&t.set(e,n);return n}(n(0)),o=s(n(370)),i=n(6),c=n(132);function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function s(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var f=function(e){var t=e.gutter,n=void 0===t?null:t,r=e.className,u=void 0===r?"":r,s=e.children,f=void 0===s?null:s,d=e.component,m=void 0===d?"div":d,v=p(e,["gutter","className","children","component"]),y=m;return a.createElement(y,l({},v,{className:(0,i.css)(o.default.stack,n&&(0,c.getGutterModifier)(o.default,n,o.default.modifiers.gutter),u)}),f)};t.Stack=f,f.propTypes={gutter:r.default.oneOf(["sm","md","lg"]),children:r.default.node,className:r.default.string,component:r.default.node}},331:function(e,t,n){var r=n(432),a=n(635),o=n(298);e.exports=function(e){return o(e)?r(e,!0):a(e)}},332:function(e,t,n){var r,a,o;a=[t],void 0===(o="function"==typeof(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=(e.isDate=function(e){return e instanceof Date},e.isEmpty=function(e){return 0===Object.keys(e).length},e.isObject=function(e){return null!=e&&"object"===(void 0===e?"undefined":n(e))});e.properObject=function(e){return r(e)&&!e.hasOwnProperty?t({},e):e}})?r.apply(t,a):r)||(e.exports=o)},362:function(e,t,n){"use strict";var r=n(296),a=n.n(r),o=n(1),i=n.n(o),c=n(0),u=n.n(c),s=n(277),l=n.n(s),p=n(320),f=n(280),d=n(288);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){return u.a.createElement(l.a,a()({layoutMapper:p.layoutMapper,formFieldsMapper:v({},p.formFieldsMapper,{},f.mapperExtension,{"edit-field":d.b})},e))}},368:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(3),i=n.n(o),c=n(29),u=n(10),s=n(25),l=n(40),p=n(75),f=n(303),d=n(304),m=n(279),v=function(e){var t=e.setApplicationToRemove,n=e.breakpoints,r=e.namePrefix,o=Object(c.useSelector)((function(e){return e.sources.appTypes})),i=Object(m.a)(),v=i.applications.map((function(e){var t=e.application_type_id,n=o.find((function(e){return e.id===t}));return n?n.display_name:void 0}));return i.applications.filter((function(e){return!e.isDeleting})).map((function(e){var t=o.find((function(t){return t.id===e.application_type_id}));if(t)return{display_name:t.display_name,id:e.id,dependent_applications:t.dependent_applications}})).sort((function(e,t){return e.display_name.localeCompare(t.display_name)})).map((function(e){var o=e.display_name,i=e.id,c=e.dependent_applications;return a.a.createElement(l.TextContent,{key:i},a.a.createElement(f.Grid,null,a.a.createElement(d.GridItem,{md:n.display_name||4},a.a.createElement(s.Text,{component:s.TextVariants.p,style:{marginBottom:0}},r,o)),a.a.createElement(d.GridItem,{md:n.remove||8,className:"ins-c-sources__remove-app"},a.a.createElement(p.Button,{variant:p.ButtonVariant.link,isInline:!0,onClick:function(){return t({id:i,display_name:o,dependent_applications:c,sourceAppsNames:v})}},a.a.createElement(u.a,{id:"sources.remove",defaultMessage:"Remove"})))))}))};v.propTypes={setApplicationToRemove:i.a.func.isRequired,breakpoints:i.a.shape({display_name:i.a.number,remove:i.a.number}),namePrefix:i.a.node},v.defaultProps={breakpoints:{}},t.a=v},369:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(3),i=n.n(o),c=n(29),u=n(273),s=n(10),l=n(25),p=n(40),f=n(75),d=n(318),m=n(317),v=n(330),y=n(329),b=n(59),g=n.n(b),h=n(42),O=n(279),j=function(e){var t=e.app,n=e.onCancel,r=Object(u.a)(),o=Object(c.useSelector)((function(e){return e.sources.appTypes})),i=Object(O.a)(),b=Object(c.useDispatch)(),j=t.dependent_applications.map((function(e){var n=o.find((function(t){return t.name===e}));return n&&t.sourceAppsNames.includes(n.display_name)?n.display_name:void 0})).filter((function(e){return e}));return a.a.createElement(y.Modal,{className:"ins-c-sources__dialog--warning",title:"Remove ".concat(t.display_name," application"),isOpen:!0,isSmall:!0,onClose:n,isFooterLeftAligned:!0,actions:[a.a.createElement(f.Button,{id:"deleteSubmit",key:"submit",variant:"danger",type:"button",onClick:function(){var e=r.formatMessage({id:"sources.removeAppWarning",defaultMessage:"{ name } was removed from this source."},{name:t.display_name}),a=r.formatMessage({id:"sources.removeAppError",defaultMessage:"Removing of { name } application from this source was unsuccessful."},{name:t.display_name});return n(),b(Object(h.j)(t.id,i.id,e,a))}},a.a.createElement(s.a,{id:"sources.remove",defaultMessage:"Remove"})),a.a.createElement(f.Button,{id:"deleteCancel",key:"cancel",variant:"link",type:"button",onClick:n},a.a.createElement(s.a,{id:"sources.cancel",defaultMessage:"Cancel"}))]},a.a.createElement(d.Split,{gutter:"md"},a.a.createElement(m.SplitItem,null,a.a.createElement(g.a,{size:"xl",className:"ins-m-alert ins-c-source__delete-icon"})),a.a.createElement(m.SplitItem,{isFilled:!0},a.a.createElement(v.Stack,{gutter:"md"},a.a.createElement(p.TextContent,null,a.a.createElement(l.Text,{component:l.TextVariants.p},a.a.createElement(s.a,{id:"sources.deleteAppWarning",defaultMessage:"Are you sure to remove { appName } from this source?",values:{appName:t.display_name}})),j.length>0&&a.a.createElement(l.Text,{component:l.TextVariants.p},a.a.createElement(s.a,{id:"sources.deleteAppDetails",defaultMessage:"This change will affect these applications: { apps }.",values:{apps:j}})))))))};j.propTypes={app:i.a.shape({id:i.a.string.isRequired,display_name:i.a.string.isRequired,dependent_applications:i.a.arrayOf(i.a.string),sourceAppsNames:i.a.arrayOf(i.a.string)}).isRequired,onCancel:i.a.func.isRequired},t.a=j},370:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(371),t.default={stack:"pf-l-stack",stackItem:"pf-l-stack__item",modifiers:{fill:"pf-m-fill",gutter:"pf-m-gutter"}}},371:function(e,t,n){var r=n(11),a=n(372);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(r(a,o),a.locals?a.locals:{});e.exports=i},372:function(e,t,n){(t=n(8)(!1)).push([e.i,".pf-l-stack{--pf-l-stack--m-gutter--MarginBottom: var(--pf-global--gutter);--pf-l-stack--m-gutter--md--MarginBottom: var(--pf-global--gutter--md);display:flex;flex-direction:column;height:100%}@media screen and (max-width: 768px){.pf-l-stack{--pf-l-stack--m-gutter--MarginBottom: var(--pf-l-stack--m-gutter--md--MarginBottom)}}.pf-l-stack__item.pf-m-fill{flex-grow:1}.pf-l-stack.pf-m-gutter>*:not(:last-child){margin-bottom:var(--pf-l-stack--m-gutter--MarginBottom)}\n",""]),e.exports=t},373:function(e,t,n){var r=n(620),a=n(637)((function(e,t,n){r(e,t,n)}));e.exports=a},374:function(e,t,n){var r=n(629);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},375:function(e,t,n){var r=n(392)(Object.getPrototypeOf,Object);e.exports=r},376:function(e,t,n){var r=n(646);e.exports=function(e){return r(e,5)}},377:function(e,t,n){var r=n(432),a=n(391),o=n(298);e.exports=function(e){return o(e)?r(e):a(e)}},378:function(e,t,n){var r=n(651),a=n(434),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,c=i?function(e){return null==e?[]:(e=Object(e),r(i(e),(function(t){return o.call(e,t)})))}:a;e.exports=c},425:function(e,t,n){var r=n(325),a=n(621),o=n(622),i=n(623),c=n(624),u=n(625);function s(e){var t=this.__data__=new r(e);this.size=t.size}s.prototype.clear=a,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=c,s.prototype.set=u,e.exports=s},426:function(e,t,n){var r=n(365),a=n(327);e.exports=function(e,t,n){(void 0===n||a(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},427:function(e,t,n){(function(e){var r=n(276),a=t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,i=o&&o.exports===a?r.Buffer:void 0,c=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=c?c(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(311)(e))},428:function(e,t,n){var r=n(374);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},429:function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},430:function(e,t,n){var r=n(630),a=n(375),o=n(312);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(a(e))}},431:function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},432:function(e,t,n){var r=n(634),a=n(347),o=n(282),i=n(315),c=n(366),u=n(348),s=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&a(e),p=!n&&!l&&i(e),f=!n&&!l&&!p&&u(e),d=n||l||p||f,m=d?r(e.length,String):[],v=m.length;for(var y in e)!t&&!s.call(e,y)||d&&("length"==y||p&&("offset"==y||"parent"==y)||f&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||c(y,v))||m.push(y);return m}},433:function(e,t){e.exports=function(e){return e}},434:function(e,t){e.exports=function(){return[]}},435:function(e,t,n){var r=n(436),a=n(375),o=n(378),i=n(434),c=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=a(e);return t}:i;e.exports=c},436:function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},437:function(e,t,n){var r=n(436),a=n(282);e.exports=function(e,t,n){var o=t(e);return a(e)?o:r(o,n(e))}},438:function(e,t,n){var r,a,o;a=[e,t,n(332)],void 0===(o="function"==typeof(r=function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function e(t,o){if(t===o||!(0,n.isObject)(t)||!(0,n.isObject)(o))return{};var i=(0,n.properObject)(t),c=(0,n.properObject)(o);return Object.keys(c).reduce((function(t,o){if(i.hasOwnProperty(o)){var u=e(i[o],c[o]);return(0,n.isObject)(u)&&(0,n.isEmpty)(u)?t:a({},t,r({},o,u))}return a({},t,r({},o,c[o]))}),{})},e.exports=t.default})?r.apply(t,a):r)||(e.exports=o)},439:function(e,t,n){var r,a,o;a=[e,t,n(332)],void 0===(o="function"==typeof(r=function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function e(t,o){if(t===o||!(0,n.isObject)(t)||!(0,n.isObject)(o))return{};var i=(0,n.properObject)(t),c=(0,n.properObject)(o);return Object.keys(i).reduce((function(t,o){if(c.hasOwnProperty(o)){var u=e(i[o],c[o]);return(0,n.isObject)(u)&&(0,n.isEmpty)(u)?t:a({},t,r({},o,u))}return a({},t,r({},o,void 0))}),{})},e.exports=t.default})?r.apply(t,a):r)||(e.exports=o)},440:function(e,t,n){var r,a,o;a=[e,t,n(332)],void 0===(o="function"==typeof(r=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function e(t,a){if(t===a)return{};if(!(0,n.isObject)(t)||!(0,n.isObject)(a))return a;var o=(0,n.properObject)(t),i=(0,n.properObject)(a);return(0,n.isDate)(o)||(0,n.isDate)(i)?o.valueOf()==i.valueOf()?{}:i:Object.keys(i).reduce((function(t,a){if(o.hasOwnProperty(a)){var c=e(o[a],i[a]);return(0,n.isObject)(c)&&(0,n.isEmpty)(c)&&!(0,n.isDate)(c)?t:r({},t,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},a,c))}return t}),{})},e.exports=t.default})?r.apply(t,a):r)||(e.exports=o)},620:function(e,t,n){var r=n(425),a=n(426),o=n(626),i=n(628),c=n(278),u=n(331),s=n(431);e.exports=function e(t,n,l,p,f){t!==n&&o(n,(function(o,u){if(f||(f=new r),c(o))i(t,n,u,l,e,p,f);else{var d=p?p(s(t,u),o,u+"",t,n,f):void 0;void 0===d&&(d=o),a(t,u,d)}}),u)}},621:function(e,t,n){var r=n(325);e.exports=function(){this.__data__=new r,this.size=0}},622:function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},623:function(e,t){e.exports=function(e){return this.__data__.get(e)}},624:function(e,t){e.exports=function(e){return this.__data__.has(e)}},625:function(e,t,n){var r=n(325),a=n(346),o=n(421);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!a||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(i)}return n.set(e,t),this.size=n.size,this}},626:function(e,t,n){var r=n(627)();e.exports=r},627:function(e,t){e.exports=function(e){return function(t,n,r){for(var a=-1,o=Object(t),i=r(t),c=i.length;c--;){var u=i[e?c:++a];if(!1===n(o[u],u,o))break}return t}}},628:function(e,t,n){var r=n(426),a=n(427),o=n(428),i=n(429),c=n(430),u=n(347),s=n(282),l=n(631),p=n(315),f=n(345),d=n(278),m=n(632),v=n(348),y=n(431),b=n(633);e.exports=function(e,t,n,g,h,O,j){var E=y(e,n),_=y(t,n),x=j.get(_);if(x)r(e,n,x);else{var w=O?O(E,_,n+"",e,t,j):void 0,T=void 0===w;if(T){var S=s(_),M=!S&&p(_),A=!S&&!M&&v(_);w=_,S||M||A?s(E)?w=E:l(E)?w=i(E):M?(T=!1,w=a(_,!0)):A?(T=!1,w=o(_,!0)):w=[]:m(_)||u(_)?(w=E,u(E)?w=b(E):d(E)&&!f(E)||(w=c(_))):T=!1}T&&(j.set(_,w),h(w,_,g,O,j),j.delete(_)),r(e,n,w)}}},629:function(e,t,n){var r=n(276).Uint8Array;e.exports=r},630:function(e,t,n){var r=n(278),a=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},631:function(e,t,n){var r=n(298),a=n(281);e.exports=function(e){return a(e)&&r(e)}},632:function(e,t,n){var r=n(292),a=n(375),o=n(281),i=Function.prototype,c=Object.prototype,u=i.toString,s=c.hasOwnProperty,l=u.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=a(e);if(null===t)return!0;var n=s.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==l}},633:function(e,t,n){var r=n(305),a=n(331);e.exports=function(e){return r(e,a(e))}},634:function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},635:function(e,t,n){var r=n(278),a=n(312),o=n(636),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=a(e),n=[];for(var c in e)("constructor"!=c||!t&&i.call(e,c))&&n.push(c);return n}},636:function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},637:function(e,t,n){var r=n(638),a=n(645);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,c=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,c&&a(n[0],n[1],c)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var u=n[r];u&&e(t,u,r,i)}return t}))}},638:function(e,t,n){var r=n(433),a=n(639),o=n(641);e.exports=function(e,t){return o(a(e,t,r),e+"")}},639:function(e,t,n){var r=n(640),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,c=a(o.length-t,0),u=Array(c);++i<c;)u[i]=o[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=o[i];return s[t]=n(u),r(e,this,s)}}},640:function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},641:function(e,t,n){var r=n(642),a=n(644)(r);e.exports=a},642:function(e,t,n){var r=n(643),a=n(423),o=n(433),i=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=i},643:function(e,t){e.exports=function(e){return function(){return e}}},644:function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var a=n(),o=16-(a-r);if(r=a,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},645:function(e,t,n){var r=n(327),a=n(298),o=n(366),i=n(278);e.exports=function(e,t,n){if(!i(n))return!1;var c=typeof t;return!!("number"==c?a(n)&&o(t,n.length):"string"==c&&t in n)&&r(n[t],e)}},646:function(e,t,n){var r=n(425),a=n(647),o=n(364),i=n(648),c=n(649),u=n(427),s=n(429),l=n(650),p=n(652),f=n(653),d=n(654),m=n(313),v=n(655),y=n(656),b=n(430),g=n(282),h=n(315),O=n(660),j=n(278),E=n(662),_=n(377),x={};x["[object Arguments]"]=x["[object Array]"]=x["[object ArrayBuffer]"]=x["[object DataView]"]=x["[object Boolean]"]=x["[object Date]"]=x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Map]"]=x["[object Number]"]=x["[object Object]"]=x["[object RegExp]"]=x["[object Set]"]=x["[object String]"]=x["[object Symbol]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x["[object Error]"]=x["[object Function]"]=x["[object WeakMap]"]=!1,e.exports=function e(t,n,w,T,S,M){var A,k=1&n,P=2&n,D=4&n;if(w&&(A=S?w(t,T,S,M):w(t)),void 0!==A)return A;if(!j(t))return t;var C=g(t);if(C){if(A=v(t),!k)return s(t,A)}else{var R=m(t),V="[object Function]"==R||"[object GeneratorFunction]"==R;if(h(t))return u(t,k);if("[object Object]"==R||"[object Arguments]"==R||V&&!S){if(A=P||V?{}:b(t),!k)return P?p(t,c(A,t)):l(t,i(A,t))}else{if(!x[R])return S?t:{};A=y(t,R,k)}}M||(M=new r);var I=M.get(t);if(I)return I;M.set(t,A),E(t)?t.forEach((function(r){A.add(e(r,n,w,r,t,M))})):O(t)&&t.forEach((function(r,a){A.set(a,e(r,n,w,a,t,M))}));var B=D?P?d:f:P?keysIn:_,q=C?void 0:B(t);return a(q||t,(function(r,a){q&&(r=t[a=r]),o(A,a,e(r,n,w,a,t,M))})),A}},647:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},648:function(e,t,n){var r=n(305),a=n(377);e.exports=function(e,t){return e&&r(t,a(t),e)}},649:function(e,t,n){var r=n(305),a=n(331);e.exports=function(e,t){return e&&r(t,a(t),e)}},650:function(e,t,n){var r=n(305),a=n(378);e.exports=function(e,t){return r(e,a(e),t)}},651:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}},652:function(e,t,n){var r=n(305),a=n(435);e.exports=function(e,t){return r(e,a(e),t)}},653:function(e,t,n){var r=n(437),a=n(378),o=n(377);e.exports=function(e){return r(e,o,a)}},654:function(e,t,n){var r=n(437),a=n(435),o=n(331);e.exports=function(e){return r(e,o,a)}},655:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},656:function(e,t,n){var r=n(374),a=n(657),o=n(658),i=n(659),c=n(428);e.exports=function(e,t,n){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return a(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return c(e,n);case"[object Map]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return o(e);case"[object Set]":return new u;case"[object Symbol]":return i(e)}}},657:function(e,t,n){var r=n(374);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},658:function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},659:function(e,t,n){var r=n(314),a=r?r.prototype:void 0,o=a?a.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},660:function(e,t,n){var r=n(661),a=n(349),o=n(350),i=o&&o.isMap,c=i?a(i):r;e.exports=c},661:function(e,t,n){var r=n(313),a=n(281);e.exports=function(e){return a(e)&&"[object Map]"==r(e)}},662:function(e,t,n){var r=n(663),a=n(349),o=n(350),i=o&&o.isSet,c=i?a(i):r;e.exports=c},663:function(e,t,n){var r=n(313),a=n(281);e.exports=function(e){return a(e)&&"[object Set]"==r(e)}},664:function(e,t,n){var r,a,o;a=[t,n(665),n(438),n(439),n(440),n(666)],void 0===(o="function"==typeof(r=function(e,t,n,r,a,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.detailedDiff=e.updatedDiff=e.deletedDiff=e.diff=e.addedDiff=void 0;var i=p(t),c=p(n),u=p(r),s=p(a),l=p(o);function p(e){return e&&e.__esModule?e:{default:e}}e.addedDiff=c.default,e.diff=i.default,e.deletedDiff=u.default,e.updatedDiff=s.default,e.detailedDiff=l.default})?r.apply(t,a):r)||(e.exports=o)},665:function(e,t,n){var r,a,o;a=[e,t,n(332)],void 0===(o="function"==typeof(r=function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function e(t,o){if(t===o)return{};if(!(0,n.isObject)(t)||!(0,n.isObject)(o))return o;var i=(0,n.properObject)(t),c=(0,n.properObject)(o),u=Object.keys(i).reduce((function(e,t){return c.hasOwnProperty(t)?e:a({},e,r({},t,void 0))}),{});return(0,n.isDate)(i)||(0,n.isDate)(c)?i.valueOf()==c.valueOf()?{}:c:Object.keys(c).reduce((function(t,o){if(!i.hasOwnProperty(o))return a({},t,r({},o,c[o]));var u=e(i[o],c[o]);return(0,n.isObject)(u)&&(0,n.isEmpty)(u)&&!(0,n.isDate)(u)?t:a({},t,r({},o,u))}),u)},e.exports=t.default})?r.apply(t,a):r)||(e.exports=o)},666:function(e,t,n){var r,a,o;a=[e,t,n(438),n(439),n(440)],void 0===(o="function"==typeof(r=function(e,t,n,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n),i=u(r),c=u(a);function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){return{added:(0,o.default)(e,t),deleted:(0,i.default)(e,t),updated:(0,c.default)(e,t)}},e.exports=t.default})?r.apply(t,a):r)||(e.exports=o)},674:function(e,t,n){"use strict";n.r(t);var r=n(23),a=n.n(r),o=n(34),i=n.n(o),c=n(1),u=n.n(c),s=n(66),l=n.n(s),p=n(84),f=n.n(p),d=n(0),m=n.n(d),v=n(28),y=n(29),b=n(273),g=n(373),h=n.n(g),O=n(376),j=n.n(O),E=n(280),_=n(42),x=n(362),w=n(277),T=n(25),S=n(40),M=n(10),A=n(295),k=n.n(A),P=n(405),D=n(369),C=n(368),R=n(279),V=function(){var e=Object(d.useState)({}),t=i()(e,2),n=t[0],r=t[1],a=Object(y.useSelector)((function(e){return e.sources.sourceTypes})),o=Object(R.a)(),c=a.find((function(e){return e.id===o.source_type_id})),u=o.applications.filter((function(e){return!e.isDeleting}));return m.a.createElement(m.a.Fragment,null,n.id&&m.a.createElement(D.a,{app:n,onCancel:function(){return r({})}}),m.a.createElement(S.TextContent,null,m.a.createElement(P.Grid,{gutter:"md"},m.a.createElement(P.GridItem,{md:2},m.a.createElement(T.Text,{component:T.TextVariants.h4},m.a.createElement(M.a,{id:"sources.sourceName",defaultMessage:"Source name"}))),m.a.createElement(P.GridItem,{md:2},m.a.createElement(T.Text,{component:T.TextVariants.h4},m.a.createElement(M.a,{id:"sources.type",defaultMessage:"Type"}))),m.a.createElement(P.GridItem,{md:8},m.a.createElement(T.Text,{component:T.TextVariants.h4},m.a.createElement(M.a,{id:"sources.apps",defaultMessage:"Applications"}))),m.a.createElement(P.GridItem,{md:2},m.a.createElement(T.Text,{component:T.TextVariants.p},o.name)),m.a.createElement(P.GridItem,{md:2},m.a.createElement(T.Text,{component:T.TextVariants.p},c?c.product_name:m.a.createElement(M.a,{id:"sources.typeNotFound",defaultMessage:"Type not found"}))),m.a.createElement(P.GridItem,{md:8},u.length>0?m.a.createElement(C.a,{setApplicationToRemove:r}):m.a.createElement(M.a,{id:"sources.noApps",defaultMessage:"No applications"})))))},I=n(3),B=n.n(I),q=function(e){var t=e.formOptions,n=e.authenticationValues,r=e.modifiedValues,a=Object(d.useState)((function(){return function(t){return e!==t&&(e=t,!0)};var e})),o=i()(a,1)[0],c=Object(y.useSelector)((function(e){return e.sources}),y.shallowEqual),u=c.appTypes;return function(e){var t=e.sourceTypes,n=e.source,r=e.appTypes,a=e.formOptions,o=e.checkAuthType,i=e.authenticationValues,c=e.modifiedValues,u=t.find((function(e){return e.id===n.source_type_id})),s=a.getState(),l=r.find((function(e){return e.id===k()(s,"values.application.application_type_id",void 0)})),p=k()(l,"supported_authentication_types[".concat(u.name,"][0]"),"");if(o(p)){a.change("supported_auth_type",p);var f=i.find((function(e){return e.authtype===p}));if(f)if(c&&c.authentication){var d=h()(j()(f),c.authentication);a.change("authentication",d)}else a.change("authentication",f);else c&&c.authentication?a.change("authentication",c.authentication):a.change("authentication",void 0)}}({sourceTypes:c.sourceTypes,checkAuthType:o,formOptions:t,authenticationValues:n,appTypes:u,source:Object(R.a)(),modifiedValues:r}),null};q.propTypes={formOptions:B.a.shape({getState:B.a.func.isRequired,change:B.a.func.isRequired}).isRequired,authenticationValues:B.a.arrayOf(B.a.object),modifiedValues:B.a.object};var F=function(){return m.a.createElement(S.TextContent,null,m.a.createElement(T.Text,{component:T.TextVariants.p},m.a.createElement(M.a,{id:"sources.allApplicationsAssigned",defaultMessage:"All available applications have already been added to this source or there is no available application for this source type."})))},N=function(){return m.a.createElement(S.TextContent,null,m.a.createElement(T.Text,{component:T.TextVariants.p},m.a.createElement(M.a,{id:"sources.reviewAddAppSummary",defaultMessage:"Review the information below and click Finish to add the application to your source."})," ",m.a.createElement("br",null),m.a.createElement(M.a,{id:"sources.backGuide",defaultMessage:"Use the Back button to make changes."})))},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e.find((function(e){return e.authtype===k()(t,"supported_authentication_types.".concat(n,"[0]"))}))},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0,u=e.length>0,s=u?"summary":void 0,l=[];if(!i.imported&&u){var p=n.find((function(e){return e.id===i.source_type_id})),f=p.schema.endpoint.hidden?p.schema.endpoint.fields:[],d=0===f.length;r.forEach((function(e){if(e.supported_source_types.includes(p.name)){var t=z(o,e,p.name);l.push(E.schemaBuilder.createSpecificAuthTypeSelection(p,e,f,!1,t))}})),p.schema.authentication.forEach((function(e){r.forEach((function(t){if(t.supported_source_types.includes(p.name)){var n=E.schemaBuilder.getAdditionalSteps(p.name,e.type,t.name);if(n.length>0){var r=z(o,t,p.name);l.push.apply(l,a()(E.schemaBuilder.createAdditionalSteps(n,p.name,e.type,d,e.fields,t.name,r)))}}}))})),d&&l.push(E.schemaBuilder.createEndpointStep(p.schema.endpoint,p.name)),s=function(e){var t=e.values.application,n=t||{},r=n.application_type_id?n.application_type_id:"";return"".concat(p.name,"-").concat(r)}}var m=u?{component:"card-select",name:"application.application_type_id",options:e,label:t.formatMessage({id:"sources.chooseAppToAdd",defaultMessage:"Choose an application to add"}),DefaultIcon:null,isRequired:!0,validate:[{type:w.validatorTypes.REQUIRED}]}:{component:"description",name:"description-no-options",validate:[{type:w.validatorTypes.REQUIRED}],Content:F};return{fields:[{component:w.componentTypes.WIZARD,name:"wizard",title:t.formatMessage({id:"sources.manageApps",defaultMessage:"Manage applications"}),inModal:!0,predictSteps:!0,showTitles:!0,crossroads:["application.application_type_id"],description:t.formatMessage({id:"sources.addAppDescription",defaultMessage:"You are managing applications of this source."}),buttonLabels:{submit:t.formatMessage({id:"sources.finish",defaultMessage:"Finish"}),cancel:t.formatMessage({id:"sources.cancel",defaultMessage:"Cancel"}),back:t.formatMessage({id:"sources.back",defaultMessage:"Back"})},fields:[{nextStep:s,title:t.formatMessage({id:"sources.selectApp",defaultMessage:"Select application"}),stepKey:1,name:"selectAppStep",fields:[{component:"description",name:"description",Content:V},m,{component:"description",name:"authtypesetter",Content:q,authenticationValues:o,hideField:!0,modifiedValues:c}]},{title:t.formatMessage({id:"sources.review",defaultMessage:"Review"}),stepKey:"summary",name:"summary",fields:[{component:"description",name:"description-summary",Content:N},{component:"summary",name:"summary",sourceTypes:n,applicationTypes:r}]}].concat(l)}]}},G=n(75),U=n(289),W=n(290),Y=n(323),K=n(77),J=n(424),Q=function(e){var t=e.onClose,n=e.customText;return m.a.createElement(K.Bullseye,null,m.a.createElement(U.EmptyState,{variant:U.EmptyStateVariant.full},m.a.createElement("div",null,m.a.createElement(J.Spinner,null)),m.a.createElement(W.EmptyStateBody,null,n),t&&m.a.createElement(Y.EmptyStateSecondaryActions,null,m.a.createElement(G.Button,{variant:"link",onClick:t},m.a.createElement(M.a,{id:"sources.cancel",defaultMessage:"Cancel"})))))};Q.propTypes={onClose:B.a.func,customText:B.a.node},Q.defaultProps={customText:m.a.createElement(M.a,{id:"sources.loading",defaultMessage:"Loading, please wait."})};var Z=Q,$=n(297),H=n(125),X=n(418),ee=n.n(X),te=function(e){var t=e.onClose,n=e.onRetry,r=e.message,a=e.title;return m.a.createElement(K.Bullseye,null,m.a.createElement(U.EmptyState,{variant:U.EmptyStateVariant.full},m.a.createElement($.EmptyStateIcon,{icon:ee.a,color:"var(--pf-global--danger-color--100)"}),m.a.createElement(H.Title,{headingLevel:"h5",size:"lg"},a),m.a.createElement(W.EmptyStateBody,null,r),m.a.createElement(G.Button,{variant:"primary",onClick:t},m.a.createElement(M.a,{id:"sources.backToSources",defaultMessage:"Back to Sources"})),n&&m.a.createElement(Y.EmptyStateSecondaryActions,null,m.a.createElement(G.Button,{variant:"link",onClick:n},m.a.createElement(M.a,{id:"sources.retry",defaultMessage:"Retry"})))))};te.propTypes={onClose:B.a.func.isRequired,message:B.a.node.isRequired,title:B.a.node.isRequired,onRetry:B.a.func};var ne=te,re=function(e){var t=e.setState,n=e.goToSources,r=e.error;return m.a.createElement(ne,{onClose:n,message:m.a.createElement(m.a.Fragment,null,m.a.createElement(M.a,{id:"sources.successAddApp",defaultMessage:"Your application has not been successfully added:"}),m.a.createElement("br",null),m.a.createElement(S.TextContent,null,m.a.createElement(T.Text,{component:T.TextVariants.h6},r))),title:m.a.createElement(M.a,{id:"sources.configurationSuccessful",defaultMessage:"Configuration unsuccessful"}),onRetry:function(){return t({state:"wizard"})}})};re.propTypes={setState:I.PropTypes.func.isRequired,goToSources:I.PropTypes.func.isRequired,error:I.PropTypes.string.isRequired};var ae=re,oe=n(60),ie=n.n(oe),ce=function(e){var t=e.onClose,n=e.title,r=e.successfulMessage,a=e.secondaryActions;return m.a.createElement(K.Bullseye,null,m.a.createElement(U.EmptyState,{variant:U.EmptyStateVariant.full},m.a.createElement($.EmptyStateIcon,{icon:ie.a,color:"var(--pf-global--success-color--100)"}),m.a.createElement(H.Title,{headingLevel:"h5",size:"lg"},n),m.a.createElement(W.EmptyStateBody,null,r),m.a.createElement(G.Button,{variant:"primary",onClick:t},m.a.createElement(M.a,{id:"sources.backToSources",defaultMessage:"Back to Sources"})),a&&m.a.createElement(Y.EmptyStateSecondaryActions,null,a)))};ce.propTypes={onClose:B.a.func.isRequired,successfulMessage:B.a.node.isRequired,title:B.a.node.isRequired,secondaryActions:B.a.node};var ue=ce,se=function(e){var t=e.setState,n=e.goToSources;return m.a.createElement(ue,{onClose:n,successfulMessage:m.a.createElement(M.a,{id:"sources.successAddApp",defaultMessage:"Your application has been successfully added."}),title:m.a.createElement(M.a,{id:"sources.configurationSuccessful",defaultMessage:"Configuration successful"}),secondaryActions:m.a.createElement(G.Button,{variant:"link",onClick:function(){return t({state:"wizard"})}},m.a.createElement(M.a,{id:"sources.continueManageApp",defaultMessage:"Continue managing applications"}))})};se.propTypes={setState:I.PropTypes.func.isRequired,goToSources:I.PropTypes.func.isRequired};var le=se,pe=n(416),fe=function(e){var t=e.step,n=e.goToSources,r=Object(b.a)();return m.a.createElement(pe.Wizard,{isOpen:!0,onClose:n,title:r.formatMessage({id:"sources.manageApps",defaultMessage:"Manage applications"}),description:r.formatMessage({id:"sources.addAppDescription",defaultMessage:"You are managing applications of this source."}),steps:[{name:"Finish",component:t,isFinishedStep:!0}]})};fe.propTypes={step:I.PropTypes.node.isRequired,goToSources:I.PropTypes.func.isRequired};var de=fe,me=n(13),ve=n(308),ye=n(81),be=n(76),ge=n(283),he=n.n(ge),Oe=n(150),je=n.n(Oe),Ee=n(664),_e=n(390),xe=n.n(_e),we=n(109);function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Me=function e(t){return Object.keys(t).forEach((function(n){t[n]&&"object"===je()(t[n])?xe()(t[n])?delete t[n]:e(t[n]):void 0===t[n]&&delete t[n]})),t},Ae=function(){var e=f()(l.a.mark((function e(t,n,r,a){var o,i,c,u,s,p,f,d,m,v,y,b,g,O,_,x,w,T,S,M,A,k,P,D,C,R,V,I,B;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.getState(),i=o.values,c=i.authentication?i.authentication.id:void 0,u=c?r.find((function(e){return e.id===c})):void 0,s=t.authentication,p=he()(t,["authentication"]),f=Object(Ee.addedDiff)(a,p),d=Object(Ee.updatedDiff)(a,p),m=Object(Ee.addedDiff)(u,s),v=Object(Ee.updatedDiff)(u,s),y=Me(Se({},h()(j()(f),d),{authentication:Se({},h()(j()(m),v))})),e.prev=10,i.source&&i.source.id){e.next=13;break}throw"Missing source id";case 13:if(b=i.source.id,g=i.endpoint?i.endpoint.id:void 0,O=[],y.source&&!xe()(y.source)&&O.push(Object(me.i)().updateSource(b,y.source)),_=y.endpoint&&!xe()(y.endpoint),x=y.url&&!xe()(y.url),!_&&!x){e.next=32;break}if(w=Object(we.b)(y),T=w.scheme,S=w.host,M=w.port,A=w.path,k=parseInt(M,10),P=Me(Se({},y.endpoint,{scheme:T,host:S,port:isNaN(k)?void 0:k,path:A})),!g){e.next=27;break}O.push(Object(me.i)().updateEndpoint(g,P)),e.next=32;break;case 27:return D=Se({},P,{default:!0,source_id:b}),e.next=30,Object(me.i)().createEndpoint(D);case 30:C=e.sent,g=C.id;case 32:return y.authentication&&!xe()(y.authentication)&&(c?O.push(Object(me.i)().updateAuthentication(c,y.authentication)):g&&(R=Se({},y.authentication,{resource_id:g,resource_type:"Endpoint"}),O.push(Object(me.i)().createAuthentication(R)))),y.application&&y.application.application_type_id&&O.push(Object(me.b)(b,y.application.application_type_id)),e.next=36,Promise.all(O);case 36:if(!(y.credentials||y.billing_source)){e.next=44;break}return V=y.credentials,I=y.billing_source,B={},B=V?{authentication:{credentials:V}}:{},B=I?Se({},B,{billing_source:I}):B,e.next=44,Object(E.patchSource)(Se({id:b},B));case 44:e.next=52;break;case 46:return e.prev=46,e.t0=e.catch(10),e.next=50,Object(E.handleError)(e.t0);case 50:throw e.sent;case 52:case"end":return e.stop()}}),e,null,[[10,46]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),ke=n(444);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}n.d(t,"onSubmit",(function(){return Re}));var De=void 0,Ce=function(e){var t=e.values.application;return De=t},Re=function(e,t,n,r,a,o){return a({state:"submitting"}),Ae(e,t,n,o).then(f()(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(Object(_.g)());case 2:return De=void 0,e.abrupt("return",a({state:"finished"}));case 4:case"end":return e.stop()}}),e)})))).catch((function(t){return a({state:"errored",error:t,values:e})}))},Ve={state:"loading",error:"",values:{},authenticationsValues:[],sourceAppsLength:0,initialValues:{}},Ie=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},t)};t.default=function(){var e=Object(b.a)(),t=Object(v.f)(),n=Object(ve.a)(),r=Object(y.useSelector)((function(e){return e.sources}),y.shallowEqual),o=r.appTypes,c=r.sourceTypesLoaded,u=r.appTypesLoaded,s=r.sourceTypes,l=r.undoValues,p=Object(R.a)(),f=Object(y.useDispatch)(),g=Object(d.useReducer)(Ie,Ve),O=i()(g,2),w=O[0],T=O[1];Object(d.useEffect)((function(){De=void 0}),[]),Object(d.useEffect)((function(){if(p){var e=w.sourceAppsLength>=p.applications.length&&w.sourceAppsLength>0;T({sourceAppsLength:p.applications.length}),e||(p.endpoints&&p.endpoints[0]?Object(me.i)().listEndpointAuthentications(p.endpoints[0].id).then((function(e){var t=e.data;return T({authenticationsValues:t,initialValues:{source:p,endpoint:p.endpoints[0],url:Object(ye.b)(p.endpoints[0]),application:De,values:{}}})})).then((function(){"loading"===w.state&&T({state:"wizard"})})):(T({initialValues:{source:p,application:De},values:{}}),"loading"===w.state&&T({state:"wizard"})))}}),[p]);var S=function(){return t.push(be.c.sources.path)};if(!u||!c||!n)return m.a.createElement(de,{goToSources:S,step:m.a.createElement(Z,null)});if("loading"===w.state||"submitting"===w.state)return m.a.createElement(de,{goToSources:S,step:m.a.createElement(Z,null)});if("wizard"!==w.state){var A="finished"===w.state?m.a.createElement(le,{setState:T,goToSources:S}):m.a.createElement(ae,{setState:T,goToSources:S,error:w.error});return m.a.createElement(de,{goToSources:S,step:A})}var k=p.applications.filter((function(e){return!e.isDeleting})).reduce((function(e,t){return[].concat(a()(e),[t.application_type_id])}),[]),P=s.find((function(e){return e.id===p.source_type_id})),D=P&&P.name,C=o.filter((function(e){return!k.includes(e.id)&&e.supported_source_types.includes(D)})).filter(E.filterApps),V=C.map((function(t){var n=p.applications.find((function(e){return e.application_type_id===t.id})),r="".concat(t.display_name," ").concat(n?"(".concat(e.formatMessage({id:"sources.currentlyRemoving",defaultMessage:"Currently removing"}),")"):"");return{value:t.id,label:r,isDisabled:!!n}})),I=h()(j()(l),w.values),B=L(V,e,s,o,w.authenticationsValues,p,I),q=C.length>0?function(e,t){return Re(e,t,w.authenticationsValues,f,T,w.initialValues)}:S,F=h()(j()(w.initialValues),I);return m.a.createElement(x.a,{schema:B,showFormControls:!1,onSubmit:q,onCancel:function(n){return function(e){var t=e.values,n=e.dispatch,r=e.history,a=e.intl,o=e.sourceId;if(t&&t.application){var i=Date.now();n(Object(_.b)(a.formatMessage({id:"sources.addApplicationCanceled",defaultMessage:"Adding an application was cancelled"}),"success",m.a.createElement(M.a,{id:"sources.undoMistake",defaultMessage:"{undo} if this was a mistake.",values:{undo:m.a.createElement(ke.a,{messageId:i,values:t,path:Object(be.b)(be.c.sourceManageApps.path,o)})}}),i))}n(Object(_.c)()),r.push(be.c.sources.path)}({values:n,dispatch:f,intl:e,sourceId:p.id,history:t})},initialValues:F,subscription:{values:!0},onStateUpdate:Ce,clearedValue:null})}}}]);
//# sourceMappingURL=../sourcemaps/addApp.js.map