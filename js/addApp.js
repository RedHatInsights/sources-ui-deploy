(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{284:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(279),a=n.n(r),o=n(0),i=n.n(o),c=n(2),u=n.n(c),s=n(432),l=n.n(s),p=n(38),f=n(314),d="edit-field",m=function(e){var t=e.isRequired,n=e.label,r=e.helperText,a=e.hideLabel,o=e.meta,c=e.input,u=e.type,s=e.setEdit,d=o.error,m=o.touched&&d,v=c.value;"boolean"==typeof v&&(v=v?"True":"False");var y="password"===u||c.name.includes("password")?"Click to edit":"Click to add";return i.a.createElement(f.FormGroup,{isRequired:t,label:!a&&n,fieldId:c.name,isValid:!m,helperText:r,helperTextInvalid:d,onClick:s?function(){return s(c.name)}:void 0,tabIndex:0,onKeyPress:function(e){32===e.charCode&&s&&(e.preventDefault(),s(c.name))}},i.a.createElement("div",{className:"pf-c-form__horizontal-group ins-c-sources__edit-field-group ".concat(s?"clickable":"")},i.a.createElement(p.TextContent,{className:"ins-c-sources__edit-field-group-text-content ".concat(s?"clickable":"")},i.a.createElement("span",{className:"ins-c-sources__edit-field-value pf-u-mr-sm"},v||(s?y:"")),s&&i.a.createElement(l.a,null))))};m.propTypes={label:u.a.string,isRequired:u.a.bool,helperText:u.a.string,meta:u.a.object.isRequired,FieldProvider:u.a.oneOfType([u.a.node,u.a.func]),input:u.a.shape({value:u.a.any,name:u.a.string.isRequired}).isRequired,hideLabel:u.a.bool,setEdit:u.a.func,type:u.a.string};var v=function(e){var t=e.FieldProvider,n=a()(e,["FieldProvider"]);return i.a.createElement(t,n,(function(e){return i.a.createElement(m,e)}))};v.propTypes={FieldProvider:u.a.oneOfType([u.a.node,u.a.func]).isRequired},t.b=v},285:function(e,t,n){(e.exports=n(8)(!1)).push([e.i,".pf-l-stack{--pf-l-stack--m-gutter--MarginBottom: var(--pf-global--gutter);--pf-l-stack--m-gutter--md--MarginBottom: var(--pf-global--gutter--md);display:flex;flex-direction:column;height:100%}@media screen and (max-width: 768px){.pf-l-stack{--pf-l-stack--m-gutter--MarginBottom: var(--pf-l-stack--m-gutter--md--MarginBottom)}}.pf-l-stack__item.pf-m-fill{flex-grow:1}.pf-l-stack.pf-m-gutter>*:not(:last-child){margin-bottom:var(--pf-l-stack--m-gutter--MarginBottom)}\n",""])},300:function(e,t,n){var r=n(377),a=n(378);e.exports=function(e,t,n,o){var i=!n;n||(n={});for(var c=-1,u=t.length;++c<u;){var s=t[c],l=o?o(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?a(n,s,l):r(n,s,l)}return n}},323:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Stack=void 0;var r=s(n(2)),a=function(e){if(e&&e.__esModule)return e;var t=u();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}}n.default=e,t&&t.set(e,n);return n}(n(0)),o=s(n(384)),i=n(5),c=n(145);function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function s(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var f=function(e){var t=e.gutter,n=void 0===t?null:t,r=e.className,u=void 0===r?"":r,s=e.children,f=void 0===s?null:s,d=e.component,m=void 0===d?"div":d,v=p(e,["gutter","className","children","component"]),y=m;return a.createElement(y,l({},v,{className:(0,i.css)(o.default.stack,n&&(0,c.getGutterModifier)(o.default,n,o.default.modifiers.gutter),u)}),f)};t.Stack=f,f.propTypes={gutter:r.default.oneOf(["sm","md","lg"]),children:r.default.node,className:r.default.string,component:r.default.node}},324:function(e,t,n){var r=n(445),a=n(605),o=n(294);e.exports=function(e){return o(e)?r(e,!0):a(e)}},325:function(e,t,n){var r,a,o;a=[t],void 0===(o="function"==typeof(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=(e.isDate=function(e){return e instanceof Date},e.isEmpty=function(e){return 0===Object.keys(e).length},e.isObject=function(e){return null!=e&&"object"===(void 0===e?"undefined":n(e))});e.properObject=function(e){return r(e)&&!e.hasOwnProperty?t({},e):e}})?r.apply(t,a):r)||(e.exports=o)},374:function(e,t,n){"use strict";var r=n(292),a=n.n(r),o=n(1),i=n.n(o),c=n(0),u=n.n(c),s=n(273),l=n.n(s),p=n(313),f=n(278),d=n(284);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){return u.a.createElement(l.a,a()({layoutMapper:p.layoutMapper,formFieldsMapper:v({},p.formFieldsMapper,{},f.mapperExtension,{"edit-field":d.b})},e))}},382:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(2),i=n.n(o),c=n(28),u=n(10),s=n(23),l=n(38),p=n(88),f=n(298),d=n(299),m=n(275),v=function(e){var t=e.setApplicationToRemove,n=e.breakpoints,r=e.namePrefix,o=Object(c.useSelector)((function(e){return e.sources.appTypes})),i=Object(m.a)(),v=i.applications.map((function(e){var t=e.application_type_id,n=o.find((function(e){return e.id===t}));return n?n.display_name:void 0}));return i.applications.filter((function(e){return!e.isDeleting})).map((function(e){var t=o.find((function(t){return t.id===e.application_type_id}));if(t)return{display_name:t.display_name,id:e.id,dependent_applications:t.dependent_applications}})).sort((function(e,t){return e.display_name.localeCompare(t.display_name)})).map((function(e){var o=e.display_name,i=e.id,c=e.dependent_applications;return a.a.createElement(l.TextContent,{key:i},a.a.createElement(f.Grid,null,a.a.createElement(d.GridItem,{md:n.display_name||4},a.a.createElement(s.Text,{component:s.TextVariants.p,style:{marginBottom:0}},r,o)),a.a.createElement(d.GridItem,{md:n.remove||8,className:"ins-c-sources__remove-app"},a.a.createElement(p.Button,{variant:p.ButtonVariant.link,isInline:!0,onClick:function(){return t({id:i,display_name:o,dependent_applications:c,sourceAppsNames:v})}},a.a.createElement(u.a,{id:"sources.remove",defaultMessage:"Remove"})))))}))};v.propTypes={setApplicationToRemove:i.a.func.isRequired,breakpoints:i.a.shape({display_name:i.a.number,remove:i.a.number}),namePrefix:i.a.node},v.defaultProps={breakpoints:{}},t.a=v},383:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(2),i=n.n(o),c=n(28),u=n(269),s=n(10),l=n(23),p=n(38),f=n(88),d=n(312),m=n(311),v=n(323),y=n(322),b=n(55),g=n.n(b),h=n(41),O=n(275),j=function(e){var t=e.app,n=e.onCancel,r=Object(u.a)(),o=Object(c.useSelector)((function(e){return e.sources.appTypes})),i=Object(O.a)(),b=Object(c.useDispatch)(),j=t.dependent_applications.map((function(e){var n=o.find((function(t){return t.name===e}));return n&&t.sourceAppsNames.includes(n.display_name)?n.display_name:void 0})).filter((function(e){return e}));return a.a.createElement(y.Modal,{className:"ins-c-sources__dialog--warning",title:"Remove ".concat(t.display_name," application"),isOpen:!0,isSmall:!0,onClose:n,isFooterLeftAligned:!0,actions:[a.a.createElement(f.Button,{id:"deleteSubmit",key:"submit",variant:"danger",type:"button",onClick:function(){var e=r.formatMessage({id:"sources.removeAppWarning",defaultMessage:"{ name } was removed from this source."},{name:t.display_name}),a=r.formatMessage({id:"sources.removeAppError",defaultMessage:"Removing of { name } application from this source was unsuccessful."},{name:t.display_name});return n(),b(Object(h.j)(t.id,i.id,e,a))}},a.a.createElement(s.a,{id:"sources.remove",defaultMessage:"Remove"})),a.a.createElement(f.Button,{id:"deleteCancel",key:"cancel",variant:"link",type:"button",onClick:n},a.a.createElement(s.a,{id:"sources.cancel",defaultMessage:"Cancel"}))]},a.a.createElement(d.Split,{gutter:"md"},a.a.createElement(m.SplitItem,null,a.a.createElement(g.a,{size:"xl",className:"ins-m-alert ins-c-source__delete-icon"})),a.a.createElement(m.SplitItem,{isFilled:!0},a.a.createElement(v.Stack,{gutter:"md"},a.a.createElement(p.TextContent,null,a.a.createElement(l.Text,{component:l.TextVariants.p},a.a.createElement(s.a,{id:"sources.deleteAppWarning",defaultMessage:"Are you sure to remove { appName } from this source?",values:{appName:t.display_name}})),j.length>0&&a.a.createElement(l.Text,{component:l.TextVariants.p},a.a.createElement(s.a,{id:"sources.deleteAppDetails",defaultMessage:"This change will affect these applications: { apps }.",values:{apps:j}})))))))};j.propTypes={app:i.a.shape({id:i.a.string.isRequired,display_name:i.a.string.isRequired,dependent_applications:i.a.arrayOf(i.a.string),sourceAppsNames:i.a.arrayOf(i.a.string)}).isRequired,onCancel:i.a.func.isRequired},t.a=j},384:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(385),t.default={stack:"pf-l-stack",stackItem:"pf-l-stack__item",modifiers:{fill:"pf-m-fill",gutter:"pf-m-gutter"}}},385:function(e,t,n){var r=n(285);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0},o=n(11)(r,a);r.locals&&(e.exports=r.locals),e.hot.accept(285,(function(){var t=n(285);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,r=0;for(n in e){if(!t||e[n]!==t[n])return!1;r++}for(n in t)r--;return 0===r}(r.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(t)})),e.hot.dispose((function(){o()}))},386:function(e,t,n){var r=n(590),a=n(607)((function(e,t,n){r(e,t,n)}));e.exports=a},387:function(e,t,n){var r=n(599);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},388:function(e,t,n){var r=n(406)(Object.getPrototypeOf,Object);e.exports=r},389:function(e,t,n){var r=n(616);e.exports=function(e){return r(e,5)}},390:function(e,t,n){var r=n(445),a=n(405),o=n(294);e.exports=function(e){return o(e)?r(e):a(e)}},391:function(e,t,n){var r=n(621),a=n(447),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,c=i?function(e){return null==e?[]:(e=Object(e),r(i(e),(function(t){return o.call(e,t)})))}:a;e.exports=c},438:function(e,t,n){var r=n(318),a=n(591),o=n(592),i=n(593),c=n(594),u=n(595);function s(e){var t=this.__data__=new r(e);this.size=t.size}s.prototype.clear=a,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=c,s.prototype.set=u,e.exports=s},439:function(e,t,n){var r=n(378),a=n(320);e.exports=function(e,t,n){(void 0===n||a(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},440:function(e,t,n){(function(e){var r=n(272),a=t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,i=o&&o.exports===a?r.Buffer:void 0,c=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=c?c(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(305)(e))},441:function(e,t,n){var r=n(387);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},442:function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},443:function(e,t,n){var r=n(600),a=n(388),o=n(306);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(a(e))}},444:function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},445:function(e,t,n){var r=n(604),a=n(344),o=n(277),i=n(309),c=n(379),u=n(345),s=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&a(e),p=!n&&!l&&i(e),f=!n&&!l&&!p&&u(e),d=n||l||p||f,m=d?r(e.length,String):[],v=m.length;for(var y in e)!t&&!s.call(e,y)||d&&("length"==y||p&&("offset"==y||"parent"==y)||f&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||c(y,v))||m.push(y);return m}},446:function(e,t){e.exports=function(e){return e}},447:function(e,t){e.exports=function(){return[]}},448:function(e,t,n){var r=n(449),a=n(388),o=n(391),i=n(447),c=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=a(e);return t}:i;e.exports=c},449:function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},450:function(e,t,n){var r=n(449),a=n(277);e.exports=function(e,t,n){var o=t(e);return a(e)?o:r(o,n(e))}},451:function(e,t,n){var r,a,o;a=[e,t,n(325)],void 0===(o="function"==typeof(r=function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function e(t,o){if(t===o||!(0,n.isObject)(t)||!(0,n.isObject)(o))return{};var i=(0,n.properObject)(t),c=(0,n.properObject)(o);return Object.keys(c).reduce((function(t,o){if(i.hasOwnProperty(o)){var u=e(i[o],c[o]);return(0,n.isObject)(u)&&(0,n.isEmpty)(u)?t:a({},t,r({},o,u))}return a({},t,r({},o,c[o]))}),{})},e.exports=t.default})?r.apply(t,a):r)||(e.exports=o)},452:function(e,t,n){var r,a,o;a=[e,t,n(325)],void 0===(o="function"==typeof(r=function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function e(t,o){if(t===o||!(0,n.isObject)(t)||!(0,n.isObject)(o))return{};var i=(0,n.properObject)(t),c=(0,n.properObject)(o);return Object.keys(i).reduce((function(t,o){if(c.hasOwnProperty(o)){var u=e(i[o],c[o]);return(0,n.isObject)(u)&&(0,n.isEmpty)(u)?t:a({},t,r({},o,u))}return a({},t,r({},o,void 0))}),{})},e.exports=t.default})?r.apply(t,a):r)||(e.exports=o)},453:function(e,t,n){var r,a,o;a=[e,t,n(325)],void 0===(o="function"==typeof(r=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function e(t,a){if(t===a)return{};if(!(0,n.isObject)(t)||!(0,n.isObject)(a))return a;var o=(0,n.properObject)(t),i=(0,n.properObject)(a);return(0,n.isDate)(o)||(0,n.isDate)(i)?o.valueOf()==i.valueOf()?{}:i:Object.keys(i).reduce((function(t,a){if(o.hasOwnProperty(a)){var c=e(o[a],i[a]);return(0,n.isObject)(c)&&(0,n.isEmpty)(c)&&!(0,n.isDate)(c)?t:r({},t,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},a,c))}return t}),{})},e.exports=t.default})?r.apply(t,a):r)||(e.exports=o)},590:function(e,t,n){var r=n(438),a=n(439),o=n(596),i=n(598),c=n(274),u=n(324),s=n(444);e.exports=function e(t,n,l,p,f){t!==n&&o(n,(function(o,u){if(f||(f=new r),c(o))i(t,n,u,l,e,p,f);else{var d=p?p(s(t,u),o,u+"",t,n,f):void 0;void 0===d&&(d=o),a(t,u,d)}}),u)}},591:function(e,t,n){var r=n(318);e.exports=function(){this.__data__=new r,this.size=0}},592:function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},593:function(e,t){e.exports=function(e){return this.__data__.get(e)}},594:function(e,t){e.exports=function(e){return this.__data__.has(e)}},595:function(e,t,n){var r=n(318),a=n(343),o=n(434);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!a||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(i)}return n.set(e,t),this.size=n.size,this}},596:function(e,t,n){var r=n(597)();e.exports=r},597:function(e,t){e.exports=function(e){return function(t,n,r){for(var a=-1,o=Object(t),i=r(t),c=i.length;c--;){var u=i[e?c:++a];if(!1===n(o[u],u,o))break}return t}}},598:function(e,t,n){var r=n(439),a=n(440),o=n(441),i=n(442),c=n(443),u=n(344),s=n(277),l=n(601),p=n(309),f=n(342),d=n(274),m=n(602),v=n(345),y=n(444),b=n(603);e.exports=function(e,t,n,g,h,O,j){var E=y(e,n),x=y(t,n),_=j.get(x);if(_)r(e,n,_);else{var w=O?O(E,x,n+"",e,t,j):void 0,S=void 0===w;if(S){var T=s(x),M=!T&&p(x),A=!T&&!M&&v(x);w=x,T||M||A?s(E)?w=E:l(E)?w=i(E):M?(S=!1,w=a(x,!0)):A?(S=!1,w=o(x,!0)):w=[]:m(x)||u(x)?(w=E,u(E)?w=b(E):d(E)&&!f(E)||(w=c(x))):S=!1}S&&(j.set(x,w),h(w,x,g,O,j),j.delete(x)),r(e,n,w)}}},599:function(e,t,n){var r=n(272).Uint8Array;e.exports=r},600:function(e,t,n){var r=n(274),a=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},601:function(e,t,n){var r=n(294),a=n(276);e.exports=function(e){return a(e)&&r(e)}},602:function(e,t,n){var r=n(289),a=n(388),o=n(276),i=Function.prototype,c=Object.prototype,u=i.toString,s=c.hasOwnProperty,l=u.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=a(e);if(null===t)return!0;var n=s.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==l}},603:function(e,t,n){var r=n(300),a=n(324);e.exports=function(e){return r(e,a(e))}},604:function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},605:function(e,t,n){var r=n(274),a=n(306),o=n(606),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=a(e),n=[];for(var c in e)("constructor"!=c||!t&&i.call(e,c))&&n.push(c);return n}},606:function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},607:function(e,t,n){var r=n(608),a=n(615);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,c=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,c&&a(n[0],n[1],c)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var u=n[r];u&&e(t,u,r,i)}return t}))}},608:function(e,t,n){var r=n(446),a=n(609),o=n(611);e.exports=function(e,t){return o(a(e,t,r),e+"")}},609:function(e,t,n){var r=n(610),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,c=a(o.length-t,0),u=Array(c);++i<c;)u[i]=o[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=o[i];return s[t]=n(u),r(e,this,s)}}},610:function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},611:function(e,t,n){var r=n(612),a=n(614)(r);e.exports=a},612:function(e,t,n){var r=n(613),a=n(436),o=n(446),i=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=i},613:function(e,t){e.exports=function(e){return function(){return e}}},614:function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var a=n(),o=16-(a-r);if(r=a,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},615:function(e,t,n){var r=n(320),a=n(294),o=n(379),i=n(274);e.exports=function(e,t,n){if(!i(n))return!1;var c=typeof t;return!!("number"==c?a(n)&&o(t,n.length):"string"==c&&t in n)&&r(n[t],e)}},616:function(e,t,n){var r=n(438),a=n(617),o=n(377),i=n(618),c=n(619),u=n(440),s=n(442),l=n(620),p=n(622),f=n(623),d=n(624),m=n(307),v=n(625),y=n(626),b=n(443),g=n(277),h=n(309),O=n(630),j=n(274),E=n(632),x=n(390),_={};_["[object Arguments]"]=_["[object Array]"]=_["[object ArrayBuffer]"]=_["[object DataView]"]=_["[object Boolean]"]=_["[object Date]"]=_["[object Float32Array]"]=_["[object Float64Array]"]=_["[object Int8Array]"]=_["[object Int16Array]"]=_["[object Int32Array]"]=_["[object Map]"]=_["[object Number]"]=_["[object Object]"]=_["[object RegExp]"]=_["[object Set]"]=_["[object String]"]=_["[object Symbol]"]=_["[object Uint8Array]"]=_["[object Uint8ClampedArray]"]=_["[object Uint16Array]"]=_["[object Uint32Array]"]=!0,_["[object Error]"]=_["[object Function]"]=_["[object WeakMap]"]=!1,e.exports=function e(t,n,w,S,T,M){var A,k=1&n,P=2&n,D=4&n;if(w&&(A=T?w(t,S,T,M):w(t)),void 0!==A)return A;if(!j(t))return t;var C=g(t);if(C){if(A=v(t),!k)return s(t,A)}else{var R=m(t),V="[object Function]"==R||"[object GeneratorFunction]"==R;if(h(t))return u(t,k);if("[object Object]"==R||"[object Arguments]"==R||V&&!T){if(A=P||V?{}:b(t),!k)return P?p(t,c(A,t)):l(t,i(A,t))}else{if(!_[R])return T?t:{};A=y(t,R,k)}}M||(M=new r);var I=M.get(t);if(I)return I;M.set(t,A),E(t)?t.forEach((function(r){A.add(e(r,n,w,r,t,M))})):O(t)&&t.forEach((function(r,a){A.set(a,e(r,n,w,a,t,M))}));var B=D?P?d:f:P?keysIn:x,q=C?void 0:B(t);return a(q||t,(function(r,a){q&&(r=t[a=r]),o(A,a,e(r,n,w,a,t,M))})),A}},617:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},618:function(e,t,n){var r=n(300),a=n(390);e.exports=function(e,t){return e&&r(t,a(t),e)}},619:function(e,t,n){var r=n(300),a=n(324);e.exports=function(e,t){return e&&r(t,a(t),e)}},620:function(e,t,n){var r=n(300),a=n(391);e.exports=function(e,t){return r(e,a(e),t)}},621:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}},622:function(e,t,n){var r=n(300),a=n(448);e.exports=function(e,t){return r(e,a(e),t)}},623:function(e,t,n){var r=n(450),a=n(391),o=n(390);e.exports=function(e){return r(e,o,a)}},624:function(e,t,n){var r=n(450),a=n(448),o=n(324);e.exports=function(e){return r(e,o,a)}},625:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},626:function(e,t,n){var r=n(387),a=n(627),o=n(628),i=n(629),c=n(441);e.exports=function(e,t,n){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return a(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return c(e,n);case"[object Map]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return o(e);case"[object Set]":return new u;case"[object Symbol]":return i(e)}}},627:function(e,t,n){var r=n(387);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},628:function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},629:function(e,t,n){var r=n(308),a=r?r.prototype:void 0,o=a?a.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},630:function(e,t,n){var r=n(631),a=n(346),o=n(347),i=o&&o.isMap,c=i?a(i):r;e.exports=c},631:function(e,t,n){var r=n(307),a=n(276);e.exports=function(e){return a(e)&&"[object Map]"==r(e)}},632:function(e,t,n){var r=n(633),a=n(346),o=n(347),i=o&&o.isSet,c=i?a(i):r;e.exports=c},633:function(e,t,n){var r=n(307),a=n(276);e.exports=function(e){return a(e)&&"[object Set]"==r(e)}},634:function(e,t,n){var r,a,o;a=[t,n(635),n(451),n(452),n(453),n(636)],void 0===(o="function"==typeof(r=function(e,t,n,r,a,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.detailedDiff=e.updatedDiff=e.deletedDiff=e.diff=e.addedDiff=void 0;var i=p(t),c=p(n),u=p(r),s=p(a),l=p(o);function p(e){return e&&e.__esModule?e:{default:e}}e.addedDiff=c.default,e.diff=i.default,e.deletedDiff=u.default,e.updatedDiff=s.default,e.detailedDiff=l.default})?r.apply(t,a):r)||(e.exports=o)},635:function(e,t,n){var r,a,o;a=[e,t,n(325)],void 0===(o="function"==typeof(r=function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function e(t,o){if(t===o)return{};if(!(0,n.isObject)(t)||!(0,n.isObject)(o))return o;var i=(0,n.properObject)(t),c=(0,n.properObject)(o),u=Object.keys(i).reduce((function(e,t){return c.hasOwnProperty(t)?e:a({},e,r({},t,void 0))}),{});return(0,n.isDate)(i)||(0,n.isDate)(c)?i.valueOf()==c.valueOf()?{}:c:Object.keys(c).reduce((function(t,o){if(!i.hasOwnProperty(o))return a({},t,r({},o,c[o]));var u=e(i[o],c[o]);return(0,n.isObject)(u)&&(0,n.isEmpty)(u)&&!(0,n.isDate)(u)?t:a({},t,r({},o,u))}),u)},e.exports=t.default})?r.apply(t,a):r)||(e.exports=o)},636:function(e,t,n){var r,a,o;a=[e,t,n(451),n(452),n(453)],void 0===(o="function"==typeof(r=function(e,t,n,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n),i=u(r),c=u(a);function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){return{added:(0,o.default)(e,t),deleted:(0,i.default)(e,t),updated:(0,c.default)(e,t)}},e.exports=t.default})?r.apply(t,a):r)||(e.exports=o)},641:function(e,t,n){"use strict";n.r(t);var r=n(21),a=n.n(r),o=n(34),i=n.n(o),c=n(1),u=n.n(c),s=n(74),l=n.n(s),p=n(97),f=n.n(p),d=n(0),m=n.n(d),v=n(27),y=n(28),b=n(269),g=n(386),h=n.n(g),O=n(389),j=n.n(O),E=n(41),x=n(374),_=n(273),w=n(23),S=n(38),T=n(10),M=n(278),A=n(291),k=n.n(A),P=n(418),D=n(383),C=n(382),R=n(275),V=function(){var e=Object(d.useState)({}),t=i()(e,2),n=t[0],r=t[1],a=Object(y.useSelector)((function(e){return e.sources.sourceTypes})),o=Object(R.a)(),c=a.find((function(e){return e.id===o.source_type_id})),u=o.applications.filter((function(e){return!e.isDeleting}));return m.a.createElement(m.a.Fragment,null,n.id&&m.a.createElement(D.a,{app:n,onCancel:function(){return r({})}}),m.a.createElement(S.TextContent,null,m.a.createElement(P.Grid,{gutter:"md"},m.a.createElement(P.GridItem,{md:2},m.a.createElement(w.Text,{component:w.TextVariants.h4},m.a.createElement(T.a,{id:"sources.sourceName",defaultMessage:"Source name"}))),m.a.createElement(P.GridItem,{md:2},m.a.createElement(w.Text,{component:w.TextVariants.h4},m.a.createElement(T.a,{id:"sources.type",defaultMessage:"Type"}))),m.a.createElement(P.GridItem,{md:8},m.a.createElement(w.Text,{component:w.TextVariants.h4},m.a.createElement(T.a,{id:"sources.apps",defaultMessage:"Applications"}))),m.a.createElement(P.GridItem,{md:2},m.a.createElement(w.Text,{component:w.TextVariants.p},o.name)),m.a.createElement(P.GridItem,{md:2},m.a.createElement(w.Text,{component:w.TextVariants.p},c?c.product_name:m.a.createElement(T.a,{id:"sources.typeNotFound",defaultMessage:"Type not found"}))),m.a.createElement(P.GridItem,{md:8},u.length>0?m.a.createElement(C.a,{setApplicationToRemove:r}):m.a.createElement(T.a,{id:"sources.noApps",defaultMessage:"No applications"})))))},I=n(2),B=n.n(I),q=function(e){var t=e.formOptions,n=e.authenticationValues,r=e.modifiedValues,a=Object(d.useState)((function(){return function(t){return e!==t&&(e=t,!0)};var e})),o=i()(a,1)[0],c=Object(y.useSelector)((function(e){return e.sources}),y.shallowEqual),u=c.appTypes;return function(e){var t=e.sourceTypes,n=e.source,r=e.appTypes,a=e.formOptions,o=e.checkAuthType,i=e.authenticationValues,c=e.modifiedValues,u=t.find((function(e){return e.id===n.source_type_id})),s=a.getState(),l=r.find((function(e){return e.id===k()(s,"values.application.application_type_id",void 0)})),p=k()(l,"supported_authentication_types[".concat(u.name,"][0]"),"");if(o(p)){a.change("supported_auth_type",p);var f=i.find((function(e){return e.authtype===p}));if(f)if(c&&c.authentication){var d=h()(j()(f),c.authentication);a.change("authentication",d)}else a.change("authentication",f);else c&&c.authentication?a.change("authentication",c.authentication):a.change("authentication",void 0)}}({sourceTypes:c.sourceTypes,checkAuthType:o,formOptions:t,authenticationValues:n,appTypes:u,source:Object(R.a)(),modifiedValues:r}),null};q.propTypes={formOptions:B.a.shape({getState:B.a.func.isRequired,change:B.a.func.isRequired}).isRequired,authenticationValues:B.a.arrayOf(B.a.object),modifiedValues:B.a.object};var F=function(){return m.a.createElement(S.TextContent,null,m.a.createElement(w.Text,{component:w.TextVariants.p},m.a.createElement(T.a,{id:"sources.allApplicationsAssigned",defaultMessage:"All available applications have already been added to this source or there is no available application for this source type."})))},N=function(){return m.a.createElement(S.TextContent,null,m.a.createElement(w.Text,{component:w.TextVariants.p},m.a.createElement(T.a,{id:"sources.reviewAddAppSummary",defaultMessage:"Review the information below and click Finish to add the application to your source."})," ",m.a.createElement("br",null),m.a.createElement(T.a,{id:"sources.backGuide",defaultMessage:"Use the Back button to make changes."})))},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e.find((function(e){return e.authtype===k()(t,"supported_authentication_types.".concat(n,"[0]"))}))},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0,u=e.length>0,s=u?"summary":void 0,l=[];if(!i.imported&&u){var p=n.find((function(e){return e.id===i.source_type_id})),f=p.schema.endpoint.hidden?p.schema.endpoint.fields:[],d=0===f.length;r.forEach((function(e){if(e.supported_source_types.includes(p.name)){var t=z(o,e,p.name);l.push(M.schemaBuilder.createSpecificAuthTypeSelection(p,e,f,!1,t))}})),p.schema.authentication.forEach((function(e){r.forEach((function(t){if(t.supported_source_types.includes(p.name)){var n=M.schemaBuilder.getAdditionalSteps(p.name,e.type,t.name);if(n.length>0){var r=z(o,t,p.name);l.push.apply(l,a()(M.schemaBuilder.createAdditionalSteps(n,p.name,e.type,d,e.fields,t.name,r)))}}}))})),d&&l.push(M.schemaBuilder.createEndpointStep(p.schema.endpoint,p.name)),s=function(e){var t=e.values.application,n=t||{},r=n.application_type_id?n.application_type_id:"";return"".concat(p.name,"-").concat(r)}}var m=u?{component:"card-select",name:"application.application_type_id",options:e,label:t.formatMessage({id:"sources.chooseAppToAdd",defaultMessage:"Choose an application to add"}),DefaultIcon:null,isRequired:!0,validate:[{type:_.validatorTypes.REQUIRED}]}:{component:"description",name:"description-no-options",validate:[{type:_.validatorTypes.REQUIRED}],Content:F};return{fields:[{component:_.componentTypes.WIZARD,name:"wizard",title:t.formatMessage({id:"sources.manageApps",defaultMessage:"Manage applications"}),inModal:!0,predictSteps:!0,showTitles:!0,crossroads:["application.application_type_id"],description:t.formatMessage({id:"sources.addAppDescription",defaultMessage:"You are managing applications of this source."}),buttonLabels:{submit:t.formatMessage({id:"sources.finish",defaultMessage:"Finish"}),cancel:t.formatMessage({id:"sources.cancel",defaultMessage:"Cancel"}),back:t.formatMessage({id:"sources.back",defaultMessage:"Back"})},fields:[{nextStep:s,title:t.formatMessage({id:"sources.selectApp",defaultMessage:"Select application"}),stepKey:1,name:"selectAppStep",fields:[{component:"description",name:"description",Content:V},m,{component:"description",name:"authtypesetter",Content:q,authenticationValues:o,hideField:!0,modifiedValues:c}]},{title:t.formatMessage({id:"sources.review",defaultMessage:"Review"}),stepKey:"summary",name:"summary",fields:[{component:"description",name:"description-summary",Content:N},{component:"summary",name:"summary",sourceTypes:n,applicationTypes:r}]}].concat(l)}]}},G=n(88),U=n(286),W=n(287),Y=n(316),K=n(90),J=n(437),Q=function(e){var t=e.onClose,n=e.customText;return m.a.createElement(K.Bullseye,null,m.a.createElement(U.EmptyState,{variant:U.EmptyStateVariant.full},m.a.createElement("div",null,m.a.createElement(J.Spinner,null)),m.a.createElement(W.EmptyStateBody,null,n),t&&m.a.createElement(Y.EmptyStateSecondaryActions,null,m.a.createElement(G.Button,{variant:"link",onClick:t},m.a.createElement(T.a,{id:"sources.cancel",defaultMessage:"Cancel"})))))};Q.propTypes={onClose:B.a.func,customText:B.a.node},Q.defaultProps={customText:m.a.createElement(T.a,{id:"sources.loading",defaultMessage:"Loading, please wait."})};var H=Q,Z=n(293),$=n(138),X=n(427),ee=n.n(X),te=function(e){var t=e.onClose,n=e.onRetry,r=e.message,a=e.title;return m.a.createElement(K.Bullseye,null,m.a.createElement(U.EmptyState,{variant:U.EmptyStateVariant.full},m.a.createElement(Z.EmptyStateIcon,{icon:ee.a,color:"var(--pf-global--danger-color--100)"}),m.a.createElement($.Title,{headingLevel:"h5",size:"lg"},a),m.a.createElement(W.EmptyStateBody,null,r),m.a.createElement(G.Button,{variant:"primary",onClick:t},m.a.createElement(T.a,{id:"sources.backToSources",defaultMessage:"Back to Sources"})),n&&m.a.createElement(Y.EmptyStateSecondaryActions,null,m.a.createElement(G.Button,{variant:"link",onClick:n},m.a.createElement(T.a,{id:"sources.retry",defaultMessage:"Retry"})))))};te.propTypes={onClose:B.a.func.isRequired,message:B.a.node.isRequired,title:B.a.node.isRequired,onRetry:B.a.func};var ne=te,re=function(e){var t=e.setState,n=e.goToSources,r=e.error;return m.a.createElement(ne,{onClose:n,message:m.a.createElement(m.a.Fragment,null,m.a.createElement(T.a,{id:"sources.successAddApp",defaultMessage:"Your application has not been successfully added:"}),m.a.createElement("br",null),m.a.createElement(S.TextContent,null,m.a.createElement(w.Text,{component:w.TextVariants.h6},r))),title:m.a.createElement(T.a,{id:"sources.configurationSuccessful",defaultMessage:"Configuration unsuccessful"}),onRetry:function(){return t({state:"wizard"})}})};re.propTypes={setState:I.PropTypes.func.isRequired,goToSources:I.PropTypes.func.isRequired,error:I.PropTypes.string.isRequired};var ae=re,oe=n(56),ie=n.n(oe),ce=function(e){var t=e.onClose,n=e.title,r=e.successfulMessage,a=e.secondaryActions;return m.a.createElement(K.Bullseye,null,m.a.createElement(U.EmptyState,{variant:U.EmptyStateVariant.full},m.a.createElement(Z.EmptyStateIcon,{icon:ie.a,color:"var(--pf-global--success-color--100)"}),m.a.createElement($.Title,{headingLevel:"h5",size:"lg"},n),m.a.createElement(W.EmptyStateBody,null,r),m.a.createElement(G.Button,{variant:"primary",onClick:t},m.a.createElement(T.a,{id:"sources.backToSources",defaultMessage:"Back to Sources"})),a&&m.a.createElement(Y.EmptyStateSecondaryActions,null,a)))};ce.propTypes={onClose:B.a.func.isRequired,successfulMessage:B.a.node.isRequired,title:B.a.node.isRequired,secondaryActions:B.a.node};var ue=ce,se=function(e){var t=e.setState,n=e.goToSources;return m.a.createElement(ue,{onClose:n,successfulMessage:m.a.createElement(T.a,{id:"sources.successAddApp",defaultMessage:"Your application has been successfully added."}),title:m.a.createElement(T.a,{id:"sources.configurationSuccessful",defaultMessage:"Configuration successful"}),secondaryActions:m.a.createElement(G.Button,{variant:"link",onClick:function(){return t({state:"wizard"})}},m.a.createElement(T.a,{id:"sources.continueManageApp",defaultMessage:"Continue managing applications"}))})};se.propTypes={setState:I.PropTypes.func.isRequired,goToSources:I.PropTypes.func.isRequired};var le=se,pe=n(430),fe=function(e){var t=e.step,n=e.goToSources,r=Object(b.a)();return m.a.createElement(pe.Wizard,{isOpen:!0,onClose:n,title:r.formatMessage({id:"sources.manageApps",defaultMessage:"Manage applications"}),description:r.formatMessage({id:"sources.addAppDescription",defaultMessage:"You are managing applications of this source."}),steps:[{name:"Finish",component:t,isFinishedStep:!0}]})};fe.propTypes={step:I.PropTypes.node.isRequired,goToSources:I.PropTypes.func.isRequired};var de=fe,me=n(13),ve=n(302),ye=n(94),be=n(89),ge=n(279),he=n.n(ge),Oe=n(163),je=n.n(Oe),Ee=n(634),xe=n(404),_e=n.n(xe),we=n(123);function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Me=function e(t){return Object.keys(t).forEach((function(n){t[n]&&"object"===je()(t[n])?_e()(t[n])?delete t[n]:e(t[n]):void 0===t[n]&&delete t[n]})),t},Ae=function(){var e=f()(l.a.mark((function e(t,n,r,a){var o,i,c,u,s,p,f,d,m,v,y,b,g,O,E,x,_,w,S,T,A,k,P,D,C,R,V,I,B;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.getState(),i=o.values,c=i.authentication?i.authentication.id:void 0,u=c?r.find((function(e){return e.id===c})):void 0,s=t.authentication,p=he()(t,["authentication"]),f=Object(Ee.addedDiff)(a,p),d=Object(Ee.updatedDiff)(a,p),m=Object(Ee.addedDiff)(u,s),v=Object(Ee.updatedDiff)(u,s),y=Me(Te({},h()(j()(f),d),{authentication:Te({},h()(j()(m),v))})),e.prev=10,i.source&&i.source.id){e.next=13;break}throw"Missing source id";case 13:if(b=i.source.id,g=i.endpoint?i.endpoint.id:void 0,O=[],y.source&&!_e()(y.source)&&O.push(Object(me.i)().updateSource(b,y.source)),E=y.endpoint&&!_e()(y.endpoint),x=y.url&&!_e()(y.url),!E&&!x){e.next=32;break}if(_=Object(we.b)(y),w=_.scheme,S=_.host,T=_.port,A=_.path,k=parseInt(T,10),P=Me(Te({},y.endpoint,{scheme:w,host:S,port:isNaN(k)?void 0:k,path:A})),!g){e.next=27;break}O.push(Object(me.i)().updateEndpoint(g,P)),e.next=32;break;case 27:return D=Te({},P,{default:!0,source_id:b}),e.next=30,Object(me.i)().createEndpoint(D);case 30:C=e.sent,g=C.id;case 32:return y.authentication&&!_e()(y.authentication)&&(c?O.push(Object(me.i)().updateAuthentication(c,y.authentication)):g&&(R=Te({},y.authentication,{resource_id:g,resource_type:"Endpoint"}),O.push(Object(me.i)().createAuthentication(R)))),y.application&&y.application.application_type_id&&O.push(Object(me.b)(b,y.application.application_type_id)),e.next=36,Promise.all(O);case 36:if(!(y.credentials||y.billing_source)){e.next=44;break}return V=y.credentials,I=y.billing_source,B={},B=V?{authentication:{credentials:V}}:{},B=I?Te({},B,{billing_source:I}):B,e.next=44,Object(M.patchSource)(Te({id:b},B));case 44:e.next=52;break;case 46:return e.prev=46,e.t0=e.catch(10),e.next=50,Object(M.handleError)(e.t0);case 50:throw e.sent;case 52:case"end":return e.stop()}}),e,null,[[10,46]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),ke=n(456);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}n.d(t,"onSubmit",(function(){return Re}));var De=void 0,Ce=function(e){var t=e.values.application;return De=t},Re=function(e,t,n,r,a,o){return a({state:"submitting"}),Ae(e,t,n,o).then(f()(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(Object(E.g)());case 2:return De=void 0,e.abrupt("return",a({state:"finished"}));case 4:case"end":return e.stop()}}),e)})))).catch((function(t){return a({state:"errored",error:t,values:e})}))},Ve={state:"loading",error:"",values:{},authenticationsValues:[],sourceAppsLength:0,initialValues:{}},Ie=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},t)};t.default=function(){var e=Object(b.a)(),t=Object(v.f)(),n=Object(ve.a)(),r=Object(y.useSelector)((function(e){return e.sources}),y.shallowEqual),o=r.appTypes,c=r.sourceTypesLoaded,u=r.appTypesLoaded,s=r.sourceTypes,l=r.undoValues,p=Object(R.a)(),f=Object(y.useDispatch)(),g=Object(d.useReducer)(Ie,Ve),O=i()(g,2),_=O[0],w=O[1];Object(d.useEffect)((function(){De=void 0}),[]),Object(d.useEffect)((function(){if(p){var e=_.sourceAppsLength>=p.applications.length&&_.sourceAppsLength>0;w({sourceAppsLength:p.applications.length}),e||(p.endpoints&&p.endpoints[0]?Object(me.i)().listEndpointAuthentications(p.endpoints[0].id).then((function(e){var t=e.data;return w({authenticationsValues:t,initialValues:{source:p,endpoint:p.endpoints[0],url:Object(ye.b)(p.endpoints[0]),application:De,values:{}}})})).then((function(){"loading"===_.state&&w({state:"wizard"})})):(w({initialValues:{source:p,application:De},values:{}}),"loading"===_.state&&w({state:"wizard"})))}}),[p]);var S=function(){return t.push(be.c.sources.path)};if(!u||!c||!n)return m.a.createElement(de,{goToSources:S,step:m.a.createElement(H,null)});if("loading"===_.state||"submitting"===_.state)return m.a.createElement(de,{goToSources:S,step:m.a.createElement(H,null)});if("wizard"!==_.state){var M="finished"===_.state?m.a.createElement(le,{setState:w,goToSources:S}):m.a.createElement(ae,{setState:w,goToSources:S,error:_.error});return m.a.createElement(de,{goToSources:S,step:M})}var A=p.applications.filter((function(e){return!e.isDeleting})).reduce((function(e,t){return[].concat(a()(e),[t.application_type_id])}),[]),k=s.find((function(e){return e.id===p.source_type_id})),P=k&&k.name,D=o.filter((function(e){return!A.includes(e.id)&&e.supported_source_types.includes(P)})),C=D.map((function(t){var n=p.applications.find((function(e){return e.application_type_id===t.id})),r="".concat(t.display_name," ").concat(n?"(".concat(e.formatMessage({id:"sources.currentlyRemoving",defaultMessage:"Currently removing"}),")"):"");return{value:t.id,label:r,isDisabled:!!n}})),V=h()(j()(l),_.values),I=L(C,e,s,o,_.authenticationsValues,p,V),B=D.length>0?function(e,t){return Re(e,t,_.authenticationsValues,f,w,_.initialValues)}:S,q=h()(j()(_.initialValues),V);return m.a.createElement(x.a,{schema:I,showFormControls:!1,onSubmit:B,onCancel:function(n){return function(e){var t=e.values,n=e.dispatch,r=e.history,a=e.intl,o=e.sourceId;if(t&&t.application){var i=Date.now();n(Object(E.b)(a.formatMessage({id:"sources.addApplicationCanceled",defaultMessage:"Adding an application was cancelled"}),"success",m.a.createElement(T.a,{id:"sources.undoMistake",defaultMessage:"{undo} if this was a mistake.",values:{undo:m.a.createElement(ke.a,{messageId:i,values:t,path:Object(be.b)(be.c.sourceManageApps.path,o)})}}),i))}n(Object(E.c)()),r.push(be.c.sources.path)}({values:n,dispatch:f,intl:e,sourceId:p.id,history:t})},initialValues:q,subscription:{values:!0},onStateUpdate:Ce,clearedValue:null})}}}]);
//# sourceMappingURL=../sourcemaps/addApp.js.map