(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{683:function(e,t,n){"use strict";var a=n(67);t.a=function(e,t,n,i,r){var o=t.formatMessage({id:"sources.removeAppWarning",defaultMessage:"{ name } was removed from this source."},{name:e.display_name}),s=t.formatMessage({id:"sources.removeAppError",defaultMessage:"Removing of { name } application from this source was unsuccessful."},{name:e.display_name});return n&&n(),i(Object(a.i)(e.id,r.id,o,s))}},981:function(e,t,n){"use strict";n.r(t),n.d(t,"onSubmit",(function(){return Ye}));var a=n(62),i=n.n(a),r=n(37),o=n.n(r),s=n(44),c=n.n(s),u=n(56),p=n.n(u),l=n(98),d=n.n(l),f=n(0),m=n.n(f),h=n(14),g=n(59),y=n(25),v=n(64),b=n(681),O=n.n(b),j=n(581),A=n.n(j),w=n(770),M=n.n(w),T=n(679),_=n.n(T),E=n(680),S=n.n(E),x=n(944),P=n.n(x),k=n(767),C=n.n(k),D=n(769),V=n.n(D),N=n(768),R=n.n(N),F=n(554),z=n.n(F),L=n(67),I=n(689),B=n(2),U=n.n(B),W=n(17),q=n.n(W),J=n(92),Q=n.n(J),Y=n(32),K=n(91),X=n(771),Z=n(47),G=n.n(Z),H=n(78),$=n.n(H),ee=function(e,t,n,a){return{name:"selectAuthType-".concat(t.id),title:n.formatMessage({id:"sources.selectAuthenticationTitle",defaultMessage:"Select authentication type"}),fields:[{component:Q.a.RADIO,name:"authtype",options:t.supported_authentication_types[e.name].map((function(t){var n;return{value:t,label:(null===(n=e.schema.authentication.find((function(e){return e.type===t})))||void 0===n?void 0:n.name)||"Unknown type"}})),isRequired:!0,validate:[{type:$.a.REQUIRED}]}],nextStep:function(t){var n=t.values,i=n.application,r=n.authtype;if(r)return a.find((function(e){return e.authtype===r}))?"selectAuthentication":"".concat(e.name,"-").concat(i&&i.application_type_id,"-").concat(r)}}};function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){U()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=function(e,t,n,a,i){var r=q()(n);X.shouldUseAppAuth(e.name,a,t.name)&&(r=[]);var o,s=e.schema.authentication.find((function(e){return e.type===a})),c="".concat(e.name,"-").concat(a,"-").concat(t.name,"-additional-step"),u=X.shouldSkipEndpoint(e.name,a,t.name),p=X.hasCustomSteps(e.name,a,t.name);o=X.getAdditionalSteps(e.name,a,t.name).length>0?c:0!==n.length||u?"summary":"".concat(e.name,"-endpoint");var l=X.getAdditionalStepKeys(e.name,a,t.name),d={};if(X.shouldSkipSelection(e.name,a,t.name)){var f=X.getAdditionalSteps(e.name,a,t.name).find((function(e){return!e.name})),m=X.getAdditionalStepFields(s.fields,c);o=f.nextStep?f.nextStep:0!==n.length||u||p?"summary":"".concat(e.name,"-endpoint"),d=ne(ne({},f),{},{fields:[].concat(q()(r),q()(X.injectAuthFieldsInfo([].concat(q()(f.fields),q()(m)),e.name,a,t.name)))})}return ne({name:"".concat(e.name,"-").concat(t.id,"-").concat(a),title:i.formatMessage({id:"sources.configureCredentials",defaultMessage:"Configure credentials"}),fields:[].concat(q()(r),q()(X.getAdditionalAuthFields(e.name,a,t.name)),q()(X.injectAuthFieldsInfo(X.getNoStepsFields(s.fields,l),e.name,a,t.name))),nextStep:o},d)},ie=n(7),re=n.n(ie),oe=n(121),se=n.n(oe),ce=function(e){var t=e.authenticationValues,n=se()(),a=n.getState().values.selectedAuthentication,i=Object(f.useState)(a),r=o()(i,2),s=r[0],c=r[1];return Object(f.useEffect)((function(){s!==a&&(!function(e){var t=e.formOptions,n=e.authenticationValues,a=e.selectedAuthentication;if(a.startsWith("new-")){var i=a.replace("new-","");t.change("authentication",{authtype:i})}else{var r=n.find((function(e){return e.id===a}));t.change("authentication",r)}}({formOptions:n,authenticationValues:t,selectedAuthentication:a}),c(void 0))}),[a]),null};ce.propTypes={authenticationValues:re.a.arrayOf(re.a.object)};var ue=function(e){var t=e.applicationTypeName,n=e.authenticationTypeName,a=Object(v.a)();return m.a.createElement(K.TextContent,null,m.a.createElement(Y.Text,{component:Y.TextVariants.p},a.formatMessage({id:"sources.selectAuthenticationDescription",defaultMessage:"Selected application { applicationTypeName } supports { authenticationTypeName } authentication type. You can use already defined authentication values or define new."},{applicationTypeName:t,authenticationTypeName:n})))};ue.propTypes={applicationTypeName:re.a.string,authenticationTypeName:re.a.string};var pe=function(e){var t=e.authenticationValues,n=e.supportedAuthTypeName,a=e.supportedAuthType,i=e.applicationTypes,r=e.source;return t.filter((function(e){return e.authtype===a})).map((function(e){var t=e.username?"-".concat(e.username):"",a=r.applications.find((function(t){return t.authentications.find((function(t){return t.id===e.id}))})),o=a&&a.application_type_id?i.find((function(e){return e.id===a.application_type_id})):"",s=o?"-".concat(o.display_name):"-unused-".concat(e.id);return{label:"".concat(n).concat(t).concat(s),value:e.id}}))},le=function(e){var t,n=e.intl,a=e.source,i=e.authenticationValues,r=e.sourceType,o=e.app,s=e.applicationTypes,c=[{component:"description",name:"authtypesetter",Content:ce,authenticationValues:i,hideField:!0}],u=o.supported_source_types.includes(r.name),p=!(null!==(t=a.applications)&&void 0!==t&&t.find((function(e){return e.application_type_id===o.id})));u&&p&&G()(o,"supported_authentication_types[".concat(r.name,"]"),[]).forEach((function(e){if(i.find((function(t){return t.authtype===e}))){var t=G()(r,"schema.authentication",{}).find((function(t){return t.type===e})).name;c.push({component:Q.a.SUB_FORM,name:"".concat(o.name,"-subform"),fields:[{name:"".concat(o.name,"-select-authentication-summary"),component:"description",Content:ue,applicationTypeName:o.display_name,authenticationTypeName:t},{component:Q.a.RADIO,name:"selectedAuthentication",label:n.formatMessage({id:"sources.selectAuthenticationTitle",defaultMessage:"Select authentication"}),isRequired:!0,validate:[{type:$.a.REQUIRED}],options:[{label:n.formatMessage({id:"sources.selectAuthenticationradioLabel",defaultMessage:"Define new { supportedAuthTypeName }"},{supportedAuthTypeName:t}),value:"new-".concat(e)}].concat(q()(pe({authenticationValues:i,supportedAuthTypeName:t,supportedAuthType:e,applicationTypes:s,source:a})))}]})}}));return{name:"selectAuthentication",title:n.formatMessage({id:"sources.selectAuthenticationTitle",defaultMessage:"Select authentication"}),fields:c,nextStep:function(e){var t=e.values,n=t.authtype,a=t.authentication;return"".concat(r.name,"-").concat(o.id,"-").concat(n||(null==a?void 0:a.authtype))}}};function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){U()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me=function(){var e=Object(v.a)();return m.a.createElement(K.TextContent,null,m.a.createElement(Y.Text,{component:Y.TextVariants.p},e.formatMessage({id:"sources.reviewAddAppSummary",defaultMessage:"Review the information below and click Add to add the application to your source. Use the Back button to make changes."})))},he=function(e,t,n,a,i,r,o,s,c){var u,p,l,d=[];if(!i.imported){var f,m=t.schema.endpoint.hidden?t.schema.endpoint.fields:[],h=0===m.length;n.supported_source_types.includes(t.name)&&n.supported_authentication_types[t.name].forEach((function(a){d.push(ae(t,n,m,a,e))})),t.schema.authentication.forEach((function(e){if(n.supported_source_types.includes(t.name)){var a=X.getAdditionalSteps(t.name,e.type,n.name);a.length>0&&d.push.apply(d,q()(X.createAdditionalSteps(a,t.name,e.type,h,e.fields,n.name)))}})),h&&d.push(X.createEndpointStep(t.schema.endpoint,t.name)),u=d[0],(p=(null==n||null===(f=n.supported_authentication_types[t.name])||void 0===f?void 0:f.length)>1)&&(u=ee(t,n,e,a)),(l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e.find((function(e){return e.authtype===G()(t,"supported_authentication_types.".concat(n,"[0]"))}))}(a,n,t.name))&&(u=le({intl:e,source:i,authenticationValues:a,sourceType:t,app:n,applicationTypes:c}))}var g={component:Q.a.TEXT_FIELD,name:"application.application_type_id",hideField:!0,initialValue:n.id};return{fields:[{component:Q.a.WIZARD,name:"wizard",title:o,inModal:!0,container:r,showTitles:!0,crossroads:["selectedAuthentication","authtype"],description:s,buttonLabels:{submit:e.formatMessage({id:"sources.add",defaultMessage:"Add"}),cancel:e.formatMessage({id:"sources.cancel",defaultMessage:"Cancel"}),back:e.formatMessage({id:"sources.back",defaultMessage:"Back"})},fields:[].concat(q()(i.imported?[]:[fe(fe({},u),{},{fields:[].concat(q()(u.fields),[g])})]),[{title:e.formatMessage({id:"sources.reviewDetails",defaultMessage:"Review details"}),name:"summary",fields:[{component:"description",name:"description-summary",Content:me},{component:"summary",name:"summary",sourceTypes:[t],applicationTypes:[n]}].concat(q()(i.imported?[g]:[]))}],q()(l||p?d:d.splice(1)))}]}},ge=n(764),ye=function(e){var t=e.step,n=e.goToSources,a=e.title,i=e.description;return m.a.createElement(ge.Wizard,{isOpen:!0,onClose:n,title:a,description:i,steps:[{name:"Finish",component:t,isFinishedStep:!0}]})};ye.propTypes={step:ie.PropTypes.node.isRequired,goToSources:ie.PropTypes.func.isRequired,title:ie.PropTypes.string,description:ie.PropTypes.string};var ve=ye,be=n(40),Oe=n(518),je=n(542),Ae=n(16),we=n(60),Me=n(304),Te=n.n(Me),_e=n(772),Ee=n(561),Se=n(616),xe=n(160),Pe=n(947),ke=n.n(Pe),Ce=n(948),De=n.n(Ce),Ve=n(756);function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){U()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fe=function e(t){return Object.keys(t).forEach((function(n){t[n]&&"object"===Te()(t[n])?O()(t[n])?delete t[n]:e(t[n]):void 0===t[n]&&delete t[n]})),t},ze=function(){var e=d()(p.a.mark((function e(t,n,a,r){var s,c,u,l,d,f,m,h,g,y,v,b,j,A,w,M,T,_,E,S,x,P,k,C,D,V,N,R,F,z,L,I,B,U,W,q,J,Q,Y,K,X,Z,G,H,$=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=$.length>4&&void 0!==$[4]?$[4]:[],l=n.getState(),d=l.values,f=null===(s=d.authentication)||void 0===s?void 0:s.id,m=f&&a.find((function(e){return e.id===f})),h=t.authentication,g=i()(t,["authentication"]),y=Object(_e.addedDiff)(r,g),v=Object(_e.updatedDiff)(r,g),b=Object(_e.addedDiff)(m,h),j=Object(_e.updatedDiff)(m,h),A=Fe(Re(Re({},ke()(De()(y),v)),{},{authentication:Re({},ke()(De()(b),j))})),e.prev=11,null!=d&&null!==(w=d.source)&&void 0!==w&&w.id){e.next=14;break}throw"Missing source id";case 14:return E=new Date,S=d.source.id,x=null==d||null===(M=d.endpoint)||void 0===M?void 0:M.id,P=[],A.source&&!O()(A.source)?P.push(Object(be.j)().updateSource(S,A.source)):P.push(Promise.resolve(void 0)),k=A.endpoint&&!O()(A.endpoint),C=A.url&&!O()(A.url),k||C?(D=Object(Ve.b)(A),V=D.scheme,N=D.host,R=D.port,F=D.path,z=parseInt(R,10),L=Fe(Re(Re({},A.endpoint),{},{scheme:V,host:N,port:isNaN(z)?void 0:z,path:F})),x?P.push(Object(be.j)().updateEndpoint(x,L)):(I=Re(Re({},L),{},{default:!0,source_id:S}),P.push(Object(be.j)().createEndpoint(I)))):P.push(Promise.resolve(void 0)),null!==(T=A.application)&&void 0!==T&&T.application_type_id?(B=Re(Re({},A.application),{},{source_id:S}),P.push(Object(be.b)(B))):P.push(Promise.resolve(void 0)),e.next=25,Promise.all(P);case 25:if(U=e.sent,W=o()(U,3),W[0],q=W[1],J=W[2],!A.authentication||O()(A.authentication)){e.next=41;break}if(!f){e.next=37;break}return e.next=34,Object(be.j)().updateAuthentication(f,A.authentication);case 34:Q=e.sent,e.next=41;break;case 37:return Y=Re(Re({},A.authentication),{},{resource_id:(null==q?void 0:q.id)||(null==J?void 0:J.id),resource_type:null!=q&&q.id?"Endpoint":"Application",source_id:S}),e.next=40,Object(be.j)().createAuthentication(Y);case 40:Q=e.sent;case 41:if(u=null==J?void 0:J.id,K=f||(null===(_=Q)||void 0===_?void 0:_.id),null==J||!J.id||!K){e.next=47;break}return X={application_id:J.id,authentication_id:K},e.next=47,Object(be.j)().createAuthApp(X);case 47:if(!x){e.next=51;break}return e.next=50,Object(Se.checkAppAvailability)(x,void 0,void 0,"getEndpoint",E);case 50:Z=e.sent;case 51:if(!J){e.next=57;break}return G=Object(xe.timeoutedApps)(c).includes(J.application_type_id)?1e4:0,e.next=55,Object(Se.checkAppAvailability)(J.id,G);case 55:return H=e.sent,e.abrupt("return",Re({id:H.id,applications:[H]},Z&&{endpoint:[Z]}));case 57:return e.abrupt("return",{});case 60:if(e.prev=60,e.t0=e.catch(11),console.error(e.t0),!u){e.next=66;break}return e.next=66,Object(be.j)().deleteApplication(u);case 66:return e.next=68,Object(Ee.handleError)(e.t0);case 68:throw e.sent;case 70:case"end":return e.stop()}}),e,null,[[11,60]])})));return function(t,n,a,i){return e.apply(this,arguments)}}(),Le=n(660);function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){U()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ue={state:"loading",error:"",values:{},authenticationsValues:[],sourceAppsLength:0,initialValues:{},isCancelling:!1},We=function(e,t){var n=t.type,a=t.length,i=t.authenticationsValues,r=t.initialValues,o=t.error,s=t.values,c=t.data,u=t.formApi;switch(n){case"setSourceAppslength":return Be(Be({},e),{},{sourceAppsLength:a});case"loadAuthentications":return Be(Be({},e),{},{authenticationsValues:i,initialValues:r,values:{},state:"loading"===e.state?"wizard":e.state});case"loadWithoutAuthentications":return Be(Be({},e),{},{initialValues:r,values:{},state:"loading"===e.state?"wizard":e.state});case"reset":return Be(Be({},e),{},{state:"wizard"});case"submit":return Be(Be({},e),{},{values:s,formApi:u,state:"submitting"});case"finish":return Be(Be({},e),{},{state:"finished",data:c});case"error":return Be(Be({},e),{},{state:"errored",error:o});case"toggleCancelling":return Be(Be({},e),{},{isCancelling:!e.isCancelling},s&&{values:s});default:return e}},qe=n(48),Je=n(965),Qe=n(683),Ye=function(e,t,n,a,i,r,o,s){return i({type:"submit",values:e,formApi:t}),ze(e,t,n,r,o).then(function(){var e=d()(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(Le.a)(r.source.id),e.next=3,a(Object(L.f)());case 3:return s({values:{application:null}}),e.abrupt("return",i({type:"finish",data:t}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return i({type:"error",error:e})}))},Ke=function(e){return m.a.createElement(z.a,c()({},e,{showFormControls:!1}))};t.default=function(){var e,t,n,a,r=Object(v.a)(),s=Object(h.k)(),c=Object(f.useRef)(),u=function(e){var t=e.values.application;return c.current=t},p=Object(h.m)().app_type_id,l=Object(je.a)(),d=Object(y.useSelector)((function(e){return e.sources}),y.shallowEqual),b=d.appTypes,j=d.sourceTypesLoaded,w=d.appTypesLoaded,T=d.sourceTypes,E=Object(Oe.a)(),x=Object(y.useDispatch)(),k=Object(f.useReducer)(We,Ue),D=o()(k,2),N=D[0],F=D[1],z=Object(f.useRef)(document.createElement("div")),L=b.find((function(e){return e.id===p}));Object(f.useEffect)((function(){if(E){var e=N.sourceAppsLength>=E.applications.length&&N.sourceAppsLength>0;F({type:"setSourceAppslength",length:E.applications.length}),e||(E.endpoints&&E.endpoints[0]?Object(be.j)().listEndpointAuthentications(E.endpoints[0].id).then((function(e){var t=e.data;return F({type:"loadAuthentications",authenticationsValues:t,initialValues:{source:E,endpoint:E.endpoints[0],url:Object(Ae.h)(E.endpoints[0]),application:c.current},values:{}})})):F({type:"loadWithoutAuthentications",initialValues:{source:E,application:c.current},values:{}}))}}),[E]);var B=function(){return s.push(Object(we.b)(we.c.sourcesDetail.path,E.id))},U=r.formatMessage({id:"sources.addApplicationNameTitle",defaultMessage:"Connect {appName}"},{appName:(null==L?void 0:L.display_name)||"application"}),W=r.formatMessage({id:"sources.addApplicationNameDescription",defaultMessage:"Configure {appName} for this source."},{appName:(null==L?void 0:L.display_name)||"application"});if(!(w&&j&&l&&"loading"!==N.state||"submitting"===N.state))return m.a.createElement(ve,{goToSources:B,title:U,description:W,step:m.a.createElement(_.a,{customText:r.formatMessage({id:"sources.loading",defaultMessage:"Loading, please wait."}),cancelTitle:r.formatMessage({id:"sources.close",defaultMessage:"Close"}),onClose:B})});var q=function(e,t){return Ye(e,t,N.authenticationsValues,x,F,N.initialValues,b,u)};if("submitting"===N.state)return m.a.createElement(ve,{title:U,description:W,goToSources:B,step:m.a.createElement(_.a,{cancelTitle:r.formatMessage({id:"sources.close",defaultMessage:"Close"}),onClose:B,customText:r.formatMessage({id:"wizard.loadingText",defaultMessage:"Validating credentials"}),description:r.formatMessage({id:"wizard.loadingDescription",defaultMessage:"This could take a minute. If you prefer not to wait, close this dialog and the process will continue."})})});var J=function(){return F({type:"reset"})},Q=T.find((function(e){return e.id===E.source_type_id}));if("wizard"!==N.state){var Y;if("finished"!==N.state)Y=m.a.createElement(S.a,{onRetry:J,onClose:B,returnButtonTitle:r.formatMessage({id:"sources.retry",defaultMessage:"Retry"}),primaryAction:function(){return q(N.values,N.formApi)},secondaryActions:m.a.createElement(Je.Text,{component:"a",target:"_blank",href:"https://access.redhat.com/support/cases/#/case/new/open-case?caseCreate=true",rel:"noopener noreferrer"},r.formatMessage({id:"wizard.openTicket",defaultMessage:"Open a support case"}))});else switch(V()(N.data)){default:Y="amazon"===Q.name?m.a.createElement(R.a,{onClose:B}):m.a.createElement(P.a,{title:r.formatMessage({id:"sources.configurationSuccessful",defaultMessage:"Configuration successful"}),hideSourcesButton:!0,onClose:B,returnButtonTitle:r.formatMessage({id:"sources.exit",defaultMessage:"Exit"}),successfulMessage:r.formatMessage({id:"sources.successAddApp",defaultMessage:"Your application was successfully added."})});break;case"unavailable":Y=m.a.createElement(S.a,{onRetry:J,onClose:B,message:(null===(e=N.data.applications)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.availability_status_error)||(null===(n=N.data.endpoint)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.availability_status_error)||r.formatMessage({id:"wizard.unknownError",defaultMessage:"Unknown error"}),title:r.formatMessage({id:"sources.configurationSuccessful",defaultMessage:"Configuration unsuccessful"}),secondaryActions:m.a.createElement(qe.Button,{variant:"link",onClick:function(){var e,t;return F({type:"reset"}),Object(Qe.a)({id:null===(e=N.data)||void 0===e?void 0:e.id,display_name:null===(t=b.find((function(e){var t;return e.id===(null===(t=N.data)||void 0===t?void 0:t.application_type_id)})))||void 0===t?void 0:t.display_name},r,void 0,x,E)}},r.formatMessage({id:"wizard.removeApp",defaultMessage:"Remove application"})),Component:function(){return m.a.createElement(g.Link,{to:Object(we.b)(we.c.sourcesDetail.path,E.id)},m.a.createElement(qe.Button,{variant:"primary",className:"pf-u-mt-xl"},r.formatMessage({id:"wizard.editSource",defaultMessage:"Edit source"})))}});break;case"timeout":Y=m.a.createElement(C.a,{returnButtonTitle:r.formatMessage({id:"sources.exit",defaultMessage:"Exit"}),onClose:B})}return m.a.createElement(ve,{title:U,description:W,goToSources:B,step:Y})}var K=Q&&Q.name,X=b.filter((function(e){return e.supported_source_types.includes(K)})).filter(A.a).map((function(e){return{value:e.id,label:e.display_name}}));if(!L||E.applications.find((function(e){return e.application_type_id===p}))||!L.supported_source_types.includes(Q.name))return m.a.createElement(h.c,{to:Object(we.b)(we.c.sourcesDetail.path,E.id)});var Z=he(r,Q,L,N.authenticationsValues,E,z.current,U,W,b),G=X.length>0?q:B;return m.a.createElement(m.a.Fragment,null,m.a.createElement(M.a,{title:r.formatMessage({id:"sources.manageAppsCloseModalTitle",defaultMessage:"Exit application adding?"}),isOpen:N.isCancelling,onStay:function(){z.current.hidden=!1,F({type:"toggleCancelling"})},onExit:B}),m.a.createElement(I.a,{schema:Z,showFormControls:!1,onSubmit:G,onCancel:function(e){var t=N.initialValues,n=(t.application,i()(t,["application"])),a=(e.application,i()(e,["application"]));!O()(Object(_e.diff)(n,a))?(z.current.hidden=!0,F({type:"toggleCancelling",values:e})):B()},initialValues:N.initialValues,subscription:{values:!0},debug:u,clearedValue:null,FormTemplate:Ke}))}}}]);
//# sourceMappingURL=../sourcemaps/addApplication.js.map