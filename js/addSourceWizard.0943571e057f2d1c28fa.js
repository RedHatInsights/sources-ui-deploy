(self.webpackChunksources=self.webpackChunksources||[]).push([[3791,209],{85490:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r,n:()=>i});var s=a(90573);const i=e=>(0,s.Rj)().checkAvailabilitySource(e).catch((()=>{})),r=i},5454:(e,t,a)=>{"use strict";a.d(t,{h:()=>i});var s=a(90573);const i=(e,t=1e4,a=1e3,i="showApplication",r)=>new Promise(((n,o)=>{const c=Date.now(),l=()=>(0,s.Rj)()[i](e).then((e=>{if(Date.now()-c>=t)return r?{...e,availability_status:null,availability_status_error:null}:e;if("available"===e.availability_status||"unavailable"===e.availability_status){if(r&&new Date(e.last_checked_at||e.updated_at)>r)return e;if(!r)return e}return((e,t)=>new Promise((t=>{setTimeout(t.bind(null,undefined),e)})))(a).then((()=>l()))}));return l().then((e=>n(e))).catch((e=>o(e)))}))},95772:(e,t,a)=>{"use strict";a.d(t,{Z:()=>f});var s=a(28416),i=a.n(s),r=a(45697),n=a.n(r),o=a(25387),c=a(31055),l=a(94229),u=a(72232),d=a(70214),p=a.n(d);const m=({onExit:e,onStay:t,title:a,exitTitle:r,stayTitle:n,description:d})=>{const m=(0,o.YB)(),f=(0,s.useRef)(!1);return i().createElement(l.Modal,{onEscapePress:e=>{f.current&&t(e),f.current=!0},className:"sources",variant:"small",title:a,"aria-label":m.formatMessage({id:"wizard.closeAriaLabel",defaultMessage:"Close add source wizard"}),header:i().createElement(u.Title,{headingLevel:"h1",size:"2xl"},i().createElement(p(),{size:"sm",className:"src-c-warning-icon","aria-label":"Exclamation icon"}),a),isOpen:!0,onClose:t,actions:[i().createElement(c.Button,{key:"confirm",variant:"primary",id:"on-exit-button",onClick:e},r),i().createElement(c.Button,{key:"cancel",variant:"link",id:"on-stay-button",onClick:t},n)]},d)};m.propTypes={onExit:n().func.isRequired,onStay:n().func.isRequired,title:n().node,exitTitle:n().node,stayTitle:n().node,description:n().node},m.defaultProps={title:i().createElement(o._H,{id:"wizard.closeTitle",defaultMessage:"Exit source creation?"}),exitTitle:i().createElement(o._H,{id:"wizard.exitText",defaultMessage:"Exit"}),stayTitle:i().createElement(o._H,{id:"wizard.stayText",defaultMessage:"Stay"}),description:i().createElement(o._H,{id:"wizard.closeWarning",defaultMessage:"All inputs will be discarded."})};const f=m},29061:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AddSourceButton:()=>ne,default:()=>oe});var s=a(28416),i=a.n(s),r=a(45697),n=a.n(r),o=a(41609),c=a.n(o),l=a(25387),u=a(31055),d=a(86706),p=a(67850),m=a(46985),f=a(73047),y=a(22955),g=a(18111),h=a(12567),E=a(31379),v=a(96354),T=a(73004),S=a(48880),b=a(64124);const w=e=>{const t=(0,l.YB)(),a=(0,S.default)(),{authentication:s}=a.getState().values,r=e.validate&&e.validate.filter((({type:e})=>e!==b.Z.REQUIRED)),n={...e,...s&&s.id?{isRequired:!1,helperText:t.formatMessage({id:"wizard.changeAuthHelper",defaultMessage:"Changing this resets your current {label}."},{label:e.label}),validate:r}:{}},o=T.ZP[v.Z.TEXT_FIELD];return i().createElement(o,{...n})};var C=a(44403),M=a(26946),_=a(65220);const B={schema:{},sourceTypes:[],isLoading:!0},x=e=>i().createElement(p.ZP,{...e,showFormControls:!1}),R=({sourceTypes:e,applicationTypes:t,disableAppSelection:a,isCancelling:r,onCancel:n,values:o,onSubmit:c,selectedType:u,initialWizardState:p,activeCategory:v})=>{const T=(0,_.useFlag)("sources.wizard.lighthouse"),[{schema:S,sourceTypes:b,applicationTypes:R,isLoading:z},k]=(0,s.useReducer)(((e,{type:t,sourceTypes:a,applicationTypes:s,container:i,disableAppSelection:r,intl:n,selectedType:o,initialWizardState:c,activeCategory:l,hcsEnrolled:u})=>{if("loaded"===t)return{...e,schema:(0,f.ZP)(a.filter(E.Z).filter((0,E.j)(l)),s.filter(h.Z).filter((0,h.W)(a,l)),r,i,n,o,c,l,T,u),isLoading:!1,sourceTypes:a,applicationTypes:s,hcsEnrolled:u}}),B),A=(0,d.v9)((({sources:e})=>e.hcsEnrolled),d.wU),Z=(0,s.useRef)(!1),N=(0,s.useRef)(document.createElement("div")),q=(0,l.YB)();return(0,s.useEffect)((()=>{Z.current=!0;const s=[];return e||s.push((0,y.lH)()),t||s.push((0,y.$l)()),Promise.all(s).then((s=>{const i=s.find((e=>Object.prototype.hasOwnProperty.call(e,"sourceTypes"))),r=s.find((e=>Object.prototype.hasOwnProperty.call(e,"applicationTypes")));Z.current&&k({type:"loaded",sourceTypes:e||i.sourceTypes,applicationTypes:t||r.applicationTypes,hcsEnrolled:A,disableAppSelection:a,container:N.current,intl:q,selectedType:u,initialWizardState:p,activeCategory:v})})),()=>{Z.current=!1}}),[]),(0,s.useEffect)((()=>{N.current.style.opacity=r?0:1}),[r]),z?i().createElement(m.e,{className:"sources",isOpen:!0,onClose:n,title:(0,g.Z5)(v),description:(0,g.A6)(v),steps:[{name:"Loading",component:i().createElement(M.Z,{onClose:()=>n()}),isFinishedStep:!0}]}):i().createElement(C.Z,{initialValues:{...o,...u&&{source_type:u}},schema:S,onSubmit:(e,t,a)=>c(e,b,a,R,A),onCancel:n,FormTemplate:x,subscription:{values:!0},componentMapper:{authentication:w}})};R.propTypes={onCancel:n().func.isRequired,onSubmit:n().func.isRequired,sourceTypes:n().arrayOf(n().shape({id:n().string.isRequired,name:n().string.isRequired,product_name:n().string.isRequired,schema:n().shape({authentication:n().array,endpoint:n().object})})),applicationTypes:n().arrayOf(n().shape({id:n().string.isRequired,name:n().string.isRequired,display_name:n().string.isRequired})),values:n().object,disableAppSelection:n().bool,isCancelling:n().bool,selectedType:n().string,initialWizardState:n().object,activeCategory:n().string},R.defaultProps={values:{},disableAppSelection:!1};const z=R;var k=a(94229),A=a(64380),Z=a(90573),N=a(16872),q=a(55140),O=a(32952),I=a(96380);const F=({id:e})=>{const t=(0,l.YB)().formatMessage({id:"wizard.editSource",defaultMessage:"Edit source"}),{getApp:a,isBeta:s}=(0,q.Z)();return"sources"===a()?i().createElement(I.Z,{to:`/detail/${e}`},i().createElement(u.Button,{variant:"primary",className:"pf-v5-u-mt-xl"},t)):i().createElement(u.Button,{variant:"primary",className:"pf-v5-u-mt-xl",component:"a",target:"_blank",href:`${(0,O.Z)(s())}/detail/${e}`,rel:"noopener noreferrer"},t)};F.propTypes={id:n().string.isRequired};const H=F;var L=a(29494),D=a(93759),P=a(27552),j=a(54243),W=a(85779),U=a(75614);const V=({afterSubmit:e,afterError:t,isFinished:a,isErrored:r,successfulMessage:n,hideSourcesButton:o,returnButtonTitle:c,reset:d,createdSource:p={},tryAgain:f,afterSuccess:y,sourceTypes:h,activeCategory:E})=>{const[v,T]=(0,s.useState)(),[S,b]=(0,s.useState)(),w=p.applications?.some((e=>e?.extra?.storage_only)),C=p.applications?.some((e=>e?.application_type_id===U.sC)),_=p.applications?.some((e=>e?.extra?.hcs)),B=(0,l.YB)(),x=()=>(T(!0),(0,Z.Rj)().deleteSource(p.id).then((()=>{y&&y(),b(!0)})).catch((()=>T(!1)))),R=i().createElement(u.Button,{variant:"link",onClick:d},B.formatMessage({id:"wizard.addAnotherSource",defaultMessage:"Add another source"}));let z;if(S)z=i().createElement(D.Z,{onClose:e,title:B.formatMessage({id:"wizard.removeSourceSuccessTitle",defaultMessage:"Removing successful"}),successfulMessage:B.formatMessage({id:"wizard.removeSourceSuccessDescription",defaultMessage:"Source was successfully removed."}),hideSourcesButton:o,returnButtonTitle:c,secondaryActions:R});else if(v)z=i().createElement(M.Z,{customText:B.formatMessage({id:"wizard.removingSource",defaultMessage:"Removing source"})});else if(a)switch((0,N.Z)(p)){case"unavailable":z=i().createElement(P.Z,{onClose:e,secondaryActions:i().createElement(u.Button,{variant:"link",onClick:x},B.formatMessage({id:"wizard.removeSource",defaultMessage:"Remove source"})),Component:()=>i().createElement(H,{id:p.id}),message:(0,L.Z)(p,B),title:B.formatMessage({id:"wizard.configurationUnsuccessful",defaultMessage:"Configuration unsuccessful"})});break;case"timeout":z=i().createElement(j.Z,{onClose:e,returnButtonTitle:c,secondaryActions:R,...C&&w&&{uuid:p?.uid}});break;default:z=p.source_type_id===h.find((({name:e})=>"amazon"===e))?.id?i().createElement(W.Z,{onClose:e}):i().createElement(D.Z,{onClose:e,successfulMessage:C&&w?`You have chosen to manually customize the cost data set sent to ${_?U.X0:"Cost Management"}, you will still need to perform additional steps to complete the process.`:n,...C&&w&&{title:i().createElement(l._H,{id:"wizard.waitTheresMore",defaultMessage:"Success, but wait there's more!"}),uuid:p?.uid},hideSourcesButton:o,returnButtonTitle:c,secondaryActions:R})}else z=r?i().createElement(P.Z,{onClose:t,primaryAction:f,secondaryActions:i().createElement(A.Text,{component:"a",target:"_blank",href:"https://access.redhat.com/support/cases/#/case/new/open-case?caseCreate=true",rel:"noopener noreferrer"},B.formatMessage({id:"wizard.openTicket",defaultMessage:"Open a support case"})),returnButtonTitle:B.formatMessage({id:"wizard.retryText",defaultMessage:"Retry"})}):i().createElement(M.Z,{customText:B.formatMessage({id:"wizard.loadingText",defaultMessage:"Validating credentials"}),description:i().createElement(A.TextContent,null,i().createElement(A.Text,{className:"pf-v5-u-mb-md"},B.formatMessage({id:"wizard.loadingDescription-a",defaultMessage:"This might take some time. You'll receive a notification if you are still in the Sources application when the process completes. Otherwise, you can check the status in the main sources table at any time."})),i().createElement(A.Text,null,B.formatMessage({id:"wizard.loadingDescription-b",defaultMessage:"In the meantime, you can close this window while the validation process continues."}))),onClose:t,cancelTitle:B.formatMessage({id:"wizard.close",defaultMessage:"Close"})});const q=i().useMemo((()=>document.querySelector(".pf-v5-c-page.chr-c-page")),[]);return i().createElement(k.Modal,{isOpen:!0,width:"58%",hasNoBodyWrapper:!0,appendTo:q,showClose:!1},i().createElement(m.e,{className:"sources",onClose:a?e:t,title:(0,g.Z5)(E),description:(0,g.A6)(E),steps:[{name:"Finish",component:z,isFinishedStep:!0}]}))};V.propTypes={afterSubmit:n().func.isRequired,afterError:n().func.isRequired,isFinished:n().bool.isRequired,isErrored:n().bool.isRequired,successfulMessage:n().node.isRequired,hideSourcesButton:n().bool,returnButtonTitle:n().node.isRequired,errorMessage:n().node,reset:n().func,createdSource:n().object,tryAgain:n().func,afterSuccess:n().func,sourceTypes:n().arrayOf(n().shape({id:n().string.isRequired,name:n().string.isRequired})),activeCategory:n().string};const Y=V;var $=a(70642),G=a(5454),X=a(5495);const J=async e=>{try{const t=new Date,a=await(0,Z.Rj)().bulkCreate({sources:[{...e.source,source_type_name:e.source_type}],authentications:[{...e.authentication,resource_name:e.source.name,resource_type:"source"}],applications:e.applications.map((t=>({application_type_id:t,source_name:e.source.name})))}),s=await(0,G.h)(a.authentications[0].id,void 0,void 0,"showAuthentication",t);return{...a,...a.sources[0],authentications:[s]}}catch(e){throw await(0,X.Z)(e)}};var Q=a(85490),K=a(33646);const ee=e=>e.url?(e=>{if(!e)return{};try{const t=new URL(e);return{scheme:t.protocol.replace(/:$/,""),host:t.hostname,port:t.port,path:t.pathname}}catch(e){return console.log(e),{}}})(e.url):e,te=async(e,t=[],a)=>{let s;try{const i={sources:[{...e.source,source_type_name:e.source_type}],endpoints:[],authentications:[],applications:[]},r=e.url||e.endpoint;if(r){const{scheme:t,host:a,port:s,path:r}=ee(e),n=parseInt(s,10);i.endpoints.push({...e.endpoint,default:!0,source_name:e.source.name,scheme:t,host:a,port:isNaN(n)?void 0:n,path:r})}const n=e.application?.application_type_id&&e.application?.application_type_id!==g.Dt;n&&i.applications.push({...e.application,source_name:e.source.name}),e.authentication&&e.authentication.authtype!==K.Z.type&&i.authentications.push({...e.authentication,resource_type:r?"endpoint":n?"application":"source",resource_name:e.source.name,...n&&{resource_name:a?.find((({id:t})=>t===e.application.application_type_id))?.name},...r&&{resource_name:ee(e).host}});const o=await(0,Z.Rj)().bulkCreate(i);s=o.sources?.[0];let c=o.applications?.[0],l=o.endpoints?.[0],u=o.authentications?.[0];if(r&&n&&await(0,Z.Rj)().createAuthApp({application_id:c.id,authentication_id:u.id}),await(0,Q.Z)(s.id),c){const e=t.includes(c.application_type_id)?1e4:0;c=await(0,G.h)(c.id,e)}return l&&(l=await(0,G.h)(l.id,void 0,void 0,"getEndpoint")),{...s,endpoint:[l].filter(Boolean),applications:[c].filter(Boolean)}}catch(e){throw await(0,X.S)(e,s?s.id:void 0)}};var ae=a(95772);const se=(e,t)=>({isSubmitted:!1,isFinished:!1,isErrored:!1,isCancelling:!1,values:e,createdSource:{},error:void 0,activeCategory:t}),ie=(e,{type:t,values:a,data:s,error:i,initialValues:r,sourceTypes:n,applicationTypes:o})=>{switch(t){case"reset":return se(r,e.activeCategory);case"prepareSubmitState":return{...e,isFinished:!1,isErrored:!1,error:void 0,isSubmitted:!0,values:a,sourceTypes:n,applicationTypes:o};case"setSubmitted":return{...e,isFinished:!0,createdSource:s};case"setErrored":return{...e,isErrored:!0,error:i.toString()};case"onStay":return{...e,isCancelling:!1};case"showCancelModal":return{...e,isCancelling:!0,values:a}}},re=({successfulMessage:e,isOpen:t,sourceTypes:a,applicationTypes:r,disableAppSelection:n,hideSourcesButton:o,returnButtonTitle:l,initialValues:u,onClose:d,afterSuccess:p,selectedType:m,initialWizardState:f,submitCallback:y,activeCategory:g})=>{const[{isErrored:h,isFinished:E,isSubmitted:v,values:T,error:S,isCancelling:b,createdSource:w,activeCategory:C,...M},_]=(0,s.useReducer)(ie,se(u,g)),B=(e,t,a,s,i)=>(_({type:"prepareSubmitState",values:e,sourceTypes:t,applicationTypes:s}),((0,$.Z)(e.source)?J:te)({...e,application:{...e.application,extra:{...e.application?.extra||{},hcs:!!i}}},(0,U.T2)(s),s).then((e=>{p&&p(e),y&&y({isSubmitted:!0,createdSource:e,sourceTypes:t}),_({type:"setSubmitted",data:e})})).catch((s=>{y&&y({isErrored:!0,error:s,values:e,sourceTypes:t,wizardState:a}),_({type:"setErrored",error:s})}))),x=()=>_({type:"reset",initialValues:u});return t?v?i().createElement(Y,{afterSubmit:()=>{d(void 0,w),x()},afterError:()=>d({}),isFinished:E,isErrored:h,successfulMessage:e,hideSourcesButton:o,returnButtonTitle:l,errorMessage:S,reset:x,createdSource:w,tryAgain:()=>B(T,M.sourceTypes,void 0,M.applicationTypes),afterSuccess:p,sourceTypes:M.sourceTypes,activeCategory:C}):i().createElement(i().Fragment,null,b&&i().createElement(ae.Z,{onExit:()=>d(T),onStay:()=>_({type:"onStay"})}),i().createElement(z,{isCancelling:b,values:T,onSubmit:B,onCancel:e=>c()(e)?d({}):_({type:"showCancelModal",values:e}),sourceTypes:a,applicationTypes:r,disableAppSelection:n,selectedType:m,initialWizardState:f,activeCategory:C})):null};re.propTypes={afterSuccess:n().func,sourceTypes:n().arrayOf(n().shape({id:n().string.isRequired,name:n().string.isRequired,product_name:n().string.isRequired,schema:n().shape({authentication:n().array,endpoint:n().object})})),applicationTypes:n().arrayOf(n().shape({id:n().string.isRequired,name:n().string.isRequired,display_name:n().string.isRequired})),onClose:n().func.isRequired,isOpen:n().bool.isRequired,successfulMessage:n().node,initialValues:n().shape({[n().string]:n().oneOf([n().string,n().array,n().number,n().bool])}),disableAppSelection:n().bool,hideSourcesButton:n().bool,returnButtonTitle:n().node,selectedType:n().string,initialWizardState:n().object,submitCallback:n().func,activeCategory:n().oneOf([U.B0,U.JL])},re.defaultProps={successfulMessage:i().createElement(l._H,{id:"wizard.successfulMessage",defaultMessage:"Your source was successfully added."}),initialValues:{},returnButtonTitle:i().createElement(l._H,{id:"wizard.goBackToSources",defaultMessage:"Go back to Sources"})};const ne=e=>{const[t,a]=(0,s.useState)(!1);return i().createElement(i().Fragment,null,i().createElement(u.Button,{variant:"primary",onClick:()=>a(!0)},(0,g.Z5)()),i().createElement(re,{isOpen:t,onClose:()=>a(!1),...e}))},oe=re},85779:(e,t,a)=>{"use strict";a.d(t,{Z:()=>T});var s=a(28416),i=a.n(s),r=a(45697),n=a.n(r),o=a(25387),c=a(5904),l=a(74503),u=a(31055),d=a(95376),p=a(9545),m=a(64380),f=a(72232),y=a(71214),g=a.n(y),h=a(55140);const E=({href:e,children:t})=>i().createElement(i().Fragment,null,i().createElement(g(),{className:"pf-v5-u-mr-sm",fill:"var(--pf-v5-global--success-color--100)"}),i().createElement(m.Text,{component:"a",href:e,target:"_blank",rel:"noopener noreferrer"},t));E.propTypes={href:n().string.isRequired,children:n().node.isRequired};const v=({onClose:e})=>{const t=(0,o.YB)(),{isBeta:a}=(0,h.Z)(),r=a()?"preview/":"",n=`/${r}subscriptions`,y=`/${r}insights`,v=`/${r}cost-management`;return i().createElement(s.Fragment,null,i().createElement(c.Alert,{variant:"info",isInline:!0,title:t.formatMessage({id:"aws.alertTitle",defaultMessage:"Allow 24 hours for full activation"})},t.formatMessage({id:"aws.alertDescription",defaultMessage:"Manage connections for this source at any time in Settings > Sources."})),i().createElement(l.Bullseye,null,i().createElement(d.EmptyState,{variant:d.EmptyStateVariant.full,className:"pf-v5-u-mt-md"},i().createElement(d.EmptyStateIcon,{icon:g(),color:"var(--pf-v5-global--success-color--100)",className:"pf-v5-u-mb-0"}),i().createElement(f.Title,{headingLevel:"h2",size:"xl",className:"pf-v5-u-mt-xl"},t.formatMessage({id:"aws.successTitle",defaultMessage:"Amazon Web Services connection established"})),i().createElement(d.EmptyStateBody,null,t.formatMessage({id:"aws.successDescription",defaultMessage:"Discover the benefits of your connection or exit to manage your new source."}),i().createElement(p.Grid,{hasGutter:!0,className:"src-c-aws-grid pf-v5-u-mt-md"},i().createElement(p.GridItem,{md:"6"},i().createElement(E,{href:"https://access.redhat.com/management/cloud"},t.formatMessage({id:"aws.goldImages",defaultMessage:"View enabled AWS gold images"}))),i().createElement(p.GridItem,{md:"6"},i().createElement(E,{href:n},t.formatMessage({id:"aws.subwtachUsage",defaultMessage:"Subscription Watch usage"}))),i().createElement(p.GridItem,{md:"6"},i().createElement(E,{href:y},t.formatMessage({id:"aws.insights",defaultMessage:"Get started with Red Hat Insights"}))),i().createElement(p.GridItem,{md:"6"},i().createElement(E,{href:v},t.formatMessage({id:"aws.costLink",defaultMessage:"Cost Management reporting"}))))),i().createElement(u.Button,{variant:"primary",onClick:e,className:"pf-v5-u-mt-xl"},t.formatMessage({id:"exit",defaultMessage:"Exit"})),i().createElement(d.EmptyStateActions,null,i().createElement(m.Text,{component:"a",href:"https://access.redhat.com/public-cloud/aws",target:"_blank",rel:"noopener noreferrer"},t.formatMessage({id:"aws.learnMore",defaultMessage:"Learn more about this Cloud"}))))))};v.propTypes={onClose:n().func.isRequired};const T=v},27552:(e,t,a)=>{"use strict";a.d(t,{Z:()=>y});var s=a(28416),i=a.n(s),r=a(45697),n=a.n(r),o=a(25387),c=a(74503),l=a(31055),u=a(95376),d=a(72232),p=a(36345),m=a.n(p);const f=({onClose:e,returnButtonTitle:t,message:a,title:s,customText:r,primaryAction:n,secondaryActions:o,Component:l})=>i().createElement(c.Bullseye,null,i().createElement(u.EmptyState,{variant:u.EmptyStateVariant.full,className:"pf-v5-u-mt-4xl"},i().createElement(u.EmptyStateIcon,{icon:m(),color:"var(--pf-v5-global--danger-color--100)",className:"pf-v5-u-mb-0"}),i().createElement(d.Title,{headingLevel:"h2",size:"xl",className:"pf-v5-u-mt-xl"},s),i().createElement(u.EmptyStateBody,{className:"src-c-wizard--step-text"},a||r),i().createElement(l,{variant:"primary",onClick:n||e},t),o&&i().createElement(u.EmptyStateActions,{className:"pf-v5-u-mt-sm"},o)));f.propTypes={onClose:n().func.isRequired,returnButtonTitle:n().node,message:n().node,title:n().node,customText:n().node,primaryAction:n().func,secondaryActions:n().node,Component:n().elementType},f.defaultProps={title:i().createElement(o._H,{id:"wizard.unsuccConfiguration",defaultMessage:"Something went wrong"}),customText:i().createElement(o._H,{id:"wizard.errorText",defaultMessage:"There was a problem while trying to add your source. Please try again. If the error persists, open a support case."}),Component:l.Button};const y=f},93759:(e,t,a)=>{"use strict";a.d(t,{Z:()=>v});var s=a(28416),i=a.n(s),r=a(45697),n=a.n(r),o=a(25387),c=a(2501),l=a(74503),u=a(31055),d=a(95376),p=a(16987),m=a(72232),f=a(71214),y=a.n(f),g=a(32952),h=a(55140);const E=({onClose:e,successfulMessage:t,hideSourcesButton:a,returnButtonTitle:s,title:r,linkText:n,secondaryActions:f,uuid:E})=>{const{isBeta:v}=(0,h.Z)();return i().createElement(l.Bullseye,null,i().createElement(d.EmptyState,{variant:d.EmptyStateVariant.full,className:"pf-v5-u-mt-4xl"},i().createElement(d.EmptyStateIcon,{icon:y(),color:"var(--pf-v5-global--success-color--100)",className:"pf-v5-u-mb-0"}),i().createElement(m.Title,{headingLevel:"h2",size:"xl",className:"pf-v5-u-mt-xl"},r),i().createElement(d.EmptyStateBody,{className:"src-c-wizard--step-text"},t),E&&i().createElement(p.Form,{className:"src-c-uuid"},i().createElement(p.FormGroup,{label:i().createElement(o._H,{id:"wizard.sourcesUid",defaultMessage:"Source UUID"}),fieldId:"source-uuid"},i().createElement(c.ClipboardCopy,{id:"source-uuid",isReadOnly:!0,hoverTip:"Source UUID",clickTip:"Copied",className:"pf-v5-u-mt-md"},E))),i().createElement(u.Button,{variant:"primary",onClick:e,className:"pf-v5-u-mt-xl"},s),!a&&i().createElement(d.EmptyStateActions,null,i().createElement(u.Button,{variant:"link",component:"a",target:"_blank",rel:"noopener noreferrer",href:(0,g.Z)(v())},n)),f&&i().createElement(d.EmptyStateActions,null,f)))};E.propTypes={onClose:n().func.isRequired,successfulMessage:n().node.isRequired,hideSourcesButton:n().bool,returnButtonTitle:n().node.isRequired,title:n().node,linkText:n().node,secondaryActions:n().node,uuid:n().string},E.defaultProps={title:i().createElement(o._H,{id:"wizard.succConfiguration",defaultMessage:"Configuration successful"}),linkText:i().createElement(o._H,{id:"wizard.toSources",defaultMessage:"Take me to sources"})};const v=E},26946:(e,t,a)=>{"use strict";a.d(t,{Z:()=>f});var s=a(28416),i=a.n(s),r=a(45697),n=a.n(r),o=a(25387),c=a(74503),l=a(31055),u=a(95376),d=a(15950),p=a(72232);const m=({onClose:e,customText:t,cancelTitle:a,description:s})=>i().createElement(c.Bullseye,null,i().createElement(u.EmptyState,{variant:u.EmptyStateVariant.full,className:"pf-v5-u-mt-4xl"},i().createElement(u.EmptyStateIcon,{icon:d.Spinner,className:"pf-v5-u-mb-0"}),i().createElement(p.Title,{headingLevel:"h2",size:"xl",className:"pf-v5-u-mt-xl"},t),s&&i().createElement(u.EmptyStateBody,{className:"src-c-wizard--step-text"},s),e&&i().createElement(u.EmptyStateActions,{className:"pf-v5-u-mt-xl"},i().createElement(l.Button,{variant:"link",onClick:e},a))));m.propTypes={onClose:n().func,customText:n().node,cancelTitle:n().node,description:n().node},m.defaultProps={customText:i().createElement(o._H,{id:"wizard.loadingText",defaultMessage:"Loading, please wait."}),cancelTitle:i().createElement(o._H,{id:"wizard.cancelText",defaultMessage:"Cancel"})};const f=m},54243:(e,t,a)=>{"use strict";a.d(t,{Z:()=>g});var s=a(28416),i=a.n(s),r=a(45697),n=a.n(r),o=a(25387),c=a(2501),l=a(74503),u=a(31055),d=a(95376),p=a(72232),m=a(46500),f=a.n(m);const y=({onClose:e,returnButtonTitle:t,title:a,secondaryActions:s,uuid:r})=>{const n=(0,o.YB)();return i().createElement(l.Bullseye,null,i().createElement(d.EmptyState,{variant:d.EmptyStateVariant.full,className:"pf-v5-u-mt-4xl"},i().createElement(d.EmptyStateIcon,{icon:f(),color:"var(--pf-v5-global--Color--200)",className:"pf-v5-u-mb-0"}),i().createElement(p.Title,{headingLevel:"h2",size:"xl",className:"pf-v5-u-mt-xl"},a),i().createElement(d.EmptyStateBody,null,n.formatMessage({id:"wizard.uncompleteConfigurationDescription",defaultMessage:"We are still working to confirm credentials and app settings.{newLine}To track progress, check the Status column in the Sources table."},{newLine:i().createElement("br",{key:"br"})}),r??i().createElement(c.ClipboardCopy,{isReadOnly:!0,hoverTip:"Source UUID",clickTip:"Copied",className:"pf-v5-u-mt-md"},r)),i().createElement(u.Button,{variant:"primary",onClick:e,className:"pf-v5-u-mt-xl"},t),s&&i().createElement(d.EmptyStateActions,null,s)))};y.propTypes={onClose:n().func.isRequired,returnButtonTitle:n().node.isRequired,title:n().node,secondaryActions:n().node,uuid:n().string},y.defaultProps={title:i().createElement(o._H,{id:"wizard.uncompleteConfigurationTitle",defaultMessage:"Configuration in progress"})};const g=y},29494:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});const s=(e,t)=>e.applications?.filter(Boolean).find((({availability_status_error:e})=>e))?.availability_status_error||e.endpoint?.filter(Boolean).find((({availability_status_error:e})=>e))?.availability_status_error||e.authentications?.filter(Boolean).find((({availability_status_error:e})=>e))?.availability_status_error||t.formatMessage({id:"wizard.unknownError",defaultMessage:"Unknown error"})},16872:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});const s=e=>{const t=[...e.applications?.filter(Boolean).map((({availability_status:e})=>e||"timeout"))||[],...e.endpoint?.filter(Boolean).map((({availability_status:e})=>e||"timeout"))||[],...e.authentications?.filter(Boolean).map((({availability_status:e})=>e||"timeout"))||[]];return t.includes("unavailable")?"unavailable":t.length>0&&t.every((e=>"available"===e))?"available":t.includes("timeout")?"timeout":"finished"}},32952:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});const s=(e=!1)=>e?"/preview/settings/integrations":"/settings/integrations"},12567:(e,t,a)=>{"use strict";a.d(t,{W:()=>i,Z:()=>r});var s=a(75614);const i=(e,t)=>({supported_source_types:a})=>a.find((a=>e.find((({name:e})=>a===e))?.category===t)),r=e=>e.name!==s.M$},31379:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n,j:()=>r});var s=a(75614);const i=[s.OH,s.N9],r=(e,t)=>({category:a,name:s})=>t?a===e:a===e&&!i.includes(s),n=e=>e.schema},70642:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var s=a(64072);const i=e=>e?.app_creation_workflow===s.b},70347:()=>{},80897:()=>{},25238:()=>{},40209:()=>{},87234:()=>{}}]);
//# sourceMappingURL=../sourcemaps/addSourceWizard.f6e4eab6d7bc3b1ad43176a447a32c1d.js.map