(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{329:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Stack=void 0;var n=c(a(3)),r=function(e){if(e&&e.__esModule)return e;var t=o();if(t&&t.has(e))return t.get(e);var a={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var l=n?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(a,r,l):a[r]=e[r]}}a.default=e,t&&t.set(e,a);return a}(a(0)),l=c(a(403)),i=a(5),s=a(134);function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=function(e){var t=e.gutter,a=void 0===t?null:t,n=e.className,o=void 0===n?"":n,c=e.children,p=void 0===c?null:c,m=e.component,f=void 0===m?"div":m,g=d(e,["gutter","className","children","component"]),y=f;return r.createElement(y,u({},g,{className:(0,i.css)(l.default.stack,a&&(0,s.getGutterModifier)(l.default,a,l.default.modifiers.gutter),o)}),p)};t.Stack=p,p.propTypes={gutter:n.default.oneOfType([n.default.oneOf(["sm"]),n.default.oneOf(["md"]),n.default.oneOf(["lg"]),n.default.any]),children:n.default.node,className:n.default.string,component:n.default.node}},403:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a(404),t.default={stack:"pf-l-stack",stackItem:"pf-l-stack__item",modifiers:{fill:"pf-m-fill",gutter:"pf-m-gutter"}}},404:function(e,t,a){var n=a(12),r=a(405);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var l={insert:"head",singleton:!1},i=(n(r,l),r.locals?r.locals:{});e.exports=i},405:function(e,t,a){(t=a(10)(!1)).push([e.i,".pf-l-stack{--pf-l-stack--m-gutter--MarginBottom: var(--pf-global--gutter);--pf-l-stack--m-gutter--md--MarginBottom: var(--pf-global--gutter--md);display:flex;flex-direction:column;height:100%}@media screen and (max-width: 768px){.pf-l-stack{--pf-l-stack--m-gutter--MarginBottom: var(--pf-l-stack--m-gutter--md--MarginBottom)}}.pf-l-stack__item.pf-m-fill{flex-grow:1}.pf-l-stack.pf-m-gutter>*:not(:last-child){margin-bottom:var(--pf-l-stack--m-gutter--MarginBottom)}\n",""]),e.exports=t},407:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(3),i=a.n(l),s=a(29),o=a(11),c=a(25),u=a(41),d=a(76),p=a(284),m=a(285),f=a(283),g=function(e){var t=e.setApplicationToRemove,a=e.breakpoints,n=e.namePrefix,l=Object(s.useSelector)((function(e){return e.sources.appTypes})),i=Object(f.a)(),g=i.applications.map((function(e){var t=e.application_type_id,a=l.find((function(e){return e.id===t}));return a?a.display_name:void 0}));return i.applications.filter((function(e){return!e.isDeleting})).map((function(e){var t=l.find((function(t){return t.id===e.application_type_id}));if(t)return{display_name:t.display_name,id:e.id,dependent_applications:t.dependent_applications}})).sort((function(e,t){return e.display_name.localeCompare(t.display_name)})).map((function(e){var l=e.display_name,i=e.id,s=e.dependent_applications;return r.a.createElement(u.TextContent,{key:i},r.a.createElement(p.Grid,null,r.a.createElement(m.GridItem,{md:a.display_name||4},r.a.createElement(c.Text,{component:c.TextVariants.p,style:{marginBottom:0}},n,l)),r.a.createElement(m.GridItem,{md:a.remove||8,className:"ins-c-sources__remove-app"},r.a.createElement(d.Button,{variant:d.ButtonVariant.link,isInline:!0,onClick:function(){return t({id:i,display_name:l,dependent_applications:s,sourceAppsNames:g})}},r.a.createElement(o.a,{id:"sources.remove",defaultMessage:"Remove"})))))}))};g.propTypes={setApplicationToRemove:i.a.func.isRequired,breakpoints:i.a.shape({display_name:i.a.number,remove:i.a.number}),namePrefix:i.a.node},g.defaultProps={breakpoints:{}},t.a=g},408:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(3),i=a.n(l),s=a(29),o=a(743),c=a(11),u=a(25),d=a(41),p=a(76),m=a(318),f=a(317),g=a(329),y=a(328),v=a(61),b=a.n(v),E=a(77),k=a(283),h=function(e){var t=e.app,a=e.onCancel,n=Object(o.a)(),l=Object(s.useSelector)((function(e){return e.sources.appTypes})),i=Object(k.a)(),v=Object(s.useDispatch)(),h=t.dependent_applications.map((function(e){var a=l.find((function(t){return t.name===e}));return a&&t.sourceAppsNames.includes(a.display_name)?a.display_name:void 0})).filter((function(e){return e}));return r.a.createElement(y.Modal,{className:"ins-c-sources__dialog--warning",title:"Remove ".concat(t.display_name," application"),isOpen:!0,isSmall:!0,onClose:a,isFooterLeftAligned:!0,actions:[r.a.createElement(p.Button,{id:"deleteSubmit",key:"submit",variant:"danger",type:"button",onClick:function(){var e=n.formatMessage({id:"sources.removeAppWarning",defaultMessage:"{ name } was removed from this source."},{name:t.display_name}),r=n.formatMessage({id:"sources.removeAppError",defaultMessage:"Removing of { name } application from this source was unsuccessful."},{name:t.display_name});return a(),v(Object(E.i)(t.id,i.id,e,r))}},r.a.createElement(c.a,{id:"sources.remove",defaultMessage:"Remove"})),r.a.createElement(p.Button,{id:"deleteCancel",key:"cancel",variant:"link",type:"button",onClick:a},r.a.createElement(c.a,{id:"sources.cancel",defaultMessage:"Cancel"}))]},r.a.createElement(m.Split,{gutter:"md"},r.a.createElement(f.SplitItem,null,r.a.createElement(b.a,{size:"xl",className:"ins-m-alert ins-c-source__delete-icon"})),r.a.createElement(f.SplitItem,{isFilled:!0},r.a.createElement(g.Stack,{gutter:"md"},r.a.createElement(d.TextContent,null,r.a.createElement(u.Text,{component:u.TextVariants.p},r.a.createElement(c.a,{id:"sources.deleteAppWarning",defaultMessage:"Are you sure to remove { appName } from this source?",values:{appName:t.display_name}})),h.length>0&&r.a.createElement(u.Text,{component:u.TextVariants.p},r.a.createElement(c.a,{id:"sources.deleteAppDetails",defaultMessage:"This change will affect these applications: { apps }.",values:{apps:h}})))))))};h.propTypes={app:i.a.shape({id:i.a.string.isRequired,display_name:i.a.string.isRequired,dependent_applications:i.a.arrayOf(i.a.string),sourceAppsNames:i.a.arrayOf(i.a.string)}).isRequired,onCancel:i.a.func.isRequired},t.a=h},744:function(e,t,a){"use strict";a.r(t);var n=a(36),r=a.n(n),l=a(0),i=a.n(l),s=a(28),o=a(29),c=a(25),u=a(41),d=a(76),p=a(318),m=a(317),f=a(329),g=a(328),y=a(316),v=a(458),b=a(457),E=a(77),k=a(61),h=a.n(k),_=a(743),x=a(11),M=a(407),O=a(408),T=a(283),C=a(79);t.default=function(){var e=Object(s.f)().push,t=Object(l.useState)(!1),a=r()(t,2),n=a[0],k=a[1],j=Object(l.useState)({}),w=r()(j,2),A=w[0],S=w[1],B=Object(_.a)(),D=Object(T.a)(),I=Object(o.useDispatch)(),N=function(){return e(C.c.sources.path)},P=D.applications.some((function(e){return!e.isDeleting})),R=D.applications.length>0?[i.a.createElement(d.Button,{id:"deleteCancel",key:"cancel",variant:"link",type:"button",onClick:N},i.a.createElement(x.a,{id:"sources.close",defaultMessage:"Close"}))]:[i.a.createElement(d.Button,{id:"deleteSubmit",key:"submit",variant:"danger",type:"button",onClick:function(){N(),I(Object(E.j)(D.id,B.formatMessage({id:"sources.notificationDeleteMessage",defaultMessage:"{title} was deleted successfully."},{title:D.name})))},isDisabled:!n},i.a.createElement(x.a,{id:"sources.deleteConfirm",defaultMessage:"Delete this source and its data"})),i.a.createElement(d.Button,{id:"deleteCancel",key:"cancel",variant:"link",type:"button",onClick:N},i.a.createElement(x.a,{id:"sources.deleteCancel",defaultMessage:"Do not delete this source"}))],V=D.applications.length>0?i.a.createElement(i.a.Fragment,null,i.a.createElement(c.Text,{component:c.TextVariants.p},i.a.createElement(x.a,{id:"sources.deleteTextBodyWithApp",defaultMessage:"This action cannot be enacted until all assigned applications have been removed from this source."})),i.a.createElement(d.Button,{variant:"link",isInline:!0,onClick:function(t){return e(Object(C.b)(C.c.sourceManageApps.path,D.id))}},i.a.createElement(c.Text,{component:c.TextVariants.p,style:{marginBottom:0}},i.a.createElement(x.a,{id:"sources.connectedApps",defaultMessage:"Connected applications:"}))),P?i.a.createElement(M.a,{breakpoints:{display_name:8,remove:4},setApplicationToRemove:S,namePrefix:"- "}):i.a.createElement(c.Text,{component:c.TextVariants.p},i.a.createElement(x.a,{id:"sources.connectedApps",defaultMessage:"Connected applications are being removed."}))):i.a.createElement(i.a.Fragment,null,i.a.createElement(c.Text,{component:c.TextVariants.p},i.a.createElement(x.a,{id:"sources.deleteTextBody",defaultMessage:'Are you sure that you want to delete "{ name }"?',values:{name:D.name}})),i.a.createElement(c.Text,{component:c.TextVariants.p},i.a.createElement(x.a,{id:"sources.delete-text-body-2",defaultMessage:"Deleting this source will permanently delete:"})),i.a.createElement(v.TextList,null,i.a.createElement(b.TextListItem,null,i.a.createElement(x.a,{id:"sources.deleteTextBody3",defaultMessage:"All data collected"})),i.a.createElement(b.TextListItem,null,i.a.createElement(x.a,{id:"sources.deleteTextBody4",defaultMessage:"Any and all historical data"}))),i.a.createElement(y.Checkbox,{label:B.formatMessage({id:"sources.deleteCheckboxTitle",defaultMessage:"I acknowledge that this action cannot be undone."}),onChange:function(){return k((function(e){return!e}))},"aria-label":B.formatMessage({id:"sources.deleteCheckboxTitle",defaultMessage:"I acknowledge that this action cannot be undone."}),id:"acknowledgeDelete",name:"acknowledgeDelete",isChecked:n}));return i.a.createElement(g.Modal,{className:"ins-c-sources__dialog--warning",title:B.formatMessage({id:"sources.deleteTitle",defaultMessage:"Delete {title}"},{title:D.name}),isOpen:!0,isSmall:!0,onClose:N,actions:R,isFooterLeftAligned:!0},A.id&&i.a.createElement(O.a,{app:A,onCancel:function(){return S({})}}),i.a.createElement(p.Split,{gutter:"md"},i.a.createElement(m.SplitItem,null,i.a.createElement(h.a,{size:"xl",className:"ins-m-alert ins-c-source__delete-icon"})),i.a.createElement(m.SplitItem,{isFilled:!0},i.a.createElement(f.Stack,{gutter:"md"},i.a.createElement(u.TextContent,null,V)))))}}}]);
//# sourceMappingURL=../sourcemaps/remove.js.map