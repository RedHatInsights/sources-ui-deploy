(self.webpackChunksources=self.webpackChunksources||[]).push([[6818],{28368:(e,t,a)=>{var i=a(90939);e.exports=function(e,t,a){var s=(a="function"==typeof a?a:void 0)?a(e,t):void 0;return void 0===s?i(e,t,void 0,a):!!s}},30236:(e,t,a)=>{var i=a(42980),s=a(21463)((function(e,t,a,s){i(e,t,a,s)}));e.exports=s},57564:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Ot});var i=a(28416),s=a.n(i),n=a(9545),o=a(25387),l=a(86706),r=a(45697),c=a.n(r),d=a(88094),p=a(76515),u=a(97979),m=a(63367),f=a(98100),g=a.n(f),h=a(31055),y=a(15950),E=a(85490),b=a(31665);const v=({setCheckPending:e})=>{const t=(0,u.L)(),a=(0,o.YB)(),n=(0,l.I0)(),[r,c]=(0,i.useState)(!1);return s().createElement(h.Button,{variant:"plain","aria-label":a.formatMessage({id:"sources.checkavailability",defaultMessage:"Check integration availability"}),onClick:async()=>{e&&e(),c(!0),await(0,E.Z)(t.id),c(!1),n((0,b.Hz)({title:a.formatMessage({id:"sources.checkavailability.notificationTitle",defaultMessage:"Request to check integration status was sent"}),variant:"info",description:a.formatMessage({id:"sources.checkavailability.notificationDescription",defaultMessage:"Check this page later for updates"})}))},isDisabled:r},!r&&s().createElement(g(),{"data-testid":"RedoIcon"}),r&&s().createElement(y.Spinner,{size:"md"}))};v.propTypes={setCheckPending:c().func};const M=v,T=({term:e,description:t})=>s().createElement(p.DescriptionListGroup,null,s().createElement(p.DescriptionListTerm,null,e),s().createElement(p.DescriptionListDescription,null,t));T.propTypes={term:c().node,description:c().node};const C=()=>{const e=(0,l.I0)(),t=(0,o.YB)(),a=(0,u.L)(),i=(0,l.v9)((({sources:e})=>e.sourceTypes),l.wU),n=i.find((e=>e.id===a.source_type_id));let r;if("amazon"===n?.name){const e=a.authentications?.find((({authtype:e})=>e.includes("arn")));e?.username&&(r=e.username.match(/:\d+/)?.[0]?.replace(/:/g,""))}return s().createElement(d.Card,{className:"pf-m-selectable pf-m-selected src-c-card-summary pf-v5-u-m-lg pf-v5-u-mr-sm-on-md"},s().createElement(d.CardTitle,null,t.formatMessage({id:"detail.summary.title",defaultMessage:"Integration summary"})),s().createElement(d.CardBody,null,s().createElement(p.DescriptionList,{columnModifier:{default:"2Col"}},s().createElement(T,{term:t.formatMessage({id:"detail.summary.type",defaultMessage:"Integration type"}),description:(0,m.P5)(a.source_type_id,void 0,{sourceTypes:i})}),s().createElement(T,{term:t.formatMessage({id:"detail.summary.lastChecked",defaultMessage:"Last availability check"}),description:s().createElement(s().Fragment,null,a.isCheckPending||!a.last_checked_at&&!a.last_available_at?t.formatMessage({id:"detail.summary.waitingForUpdate",defaultMessage:"Waiting for update"}):(0,m.vh)(a.last_checked_at||a.last_available_at),s().createElement(M,{setCheckPending:()=>e((0,b.mE)(a.id))}))}),s().createElement(T,{term:t.formatMessage({id:"detail.summary.dateAdded",defaultMessage:"Date added"}),description:(0,m.vh)(a.created_at)}),s().createElement(T,{term:t.formatMessage({id:"detail.summary.lastModified",defaultMessage:"Last modified"}),description:(0,m.vh)(a.updated_at)}),a.app_creation_workflow&&s().createElement(T,{term:t.formatMessage({id:"detail.summary.configurationMode",defaultMessage:"Configuration mode"}),description:(0,m.Z3)(a.app_creation_workflow,a,{intl:t,sourceType:n})}),r&&s().createElement(T,{term:t.formatMessage({id:"detail.summary.awsAccountNumber",defaultMessage:"AWS account number"}),description:r}))))};var w=a(16987),_=a(75349),R=a(81599),k=a(50247),A=a(46207),I=a.n(A),x=a(30739),N=a.n(x),S=a(87281),D=a(82866),Z=a(70642),O=a(90573),P=a(12567),B=a(65353),F=a(12744),L=a(41435),j=a(62472);const U=e=>{var{children:t,className:a,component:s="a",isDisabled:n=!1,isAriaDisabled:o=!1,isPlainText:l=!1,href:r,tooltip:c,tooltipProps:d={},listItemClassName:p,onClick:u,ref:m,additionalChild:f,customChild:g,tabIndex:h=-1,icon:y=null,autoFocus:E,description:b=null,styleChildren:v,ouiaId:M,ouiaSafe:T}=e,C=(0,B.__rest)(e,["children","className","component","isDisabled","isAriaDisabled","isPlainText","href","tooltip","tooltipProps","listItemClassName","onClick","ref","additionalChild","customChild","tabIndex","icon","autoFocus","description","styleChildren","ouiaId","ouiaSafe"]);const w=(0,j.useOUIAProps)(U.displayName,M,T);return i.createElement(L.e4.Consumer,null,(e=>i.createElement(F.n,Object.assign({context:e,role:"menuitem",tabIndex:h,className:a,component:s,isDisabled:n,isAriaDisabled:o,isPlainText:l,href:r,tooltip:c,tooltipProps:d,listItemClassName:p,onClick:u,additionalChild:f,customChild:g,icon:y,autoFocus:E,styleChildren:v,description:b},w,C),t)))};U.displayName="DropdownItem";var z=a(73699),W=a(38296),G=a(31051),Y=a(80164);class $ extends i.Component{constructor(){super(...arguments),this.refsCollection=[],this.componentWillUnmount=()=>{document.removeEventListener("keydown",this.onKeyDown)},this.onKeyDown=e=>{if(!this.props.isOpen||!Array.from(document.activeElement.classList).find((e=>$.validToggleClasses.concat(this.context.toggleClass).includes(e))))return;const t=this.refsCollection;if("ArrowDown"===e.key){const a=t.find((e=>e&&e[0]&&!e[0].hasAttribute("disabled")));$.focusFirstRef(a),e.stopPropagation()}else if("ArrowUp"===e.key){const a=t.length,i=t.slice(a-1,a),s=i&&i[0];$.focusFirstRef(s),e.stopPropagation()}},this.childKeyHandler=(e,t,a,s=!1)=>{(0,Y.qG)(e,t,a,this.refsCollection,this.props.isGrouped?this.refsCollection:i.Children.toArray(this.props.children),s)},this.sendRef=(e,t,a,i)=>{this.refsCollection[e]=[],t.map(((t,a)=>{t?t.getAttribute?this.refsCollection[e][a]=i?null:t:this.refsCollection[e][a]=G.findDOMNode(t):this.refsCollection[e][a]=null}))}}componentDidMount(){document.addEventListener("keydown",this.onKeyDown);const{autoFocus:e}=this.props;if(e){const e=this.refsCollection.find((e=>e&&e[0]&&!e[0].hasAttribute("disabled"))),t=e&&e[0];t&&t.focus&&setTimeout((()=>t.focus()))}}shouldComponentUpdate(){return this.refsCollection=[],!0}extendChildren(){const{children:e,isGrouped:t}=this.props;if(t){let t=0;return i.Children.map(e,(e=>{const a=e,s={};return a.props&&a.props.children&&(Array.isArray(a.props.children)?s.children=i.Children.map(a.props.children,(e=>i.cloneElement(e,{index:t++}))):s.children=i.cloneElement(a.props.children,{index:t++})),i.cloneElement(a,s)}))}return i.Children.map(e,((e,t)=>i.cloneElement(e,{index:t})))}render(){const e=this.props,{className:t,isOpen:a,position:s,children:n,component:o,isGrouped:l,setMenuComponentRef:r,alignments:c}=e,d=(0,B.__rest)(e,["className","isOpen","position","children","component","isGrouped","setMenuComponentRef","alignments"]);return i.createElement(L.e4.Provider,{value:{keyHandler:this.childKeyHandler,sendRef:this.sendRef}},"div"===o?i.createElement(L.Dl.Consumer,null,(({onSelect:e,menuClass:o})=>i.createElement("div",{className:(0,W.i)(o,s===L.ir.right&&z.Z.modifiers.alignRight,(0,Y.wt)(c,z.Z,"align-"),t),hidden:!a,onClick:t=>e&&e(t),ref:r},n))):l&&i.createElement(L.Dl.Consumer,null,(({menuClass:e,menuComponent:n})=>{const o=n||"div";return i.createElement(o,Object.assign({},d,{className:(0,W.i)(e,s===L.ir.right&&z.Z.modifiers.alignRight,(0,Y.wt)(c,z.Z,"align-"),t),hidden:!a,role:"menu",ref:r}),this.extendChildren())}))||i.createElement(L.Dl.Consumer,null,(({menuClass:e,menuComponent:n})=>{const l=n||o;return i.createElement(l,Object.assign({},d,{className:(0,W.i)(e,s===L.ir.right&&z.Z.modifiers.alignRight,(0,Y.wt)(c,z.Z,"align-"),t),hidden:!a,role:"menu",ref:r}),this.extendChildren())})))}}$.displayName="DropdownMenu",$.defaultProps={className:"",isOpen:!0,autoFocus:!0,position:L.ir.left,component:"ul",isGrouped:!1,setMenuComponentRef:null},$.validToggleClasses=[z.Z.dropdownToggle,z.Z.dropdownToggleButton],$.focusFirstRef=e=>{e&&e[0]&&e[0].focus&&setTimeout((()=>e[0].focus()))},$.contextType=L.Dl;var K=a(69121);class V extends i.Component{constructor(e){super(e),this.openedOnEnter=!1,this.baseComponentRef=i.createRef(),this.menuComponentRef=i.createRef(),this.onEnter=()=>{this.openedOnEnter=!0},this.setMenuComponentRef=e=>{this.menuComponentRef=e},this.getMenuComponentRef=()=>this.menuComponentRef,e.dropdownItems&&e.dropdownItems.length>0&&e.children&&console.error("Children and dropdownItems props have been provided. Only the dropdownItems prop items will be rendered")}componentDidUpdate(){this.props.isOpen||(this.openedOnEnter=!1)}render(){const e=this.props,{children:t,className:a,direction:s,dropdownItems:n,isOpen:o,isPlain:l,isText:r,isGrouped:c,isFullHeight:d,onSelect:p,position:u,toggle:m,autoFocus:f,minWidth:g,menuAppendTo:h,isFlipEnabled:y,zIndex:E}=e,b=(0,B.__rest)(e,["children","className","direction","dropdownItems","isOpen","isPlain","isText","isGrouped","isFullHeight","onSelect","position","toggle","autoFocus","minWidth","menuAppendTo","isFlipEnabled","zIndex"]),v=m.props.id||"pf-dropdown-toggle-id-"+V.currentId++;let M,T,C=!1;n&&n.length>0?(M="ul",T=n,C=!0):(M="div",T=i.Children.toArray(t));const w=i.createRef(),_=this.openedOnEnter,R=y&&"inline"!==h;return i.createElement(L.Dl.Consumer,null,(({baseClass:e,baseComponent:t,id:n,ouiaId:p,ouiaComponentType:y,ouiaSafe:k,alignments:A})=>{const I=t,x=i.createElement($,{className:(0,W.i)(R&&z.Z.modifiers.static),setMenuComponentRef:this.setMenuComponentRef,component:M,isOpen:o,position:u,"aria-labelledby":n?`${n}-toggle`:v,isGrouped:c,autoFocus:_&&f,alignments:A},T),N=i.createElement("div",{className:(0,W.i)(e,s===L.dw.up&&z.Z.modifiers.top,u===L.ir.right&&z.Z.modifiers.alignRight,o&&z.Z.modifiers.expanded,a),ref:w},o&&x),S=i.createElement(I,Object.assign({},b,{className:(0,W.i)(e,s===L.dw.up&&z.Z.modifiers.top,u===L.ir.right&&z.Z.modifiers.alignRight,o&&z.Z.modifiers.expanded,d&&z.Z.modifiers.fullHeight,a),ref:this.baseComponentRef},(0,j.getOUIAProps)(y,p,k)),i.Children.map(m,(e=>i.cloneElement(e,{parentRef:this.baseComponentRef,getMenuRef:this.getMenuComponentRef,isOpen:o,id:v,isPlain:l,isText:r,"aria-haspopup":C,onEnter:()=>{this.onEnter(),e.props.onEnter&&e.props.onEnter()}}))),"inline"===h&&o&&x);return"inline"===h?S:i.createElement(K.Popper,{trigger:S,triggerRef:this.baseComponentRef,popper:N,popperRef:w,direction:s,position:u,appendTo:"parent"===h?(()=>this.baseComponentRef&&this.baseComponentRef.current?this.baseComponentRef.current.parentElement:null)():h,isVisible:o,zIndex:E,minWidth:void 0!==g?g:"revert"})}))}}V.displayName="DropdownWithContext",V.currentId=0,V.defaultProps={className:"",dropdownItems:[],isOpen:!1,isPlain:!1,isText:!1,isGrouped:!1,position:L.ir.left,direction:L.dw.down,onSelect:()=>{},autoFocus:!0,menuAppendTo:"inline",isFlipEnabled:!0};const H=e=>{var{onSelect:t,ref:a,ouiaId:s,ouiaSafe:n,alignments:o,contextProps:l,minWidth:r,menuAppendTo:c="inline",isFlipEnabled:d=!0,zIndex:p=9999}=e,u=(0,B.__rest)(e,["onSelect","ref","ouiaId","ouiaSafe","alignments","contextProps","minWidth","menuAppendTo","isFlipEnabled","zIndex"]);return i.createElement(L.Dl.Provider,{value:Object.assign({onSelect:e=>t&&t(e),toggleTextClass:z.Z.dropdownToggleText,toggleIconClass:z.Z.dropdownToggleImage,toggleIndicatorClass:z.Z.dropdownToggleIcon,menuClass:z.Z.dropdownMenu,itemClass:z.Z.dropdownMenuItem,toggleClass:z.Z.dropdownToggle,baseClass:z.Z.dropdown,baseComponent:"div",sectionClass:z.Z.dropdownGroup,sectionTitleClass:z.Z.dropdownGroupTitle,sectionComponent:"section",disabledClass:z.Z.modifiers.disabled,plainTextClass:z.Z.modifiers.text,ouiaId:(0,j.useOUIAId)(H.displayName,s),ouiaSafe:n,ouiaComponentType:H.displayName,alignments:o},l)},i.createElement(V,Object.assign({menuAppendTo:c,isFlipEnabled:d,zIndex:p,minWidth:r},u)))};H.displayName="Dropdown";var q=a(62165),X=a(1774);const Q={default:"",primary:z.Z.modifiers.primary,secondary:z.Z.modifiers.secondary};class J extends i.Component{constructor(){super(...arguments),this.buttonRef=i.createRef(),this.componentDidMount=()=>{document.addEventListener("click",this.onDocClick),document.addEventListener("touchstart",this.onDocClick),document.addEventListener("keydown",this.onEscPress)},this.componentWillUnmount=()=>{document.removeEventListener("click",this.onDocClick),document.removeEventListener("touchstart",this.onDocClick),document.removeEventListener("keydown",this.onEscPress)},this.onDocClick=e=>{const{isOpen:t,parentRef:a,onToggle:i,getMenuRef:s}=this.props,n=s&&s(),o=a&&a.current&&a.current.contains(e.target),l=n&&n.contains&&n.contains(e.target);!t||o||l||null==i||i(e,!1)},this.onEscPress=e=>{var t,a,i;const{parentRef:s,getMenuRef:n}=this.props,o=n&&n(),l=s&&s.current&&s.current.contains(e.target),r=o&&o.contains&&o.contains(e.target);!this.props.isOpen||e.key!==X.yu.Escape&&"Tab"!==e.key||!l&&!r||(null===(a=(t=this.props).onToggle)||void 0===a||a.call(t,e,!1),null===(i=this.buttonRef.current)||void 0===i||i.focus())},this.onKeyDown=e=>{var t,a,i,s,n,o;("Tab"!==e.key||this.props.isOpen)&&("Tab"!==e.key&&"Enter"!==e.key&&" "!==e.key||!this.props.isOpen?"Enter"!==e.key&&" "!==e.key||this.props.isOpen||(this.props.bubbleEvent||e.stopPropagation(),e.preventDefault(),null===(s=(i=this.props).onToggle)||void 0===s||s.call(i,e,!this.props.isOpen),null===(o=(n=this.props).onEnter)||void 0===o||o.call(n)):(this.props.bubbleEvent||e.stopPropagation(),e.preventDefault(),null===(a=(t=this.props).onToggle)||void 0===a||a.call(t,e,!this.props.isOpen)))}}render(){const e=this.props,{className:t,children:a,isOpen:s,isDisabled:n,isPlain:o,isText:l,isSplitButton:r,toggleVariant:c,onToggle:d,"aria-haspopup":p,isActive:u,bubbleEvent:m,onEnter:f,parentRef:g,getMenuRef:h,id:y,type:E}=e,b=(0,B.__rest)(e,["className","children","isOpen","isDisabled","isPlain","isText","isSplitButton","toggleVariant","onToggle","aria-haspopup","isActive","bubbleEvent","onEnter","parentRef","getMenuRef","id","type"]);return i.createElement(L.Dl.Consumer,null,(({toggleClass:e})=>i.createElement("button",Object.assign({},b,{id:y,ref:this.buttonRef,className:(0,W.i)(r?z.Z.dropdownToggleButton:e||z.Z.dropdownToggle,u&&z.Z.modifiers.active,o&&z.Z.modifiers.plain,l&&z.Z.modifiers.text,c&&Q[c],t),type:E||"button",onClick:e=>null==d?void 0:d(e,!s),"aria-expanded":s,"aria-haspopup":p,onKeyDown:e=>this.onKeyDown(e),disabled:n}),a)))}}J.displayName="Toggle",J.defaultProps={className:"",isOpen:!1,isActive:!1,isDisabled:!1,isPlain:!1,isText:!1,isSplitButton:!1,onToggle:()=>{},onEnter:()=>{},bubbleEvent:!1};const ee=e=>{var{id:t="",children:a=null,className:s="",isOpen:n=!1,"aria-label":o="Actions",parentRef:l=null,getMenuRef:r=null,isActive:c=!1,isPlain:d=!1,isDisabled:p=!1,bubbleEvent:u=!1,onToggle:m=(()=>{}),ref:f}=e,g=(0,B.__rest)(e,["id","children","className","isOpen","aria-label","parentRef","getMenuRef","isActive","isPlain","isDisabled","bubbleEvent","onToggle","ref"]);return i.createElement(J,Object.assign({id:t,className:s,isOpen:n,"aria-label":o,parentRef:l,getMenuRef:r,isActive:c,isPlain:d,isDisabled:p,onToggle:m,bubbleEvent:u},g),i.createElement(q.default,null))};ee.displayName="KebabToggle";var te=a(42399),ae=a(96380);const ie=({app:e,removeApp:t,addApp:a})=>{const[n,r]=(0,i.useState)(!1),c=(0,o.YB)(),d=(0,u.L)(),p=(0,D.E)(),m=(0,l.v9)((({user:e})=>e.isOrgAdmin)),f=e=>()=>{r(!1),e()},g=(0,te.Z)(c,m),h=c.formatMessage({id:"sources.pausedSourceAction",defaultMessage:"You cannot perform this action on a paused integration."}),y={...g,tooltip:h,tooltipProps:{...g,content:h}},E=e.paused_at?s().createElement(U,{...d.paused_at&&y,...!p&&g,key:"resume",description:c.formatMessage({id:"app.kebab.resume.title",defaultMessage:"Resume data collection for this application."}),onClick:f(a)},c.formatMessage({id:"app.kebab.resume.button",defaultMessage:"Resume"})):s().createElement(U,{...d.paused_at&&y,...!p&&g,key:"pause",description:c.formatMessage({id:"app.kebab.pause.title",defaultMessage:"Temporarily stop this application from collecting data."}),onClick:f(t)},c.formatMessage({id:"app.kebab.pause.button",defaultMessage:"Pause"})),b=s().createElement(U,{...d.paused_at&&y,...!p&&g,key:"remove",description:c.formatMessage({id:"app.kebab.remove.title",defaultMessage:"Permanently stop data collection for this application."}),to:(0,S.yS)(S._j.sourcesDetailRemoveApp.path,d.id).replace(":app_id",e.id),component:ae.Z},c.formatMessage({id:"app.kebab.pause.button",defaultMessage:"Remove"}));return s().createElement(H,{isPlain:!0,isOpen:n,position:"right",dropdownItems:[E,b],className:"src-c-dropdown__application_kebab",toggle:s().createElement(ee,{onToggle:()=>r((e=>!e))})})};ie.propTypes={app:c().shape({id:c().string,paused_at:c().string}).isRequired,removeApp:c().func,addApp:c().func};const se=ie;var ne=a(5495),oe=a(69706),le=a(75614),re=a(84414);const ce={selectedApps:{}},de=(e,{type:t,id:a})=>{switch(t){case"addApp":return{...e,selectedApps:{...e.selectedApps,[a]:!0}};case"removeApp":return{...e,selectedApps:{...e.selectedApps,[a]:!1}};case"clean":return{...e,selectedApps:{...e.selectedApps,[a]:void 0}}}},pe=(e,t,a,i)=>{const n=i.find((t=>t.id===e))?.display_name;t((0,b.Hz)({title:a.formatMessage({id:"detail.applications.resumed.alert.title",defaultMessage:"{appName} connection resumed"},{appName:n}),variant:"default",customIcon:s().createElement(N(),null)}))},ue=(e,t,a,i)=>{const s={create:t.formatMessage({id:"detail.applications.add.error",defaultMessage:"Application create failed"}),pause:t.formatMessage({id:"detail.applications.pause.error",defaultMessage:"Application pause failed"}),resume:t.formatMessage({id:"detail.applications.resume.error",defaultMessage:"Application resume failed"})}[a];e((0,b.Hz)({title:s,description:(0,oe.Z)(t,(0,ne.Z)(i)),variant:"danger"}))},me=()=>{const e=(0,o.YB)(),t=(0,u.L)(),a=(0,re.a)(),n=(0,l.v9)((({sources:e})=>e.sourceTypes),l.wU),r=(0,l.v9)((({sources:e})=>e.appTypes),l.wU),c=(0,l.v9)((({sources:e})=>e.hcsEnrolled),l.wU),p=(0,l.v9)((({sources:e})=>e.hcsEnrolledLoaded),l.wU),f=(0,l.v9)((({user:e})=>e.isOrgAdmin)),g=(0,D.E)(),h=(0,l.I0)(),[{selectedApps:y},E]=(0,i.useReducer)(de,ce),v=n.find((e=>e.id===t.source_type_id)),M=v?.name,T=r.filter((e=>e.supported_source_types.includes(M))).filter(P.Z);let C=async(i,s)=>{if(s){if("boolean"!=typeof y[i]){E({type:"addApp",id:i});try{await(0,O.Rj)().unpauseApplication(s),pe(i,h,e,r),await h((0,b.il)())}catch(t){ue(h,e,"resume",t)}E({type:"clean",id:i})}}else a((0,S.yS)(S._j.sourcesDetailAddApp.path,t.id).replace(":app_type_id",i))};const A=async(t,a)=>{if("boolean"!=typeof y[a]){E({type:"removeApp",id:a});try{await(0,O.Rj)().pauseApplication(t),((e,t,a,i)=>{const n=i.find((t=>t.id===e))?.display_name;t((0,b.Hz)({title:a.formatMessage({id:"detail.applications.paused.alert.title",defaultMessage:"{appName} connection paused"},{appName:n}),description:a.formatMessage({id:"detail.applications.paused.alert.description",defaultMessage:"Your application will not reflect the most recent data until {appName} connection is resumed"},{appName:n}),variant:"default",customIcon:s().createElement(I(),null)}))})(a,h,e,r),await h((0,b.il)())}catch(t){ue(h,e,"pause",t)}E({type:"clean",id:a})}};return(0,Z.Z)(t)&&(C=async(a,i)=>{if("boolean"!=typeof y[a]){if(E({type:"addApp",id:a}),i)try{await(0,O.Rj)().unpauseApplication(i),pe(a,h,e,r),await h((0,b.il)())}catch(t){ue(h,e,"resume",t)}else try{await(0,O.Cu)({source_id:t.id,application_type_id:a}),await h((0,b.il)())}catch(t){ue(h,e,"create",t)}E({type:"clean",id:a})}}),T.length>0?s().createElement(d.Card,{className:"src-c-card-applications pf-v5-u-p-lg pf-v5-u-pl-sm-on-md"},s().createElement(d.CardTitle,null,e.formatMessage({id:"detail.applications.title",defaultMessage:"Applications"})),s().createElement(d.CardBody,null,s().createElement("div",{className:"pf-v5-c-form src-c-applications_form"},T.map((a=>{const n=t.applications.find((e=>e.application_type_id===a.id)),o=Boolean(n),l=Boolean(n?.paused_at),r=!l&&o,d="boolean"==typeof y[a.id]?y[a.id]:r,u=g?s().Fragment:k.Tooltip;return s().createElement(w.FormGroup,{key:a.id},s().createElement("div",{className:"src-c-application_flex"},p?s().createElement(i.Fragment,null,s().createElement(u,{...!g&&{content:(0,te.$)(e,f)}},s().createElement(R.Switch,{className:"src-c-application_switch",id:`app-switch-${a.id}`,label:a.id===le.sC&&c?le.X0:a.display_name,isChecked:d,isDisabled:n?.isDeleting||!g||Boolean(t.paused_at),onChange:(e,t)=>t?C(a.id,n?.id):A(n.id,a.id)})),Boolean(n)&&s().createElement(m.c,{className:"pf-v5-u-ml-sm src-m-clickable",app:n,showStatusText:!0}),(l||o)&&s().createElement(se,{app:n,removeApp:()=>A(n.id,a.id),addApp:()=>C(a.id,n.id)})):s().createElement(_.Skeleton,{width:"75%"})))}))))):null};var fe=a(95376),ge=a(72232),he=a(47826),ye=a.n(he);const Ee=()=>{const e=(0,o.YB)();return s().createElement(fe.EmptyState,null,s().createElement(fe.EmptyStateIcon,{icon:ye()}),s().createElement(ge.Title,{headingLevel:"h4",size:"lg"},e.formatMessage({id:"detail.noapplications.title",defaultMessage:"No connected applications"})),s().createElement(fe.EmptyStateBody,{className:"src-c-empty-state__body"},e.formatMessage({id:"detail.noapplications.description",defaultMessage:"You have not connected any applications to this source. Use the switches above to add applications."})))};var be=a(49964),ve=a.n(be);const Me=()=>{const e=(0,o.YB)(),t=(0,l.v9)((({user:e})=>e?.isOrgAdmin));return s().createElement(fe.EmptyState,null,s().createElement(fe.EmptyStateIcon,{icon:ve()}),s().createElement(ge.Title,{headingLevel:"h4",size:"lg"},e.formatMessage({id:"detail.nopermissions.title",defaultMessage:"Missing permissions"})),s().createElement(fe.EmptyStateBody,{className:"src-c-empty-state__body"},(0,te.$)(e,t)))};var Te=a(74503),Ce=a(67850),we=a(35729);const _e=e=>Promise.all([(0,O.Rj)().showSource(e.id),(0,O.Rj)().listSourceEndpoints(e.id),(0,O.ye)(e.id)]).then((async([t,a,i])=>{const s=a&&a.data&&a.data[0],n=i?.sources[0]?.applications||[];let o={source:{...e,...t},applications:n};const l=[];let r;const c=[],d=[];return n.forEach((e=>{e?.authentications?.forEach((t=>{t?.id&&(l.push((0,O.Rj)().showAuthentication(t.id)),c.push(e.id),d.push(t.id))}))})),l.length>0&&(r=await Promise.all(l),c.forEach(((e,t)=>{o.applications.find((t=>t.id===e)).authentications.push(r[t])}))),s?(0,O.Rj)().listEndpointAuthentications(s.id).then((e=>({...o,endpoints:a.data,authentications:e.data.filter((({id:e})=>!d.includes(e)))}))):o}));var Re=a(27361),ke=a.n(Re),Ae=a(36968),Ie=a.n(Ae),xe=a(32321);const Ne=(e,t)=>({title:e.formatMessage({id:"wizard.pausedApplication",defaultMessage:"{application} is paused"},{application:t}),description:e.formatMessage({id:"wizard.pausedApplicationDescription",defaultMessage:"To resume data collection for this application, switch {application} on in the <b>Applications</b> section of this page."},{application:t,b:xe.S}),variant:"default",customIcon:s().createElement(I(),null)}),Se="check-endpoint",De=({endpoints:e,authentications:t,applications:a,...i},s)=>{const n={},o=[...t||[],...a?.reduce(((e,t)=>[...e,...t.authentications]),[])||[]];let l,r;o.length>0&&o.forEach((e=>{n[`a${e.id}`]=e})),e&&e.length>0&&(l=e[0]),l&&(r=l.scheme||l.host||l.path||l.port?(0,m.Fd)(l):void 0);const c={};return a?.length>0&&a.forEach((e=>{e.extra&&Object.keys(e.extra).length>0&&(c[`a${e.id}`]={extra:e.extra})})),{source_type:s,endpoint:l,authentications:n,url:r,...Object.keys(c).length&&{applications:c},...i}},Ze=(e,t)=>!e.includes(t)&&e.push(t);var Oe=a(95290),Pe=a(5454);const Be=async(e,t,a,i,s,n)=>{n({type:"submit",values:e,editing:t});const o=new Date;try{await(0,Oe.yH)(i,((e,t)=>{const a={};return Object.keys(t).filter((e=>t[e])).forEach((t=>{Ie()(a,t,ke()(e,t))})),a})(e,t),e)}catch{return await a((0,b.il)()),void n({type:"submitFailed"})}(0,E.n)(i.source.id);let l={};const r=((e,t)=>{const a=[];return Object.keys(t).forEach((i=>{if(t[i]){const t=i.match(/.a\d+/)?.[0]?.replace(".a","");i.startsWith("applications")&&Ze(a,t),i.startsWith("authentications")&&e.applications.forEach((e=>e.authentications.forEach((({id:i,resource_type:s})=>s&&i===t&&Ze(a,"Application"===s?e.id:`${Se}-${e.id}`))))),(i.startsWith("url")||i.startsWith("endpoint"))&&e.applications.forEach((e=>e.authentications.forEach((({resource_type:t})=>"Endpoint"===t&&Ze(a,`${Se}-${e.id}`)))))}})),a.filter(Boolean)})(i,t),c=[];let d;if(r.forEach((e=>{e.includes(Se)?c.push((0,Pe.h)(i.endpoints[0].id,void 0,void 0,"getEndpoint",o).then((t=>({...t,id:e.replace(`${Se}-`,"")})))):c.push((0,Pe.h)(e,void 0,void 0,void 0,o))})),c.length>0){try{d=await Promise.all(c)}catch(e){return await a((0,b.il)()),void n({type:"submitFailed"})}d.forEach((({availability_status:e,availability_status_error:t,id:a})=>{e===m.Rl&&(l[a]={title:s.formatMessage({id:"wizard.successEditToastTitle",defaultMessage:"Application credentials were edited successfully."}),description:t,variant:"success"}),e===m.nZ&&(l[a]={title:s.formatMessage({id:"wizard.failEditToastTitle",defaultMessage:"Edit application credentials failed."}),description:t,variant:"danger"}),e&&e!==m.Bj||(l[a]={title:s.formatMessage({id:"wizard.timeoutEditToastTitle",defaultMessage:"Edit in progress"}),description:s.formatMessage({id:"wizard.timeoutEditToastDescription",defaultMessage:"We are still working to confirm your updated credentials. Changes will be reflected in this table when complete."}),variant:"warning"})}))}await a((0,b.il)()),n({type:"submitFinished",messages:l})};var Fe=a(15185),Le=a(96354),je=a(64124),Ue=a(58647),ze=a(50142);const We=e=>e.split(".").pop(),Ge=(e,t,a,i="generic")=>ke()(ze.Z,[e,"authentication",t,i,a],{}),Ye=(e,t)=>e?.fields?.filter((e=>t&&e.stepKey===t))||[],$e=(e,t,a,i,n)=>{let l=e,r=(l||0===l.length)&&a===le.Qr&&n?.length>0;return r&&(l=[{authtype:"token"}]),l&&0!==l.length&&t.schema&&t.schema.authentication?l.map((e=>{const n=t?.schema?.authentication?.find((({type:t})=>t===e.authtype));if(!n)return[];const l=((e,t,a="generic")=>ke()(ze.Z,[e,"authentication",t,a,"includeStepKeyFields"],[]))(t.name,e.authtype,a),c=((e,t,a="generic")=>ke()(ze.Z,[e,"authentication",t,a,"additionalSteps"],[]))(t.name,e.authtype,a)?.map((e=>({...e,fields:[...e.fields,...Ye(n,e.name)]}))).map((({fields:e})=>e.map((({name:e})=>e)))).flatMap((e=>e));return((e,t,a,i)=>e.map((e=>{let n=e.name.startsWith("authentication")?((e,t)=>`authentications.a${t}.${e.replace("authentication.","")}`)(e.name,t):e.name.startsWith("application")?((e,t)=>`applications.a${t}.${e.replace("application.","")}`)(e.name,a):e.name;const l={...e,name:n},r="password"===We(l.name),c="bucket_region"===We(l.name)&&l.label.includes("AWS"),d="external_id"===We(l.name),p="source_ref"===We(l.name);return r&&(l.component="authentication"),c&&(l.loadOptions=()=>(0,Ue.j)().then((e=>e.map((e=>({value:e,label:e})))))),d&&(l.hideField=!1,l.label=s().createElement(o._H,{id:"cost.arn.externalId",defaultMessage:"External ID"}),l.component="clipboard-copy",l.isReadOnly=!0),p&&i&&(l.isDisabled=!0,l.helperText="Value cannot be modified since it has been set using the API"),l})))(n.fields.filter((e=>c.includes(e.name)||!c.length&&!e.stepKey||e.stepKey&&l.includes(e.stepKey))).map((i=>({...i,...Ge(t.name,e.authtype,i.name,a)}))),e.id,i,r)})):[]},Ke=(e,t)=>ke()(ze.Z,[e,"endpoint",t],{});var Ve=a(48880),He=a(5904);const qe=({name:e})=>{const t=(0,Ve.default)(),{variant:a,title:i,description:n,customIcon:o}=ke()(t.getState().values,e);return s().createElement(He.Alert,{variant:a,isInline:!0,title:i,customIcon:o},n)};qe.propTypes={name:c().string.isRequired};const Xe=qe;var Qe=a(46500),Je=a.n(Qe);const et=({applicationName:e,message:t,Icon:a})=>{const i=(0,o.YB)();return s().createElement(Te.Bullseye,null,s().createElement(fe.EmptyState,{variant:fe.EmptyStateVariant.small},s().createElement(fe.EmptyStateIcon,{icon:a}),s().createElement(ge.Title,{headingLevel:"h2",size:"lg"},i.formatMessage({id:"resourceTable.emptyStateTitle",defaultMessage:"No application resources"})),s().createElement(fe.EmptyStateBody,null,i.formatMessage(t,{applicationName:e}))))};et.propTypes={applicationName:c().string.isRequired,message:c().shape({id:c().string.isRequired,defaultMessage:c().string.isRequired}),Icon:c().elementType},et.defaultProps={message:{id:"resourceTable.emptyStateDescription",defaultMessage:"{applicationName} resources will appear here when created."},Icon:Je()};const tt=et,at=(e,t,a,i,s)=>[{component:Le.Z.TABS,name:"app-tabs",isBox:!0,fields:[...e.map((e=>{const n=a.find((({id:t})=>t===e.application_type_id));let o=((e,t,a,i)=>[{name:`messages.${a.id}`,component:"description",Content:Xe,condition:{when:({name:e})=>e,isNotEmpty:!0}},...$e(a.authentications?.filter((e=>Object.keys(e).length>1)),t,e?.name,a.id,i)])(n,t,e,s);if(e.authentications.find((({resource_type:e})=>"Endpoint"===e))){const e=(e=>{if(!e.schema||!e.schema.endpoint||e.schema.endpoint.hidden)return;const t=e.schema.endpoint.fields.map((t=>({...t,...Ke(e.name,t.name)}))),a={component:Le.Z.SUB_FORM,name:"endpoint"};if("ansible-tower"===e.name){const e=t.find((({name:e})=>"url"===e));return{...a,fields:[{component:Le.Z.SUB_FORM,name:"receptor_node_group",condition:{when:"endpoint.receptor_node",isNotEmpty:!0},fields:[{...e,isRequired:!1,validate:e?.validate?.filter((e=>e.type!==je.Z.REQUIRED))}]},{component:Le.Z.SUB_FORM,name:"hostname_group",condition:{when:"endpoint.receptor_node",isEmpty:!0},fields:t}]}}return{...a,fields:t}})(t);o=[o[0],[...o[1]||[],...e?[e]:[]]]}return 1===o.length?o.push({component:"description",name:"no-credentials",Content:tt,message:{id:"resourceTable.emptyStateDescription",defaultMessage:"{applicationName} resources will be added here when created."},applicationName:n?.display_name,Icon:ye()}):e.paused_at&&(o=[o[0],o[1].map((e=>({...e,isDisabled:!0})))]),{name:n?.id,title:n?.id===le.sC&&i?le.X0:n?.display_name,fields:o}}))]}],it=(e,t,a,i,s)=>({description:i.formatMessage({id:"sources.editFormDescripiton",defaultMessage:"Use the form fields to edit application credentials."}),fields:at(e.applications,t,a,s,e?.source?.source_ref)}),st={loading:!0,source:void 0,initialValues:{},sourceType:void 0,schema:void 0,isSubmitting:!1,initialLoad:!0,submitError:!1,submitMessages:void 0},nt=(e,{type:t,source:a,sourceType:i,appTypes:s,intl:n,values:o,editing:l,messages:r,hcsEnrolled:c})=>{switch(t){case"createForm":return{...e,sourceType:i,initialValues:De(e.source,i.product_name),schema:it(e.source,i,s,n,c),loading:!1};case"setSource":return{...e,messages:{...r,...e.submitMessages},source:a,initialLoad:!1,submitMessages:void 0};case"submit":return{...e,isSubmitting:!0,submitError:!1,values:o,editing:l};case"submitFinished":return{...e,isSubmitting:!1,source:a,submitMessages:r};case"submitFailed":return{...e,isSubmitting:!1,submitError:!0,messages:void 0};case"sourceChanged":return{...e,initialLoad:!0,loading:!0};default:return e}};var ot=a(26946);const lt=()=>{const e=(0,o.YB)();return s().createElement(ot.Z,{customText:e.formatMessage({id:"sources.editSubmittingTitle",defaultMessage:"Validating edited source credentials"})})};var rt=a(64380),ct=a(27552);const dt=({onRetry:e})=>{const t=(0,o.YB)();return s().createElement(ct.Z,{onClose:e,customText:t.formatMessage({id:"sources.editErrorDescription",defaultMessage:"There was a problem while trying to edit your source. Please try again. If the error persists, open a support case."}),secondaryActions:s().createElement(rt.Text,{component:"a",target:"_blank",href:"https://access.redhat.com/support/cases/#/case/new/open-case?caseCreate=true",rel:"noopener noreferrer"},t.formatMessage({id:"sources.openTicket",defaultMessage:"Open a support case"})),returnButtonTitle:t.formatMessage({id:"sources.retryText",defaultMessage:"Retry"})})};dt.propTypes={onRetry:c().func.isRequired};const pt=dt;var ut=a(2501),mt=a(81169);ut.ClipboardCopy.propTypes={label:c().string};const ft=e=>{const{label:t,input:a}=(0,mt.Z)(e);return s().createElement(w.FormGroup,{label:t},s().createElement(ut.ClipboardCopy,{label:t,isReadOnly:!0},a.value))},gt=()=>{const[e,t]=(0,i.useReducer)(nt,st),a=(0,u.L)(),n=(0,Fe.W)(),{loading:r,editing:c,source:d,initialValues:p,schema:f,isSubmitting:g,initialLoad:h,message:E,messages:b,submitError:v,values:M}=e,T=(0,o.YB)(),{sourceTypes:C,appTypes:w,sourceTypesLoaded:_,appTypesLoaded:R}=(0,l.v9)((({sources:e})=>e),l.wU),k=(0,l.v9)((({sources:e})=>e.hcsEnrolled),l.wU),A=(0,l.v9)((({sources:e})=>e.hcsEnrolledLoaded),l.wU),I=(0,l.I0)();(0,i.useEffect)((()=>{h||t({type:"sourceChanged"})}),[a,a?.applications?.length]),(0,i.useEffect)((()=>{a&&h&&R&&_e(a).then((e=>{const a=((e,t,a)=>{const i={};return e.applications.forEach((({id:e,application_type_id:s,availability_status_error:n,availability_status:o,paused_at:l})=>{if(l){const n=a.find((e=>e.id===s))?.display_name||e;i[e]=Ne(t,n)}else o===m.nZ&&(i[e]={title:t.formatMessage({id:"wizard.failEditToastTitleBeforeEdit",defaultMessage:"This application is unavailable"}),description:n,variant:"danger"})})),e.endpoints?.[0]?.availability_status_error&&e.applications.map((e=>e.authentications.find((({resource_type:t})=>!e.paused_at&&"Endpoint"===t))?e.id:void 0)).filter(Boolean).forEach((a=>{i[a]={title:t.formatMessage({id:"wizard.failEditToastTitleBeforeEdit",defaultMessage:"This application is unavailable"}),description:e.endpoints?.[0]?.availability_status_error,variant:"danger"}})),i})(e,T,w);t({type:"setSource",source:e,messages:a})}))}),[a,n,R,h]),(0,i.useEffect)((()=>{if(d&&R&&_){const e=C.find((({id:e})=>e===d.source.source_type_id));t({type:"createForm",sourceType:e,source:d,appTypes:w,hcsEnrolled:k,intl:T})}}),[R,d,_,A]);const x=!A||!R||!_||r;if(v)return s().createElement(pt,{onRetry:()=>Be(M,c,I,d,T,t)});if(g)return s().createElement(lt,null);if(x)return s().createElement(Te.Bullseye,{className:"pf-v5-u-m-2xl"},s().createElement(y.Spinner,null));const N=d.source.paused_at||d.applications.every((({paused_at:e})=>e));return s().createElement(we.Z,{schema:f,onSubmit:(e,a)=>Be(e,a.getState().dirtyFields,I,d,T,t),FormTemplate:e=>s().createElement(Ce.ZP,{canReset:!0,showFormControls:!N,submitLabel:"Save changes",disableSubmit:["pristine","invalid"],...e}),clearedValue:null,initialValues:{...p,...!a.paused_at&&{message:E},...!a.paused_at&&{messages:b}},componentMapper:{"clipboard-copy":ft}})},ht=()=>{const e=(0,o.YB)(),t=(0,u.L)(),a=(0,D.E)();return s().createElement(d.Card,{className:"card pf-v5-u-m-lg pf-v5-u-mt-0"},s().createElement(d.CardTitle,null,e.formatMessage({id:"detail.resources.title",defaultMessage:"Manage connected applications"})),s().createElement(d.CardBody,null,!a&&s().createElement(Me,null),a&&0===t.applications.length&&s().createElement(Ee,null),a&&t.applications.length>0&&s().createElement(gt,null)))};var yt=a(40423),Et=a(63663),bt=a(63456),vt=a(86304),Mt=a(75629);const Tt=()=>{const e=(0,o.YB)(),t=(0,u.L)();return s().createElement(Mt.Breadcrumb,null,s().createElement(Mt.BreadcrumbItem,{component:({href:e,...t})=>s().createElement(ae.Z,{to:e,...t}),to:S._j.sources.path},e.formatMessage({id:"sources.sources",defaultMessage:"Integrations"})),s().createElement(Mt.BreadcrumbItem,{isActive:!0},t.name))},Ct=()=>{const[e,t]=(0,i.useState)(!1),a=(0,o.YB)(),n=(0,u.L)(),r=(0,D.E)(),c=(0,l.I0)(),d=(0,l.v9)((({user:e})=>e.isOrgAdmin)),p=e=>()=>{t(!1),e()},m=a.formatMessage({id:"sources.pausedSourceAction",defaultMessage:"You cannot perform this action on a paused integration."}),f=(0,te.Z)(a,d),g={...f,tooltip:m,tooltipProps:{...f.tooltipProps,content:m}};return s().createElement(H,{toggle:s().createElement(ee,{onToggle:()=>t(!e),id:"toggle-id-6"}),isOpen:e,isPlain:!0,position:"right",dropdownItems:[n.paused_at?s().createElement(U,{...!r&&f,key:"unpause",onClick:p((()=>c((0,b.AX)(n.id,n.name,a)))),description:a.formatMessage({id:"detail.resume.description",defaultMessage:"Unpause data collection for this integration"})},a.formatMessage({id:"detail.resume.button",defaultMessage:"Resume"})):s().createElement(U,{...!r&&f,key:"pause",onClick:p((()=>c((0,b.xz)(n.id,n.name,a)))),description:a.formatMessage({id:"detail.pause.description",defaultMessage:"Temporarily disable data collection"})},a.formatMessage({id:"detail.pause.button",defaultMessage:"Pause"})),s().createElement(U,{...!r&&f,key:"remove",to:(0,S.yS)(S._j.sourcesDetailRemove.path,n.id),component:ae.Z,description:a.formatMessage({id:"detail.remove.description",defaultMessage:"Permanently delete this integration and all collected data"})},a.formatMessage({id:"detail.remove.button",defaultMessage:"Remove"})),s().createElement(U,{...!r&&f,...n.paused_at&&g,key:"rename",to:(0,S.yS)(S._j.sourcesDetailRename.path,n.id),component:ae.Z},a.formatMessage({id:"detail.rename.button",defaultMessage:"Rename"}))]})},wt=()=>{const e=(0,o.YB)(),t=(0,u.L)(),a=(0,l.v9)((({sources:e})=>e.appTypes),l.wU),i=(0,l.v9)((({sources:e})=>e.sourceTypes),l.wU);return s().createElement(bt.Z,null,s().createElement(Tt,null),s().createElement(vt.Flex,{className:"pf-v5-u-mb-sm"},s().createElement(vt.FlexItem,null,s().createElement(ge.Title,{headingLevel:"h1",size:"2xl"},t.name)),s().createElement(vt.FlexItem,null,(0,m.BN)(void 0,t,{appTypes:a,sourceTypes:i})),s().createElement(vt.FlexItem,{align:{default:"alignRight"}},s().createElement(Ct,null))),s().createElement(rt.TextContent,null,s().createElement(rt.Text,null,e.formatMessage({id:"detail.description",defaultMessage:"View details and manage connections for this integration."}))))};var _t=a(21081),Rt=a(49004),kt=a(34844),At=a(91397);const It=e=>[e.formatMessage({id:"resourceTable.resourceType",defaultMessage:"Resource type"}),e.formatMessage({id:"resourceTable.resourceValue",defaultMessage:"Value"})],xt=(e,t,a)=>e.applications.reduce(((i,n)=>{const o=t.find((({id:e})=>e===n.application_type_id)),l=(r=$e(n.authentications?.filter((e=>Object.keys(e).length>1)),a,o?.name,n.id),c=De(e,a.product_name),r.flatMap((e=>e)).map((e=>!e.hideField&&[s().createElement(s().Fragment,{key:"label"},e.label),ke()(c,e.name)])).filter(Boolean));var r,c;return{...i,[n.id]:l}}),{}),Nt=(e,{type:t,intl:a,source:i,activeTab:s,appTypes:n,sourceType:o})=>{switch(t){case"loaded":return{...e,columns:It(a),applicationsRows:xt(i,n,o),loading:!1,activeTab:i.applications[0].id};case"switchTab":return{...e,activeTab:s};case"setLoading":return{...e,loading:!0}}},St=()=>{const e=(0,o.YB)(),t=(0,u.L)(),a=(0,Fe.W)(),{sourceTypes:n,appTypes:r,sourceTypesLoaded:c,appTypesLoaded:p}=(0,l.v9)((({sources:e})=>e),l.wU),[{activeTab:m,loading:f,columns:g,applicationsRows:h},E]=(0,i.useReducer)(Nt,(e=>({loading:Boolean(e.applications?.length),columns:[],applicationsRows:{},activeTab:0}))(t));return(0,i.useEffect)((()=>{t&&a&&p&&c&&t?.applications?.length&&(E({type:"setLoading"}),_e(t).then((t=>{const a=n.find((({id:e})=>e===t.source.source_type_id));E({type:"loaded",source:t,intl:e,sourceType:a,appTypes:r})})))}),[t?.applications?.length,a,p,c]),s().createElement(d.Card,{className:"pf-v5-u-m-lg pf-v5-u-mt-0"},s().createElement(d.CardTitle,null,e.formatMessage({id:"resourceTable.title",defaultMessage:"Connected application resources"})),s().createElement(d.CardBody,null,f&&s().createElement(Te.Bullseye,{className:"pf-v5-u-m-2xl"},s().createElement(y.Spinner,null)),!f&&!t.applications.length&&s().createElement(Ee,null),!f&&t.applications.length>0&&s().createElement(s().Fragment,null,s().createElement(rt.Text,{className:"pf-v5-u-mb-md"},e.formatMessage({id:"resourceTable.description",defaultMessage:"View resources for your connected applications."})),s().createElement(At.Tabs,{isBox:!0,activeKey:m,onSelect:(e,t)=>E({type:"switchTab",activeTab:t})},t.applications.map((a=>{const i=r.find((({id:e})=>e===a.application_type_id))?.display_name||a.application_type_id,{description:n,...o}=a.paused_at?Ne(e,i):{};return s().createElement(At.Tab,{eventKey:a.id,key:a.id,title:s().createElement(At.TabTitleText,null,i)},a.paused_at&&!t.paused_at&&s().createElement(He.Alert,{isInline:!0,className:"pf-v5-u-mt-lg",...o},n),h[a.id]?.length?s().createElement(_t.i,{"aria-label":e.formatMessage({id:"resourceTable.title",defaultMessage:"Connected application resources"}),variant:"compact",cells:g,rows:h[a.id],className:"pf-v5-u-mt-md"},s().createElement(Rt.x,null),s().createElement(kt.R,null)):s().createElement(tt,{applicationName:i}))}))))))},Dt=()=>{const e=(0,o.YB)(),t=(0,D.E)(),a=(0,l.I0)(),i=(0,u.L)(),r=(0,l.v9)((({user:e})=>e.isOrgAdmin));return s().createElement(n.GridItem,{md:12,className:"pf-v5-u-m-lg pf-v5-u-mb-0"},s().createElement(He.Alert,{customIcon:s().createElement(I(),null),variant:"default",isInline:!0,title:e.formatMessage({id:"source.detail.pausedTitle",defaultMessage:"Integration paused"}),actionLinks:t?s().createElement(He.AlertActionLink,{onClick:()=>a((0,b.AX)(i.id,i.name,e))},e.formatMessage({id:"source.detail.resumeConnection",defaultMessage:"Resume connection"})):s().createElement(k.Tooltip,{content:(0,te.$)(e,r)},s().createElement(He.AlertActionLink,{isDisabled:!0},e.formatMessage({id:"source.detail.resumeConnection",defaultMessage:"Resume connection"})))},e.formatMessage({id:"source.detail.pausedDescription",defaultMessage:"No data is being collected for this integration. Turn the integration back on to reestablish connection and data collection. Previous credentials will be restored and application connections will continue as seen on this page."})))};var Zt=a(48947);const Ot=()=>{const e=(0,u.L)();if(!e)return s().createElement(s().Fragment,null,s().createElement(Et.X6,null),s().createElement(yt.Z,null));const t=(0,Z.Z)(e);return s().createElement("div",{className:"src-c-detail-page"},s().createElement(i.Suspense,{fallback:null},s().createElement(Zt.Outlet,{context:{backPath:(0,S.yS)(S._j.sourcesDetail.path,e.id)}})),s().createElement(wt,null),e.paused_at&&s().createElement(Dt,null),s().createElement(n.Grid,null,s().createElement(n.GridItem,{md:"6"},s().createElement(C,null)),s().createElement(n.GridItem,{md:"6"},s().createElement(me,null)),s().createElement(n.GridItem,{md:"12"},t?s().createElement(St,null):s().createElement(ht,null))))}},70642:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(64072);const s=e=>e?.app_creation_workflow===i.b},8572:()=>{},98379:()=>{},91993:()=>{},44690:()=>{}}]);
//# sourceMappingURL=../sourcemaps/sourceDetail.0abc2a5817272a80f1d4a963cfca6874.js.map