{"version":3,"sources":["webpack://sources-ui/./src/api/checkSourceStatus.js","webpack://sources-ui/./src/api/doLoadSourceForEdit.js","webpack://sources-ui/./src/api/doUpdateSource.js","webpack://sources-ui/./src/components/Authentication.js","webpack://sources-ui/./src/components/SourceDetail/ApplicationResourcesCard.js","webpack://sources-ui/./src/components/SourceDetail/ApplicationStatusLabel.js","webpack://sources-ui/./src/components/SourceDetail/ApplicationsCard.js","webpack://sources-ui/./src/components/SourceDetail/AvailabilityChecker.js","webpack://sources-ui/./src/components/SourceDetail/Breadcrumbs.js","webpack://sources-ui/./src/components/SourceDetail/DetailHeader.js","webpack://sources-ui/./src/components/SourceDetail/NoApplications.js","webpack://sources-ui/./src/components/SourceDetail/NoPermissions.js","webpack://sources-ui/./src/components/SourceDetail/SourceKebab.js","webpack://sources-ui/./src/components/SourceDetail/SourceSummaryCard.js","webpack://sources-ui/./src/components/SourceEditForm/ErroredModal.js","webpack://sources-ui/./src/components/SourceEditForm/SourceEditModal.js","webpack://sources-ui/./src/components/SourceEditForm/SubmittingModal.js","webpack://sources-ui/./src/components/SourceEditForm/helpers.js","webpack://sources-ui/./src/components/SourceEditForm/onSubmit.js","webpack://sources-ui/./src/components/SourceEditForm/parser/endpoint.js","webpack://sources-ui/./src/components/SourceEditForm/parser/parseSourceToSchema.js","webpack://sources-ui/./src/components/SourceEditForm/reducer.js","webpack://sources-ui/./src/pages/Detail.js","webpack://sources-ui/./src/utilities/SourcesFormRenderer.js"],"names":["checkSourceStatus","id","getSourcesApi","checkAvailabilitySource","doLoadSourceForEdit","source","appTypes","sourceTypes","Promise","all","showSource","listSourceEndpoints","doLoadApplicationsForEdit","then","sourceData","endpoints","applications","endpoint","data","apps","sources","basicValues","promises","addToApp","appAuthenticationIds","forEach","app","authentications","auth","push","showAuthentication","length","appAuths","index","find","listEndpointAuthentications","filter","includes","parseUrl","url","scheme","host","port","path","u","URL","protocol","replace","hostname","defaultPort","pathname","error","urlOrHost","formData","doUpdateSource","values","updateSource","endPointPort","parseInt","endpointData","isNaN","undefined","updateEndpoint","Object","keys","key","idWithoutPrefix","updateAuthentication","updateApplication","extra","Authentication","rest","formOptions","useFormApi","getState","name","match","authenticationId","isEditing","authentication","isModified","get","useState","edited","setEdited","firstClick","useRef","mounted","useEffect","current","pristine","doNotRequirePassword","validate","type","validatorTypes","componentProps","resolveProps","validated","helperText","label","ApplicationResourcesCard","intl","useIntl","useSource","hasRightAccess","useHasWritePermissions","formatMessage","defaultMessage","ApplicationStatusLabel","useSelector","finalApp","getAppStatus","display_name","getStatusTooltipTextApp","availability_status","availability_status_error","getStatusColor","getStatusText","propTypes","PropTypes","string","isRequired","descriptionMapper","APP_NAMES","ApplicationsCard","useHistory","shallowEqual","sourceType","source_type_id","sourceTypeName","filteredAppTypes","supported_source_types","filterApps","map","connectedApp","application_type_id","description","Boolean","isDeleting","value","replaceRouteId","routes","AvailabilityChecker","dispatch","useDispatch","loading","setLoading","addMessage","title","variant","Breadcrumbs","href","props","DetailHeader","availabilityFormatter","NoApplications","PlusCircleIcon","NoPermissions","PrivateIcon","SourceKebab","isOpen","setOpen","tooltip","disabledProps","isDisabled","className","SourceSummaryCard","sourceTypeFormatter","last_checked_at","last_available_at","dateFormatter","created_at","updated_at","ErroredModal","onRetry","SourceEditModal","useReducer","reducer","initialState","state","setState","sourceRedux","isLoaded","useIsLoaded","editing","initialValues","schema","isSubmitting","initialLoad","message","messages","submitError","sourceTypesLoaded","appTypesLoaded","prepareMessages","isLoading","onSubmit","formApi","dirtyFields","SubmittingModal","CHECK_ENDPOINT_COMMAND","selectOnlyEditedValues","filteredValues","set","prepareInitialValues","auhenticationsFinal","mergeAuths","reduce","acc","curr","endpointToUrl","applicationsFinal","source_type","addIfUnique","array","item","getEditedApplications","editedApplications","editedFields","editedId","startsWith","resource_type","UNAVAILABLE","applicationsUsingEndpoint","startDate","Date","loadEntities","checkApplications","checkInfo","checkAppAvailability","statusResults","AVAILABLE","getEnhancedEndpointField","hardcodedSchemas","endpointFields","hidden","schemaAuth","enhancedFields","fields","field","modifiedFields","subForm","component","componentTypes","condition","when","isNotEmpty","validation","isEmpty","parseSourceToSchema","applicationsFields","product_name","SourceRemoveModal","lazy","AddApplication","RemoveAppModal","SourceRenameModal","Detail","backPath","SourcesFormRenderer","FormTemplate","componentMapper","mapperExtension"],"mappings":"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","file":"js/sourceDetail.fcec1f911b05d281a992.js","sourcesContent":["import { getSourcesApi } from './entities';\n\nexport const checkSourceStatus = (id) =>\n  getSourcesApi()\n    .checkAvailabilitySource(id)\n    .catch(() => {});\n\nexport default checkSourceStatus;\n","import { getSourcesApi, doLoadApplicationsForEdit } from './entities';\n\nexport const doLoadSourceForEdit = (source, appTypes, sourceTypes) =>\n  Promise.all([\n    getSourcesApi().showSource(source.id),\n    getSourcesApi().listSourceEndpoints(source.id),\n    doLoadApplicationsForEdit(source.id, appTypes, sourceTypes),\n  ]).then(async ([sourceData, endpoints, applications]) => {\n    const endpoint = endpoints && endpoints.data && endpoints.data[0];\n\n    const apps = applications?.sources[0]?.applications || [];\n\n    let basicValues = {\n      source: {\n        ...source,\n        ...sourceData,\n      },\n      applications: apps,\n    };\n\n    const promises = [];\n    let appAuths;\n    const addToApp = [];\n    const appAuthenticationIds = [];\n\n    apps.forEach((app) => {\n      app?.authentications?.forEach((auth) => {\n        if (auth?.id) {\n          promises.push(getSourcesApi().showAuthentication(auth.id));\n          addToApp.push(app.id);\n          appAuthenticationIds.push(auth.id);\n        }\n      });\n    });\n\n    if (promises.length > 0) {\n      appAuths = await Promise.all(promises);\n\n      addToApp.forEach((id, index) => {\n        basicValues.applications.find((app) => app.id === id).authentications.push(appAuths[index]);\n      });\n    }\n\n    if (!endpoint) {\n      return basicValues;\n    }\n\n    return getSourcesApi()\n      .listEndpointAuthentications(endpoint.id)\n      .then((authentications) => ({\n        ...basicValues,\n        endpoints: endpoints.data,\n        authentications: authentications.data.filter(({ id }) => !appAuthenticationIds.includes(id)),\n      }));\n  });\n","import { defaultPort } from '../views/formatters';\nimport { getSourcesApi } from './entities';\n\nexport const parseUrl = (url) => {\n  if (url === null) {\n    return {\n      scheme: null,\n      host: null,\n      port: null,\n      path: null,\n    };\n  }\n\n  if (!url) {\n    return {};\n  }\n\n  try {\n    const u = new URL(url);\n    const scheme = u.protocol.replace(/:$/, '');\n\n    return {\n      scheme,\n      host: u.hostname,\n      port: u.port === '' ? defaultPort(scheme) : u.port,\n      path: u.pathname,\n    };\n  } catch (error) {\n    return {};\n  }\n};\n\nexport const urlOrHost = (formData) =>\n  formData.url || formData.url === null ? parseUrl(formData.url) : formData.endpoint ? formData.endpoint : formData;\n\nexport const doUpdateSource = (source, formData, values) => {\n  const promises = [];\n\n  if (formData.source) {\n    promises.push(getSourcesApi().updateSource(source.source.id, formData.source));\n  }\n\n  if (formData.endpoint || formData.url || formData.url === null) {\n    const { scheme, host, port, path } = urlOrHost(formData);\n    const endPointPort = port === null ? null : parseInt(port, 10);\n\n    const endpointData = {\n      scheme,\n      host,\n      path,\n      port: endPointPort === null ? null : isNaN(endPointPort) ? undefined : endPointPort,\n      ...formData.endpoint,\n    };\n\n    promises.push(getSourcesApi().updateEndpoint(source.endpoints[0].id, endpointData));\n  }\n\n  if (formData.authentications) {\n    Object.keys(formData.authentications).forEach((key) => {\n      const idWithoutPrefix = key.replace('a', '');\n\n      promises.push(getSourcesApi().updateAuthentication(idWithoutPrefix, formData.authentications[key]));\n    });\n  }\n\n  if (formData.applications) {\n    Object.keys(formData.applications).forEach((key) => {\n      const idWithoutPrefix = key.replace('a', '');\n\n      promises.push(getSourcesApi().updateApplication(idWithoutPrefix, { extra: values.applications[key].extra }));\n    });\n  }\n\n  return Promise.all(promises);\n};\n","import React, { useState, useEffect, useRef } from 'react';\nimport get from 'lodash/get';\n\nimport { FormGroup } from '@patternfly/react-core/dist/esm/components/Form/FormGroup';\nimport { TextInput } from '@patternfly/react-core/dist/esm/components/TextInput/TextInput';\n\nimport TextField from '@data-driven-forms/pf4-component-mapper/dist/esm/text-field';\nimport useFormApi from '@data-driven-forms/react-form-renderer/dist/esm/use-form-api';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/dist/esm/validator-types';\nimport validated from '@redhat-cloud-services/frontend-components-sources/esm/validated';\n\nconst Authentication = (rest) => {\n  const formOptions = useFormApi();\n  const values = formOptions.getState().values;\n\n  const [authenticationId] = rest?.name?.match(/\\d+/) || [];\n  const isEditing = authenticationId || values.authentication?.id;\n\n  // If there is any value, the field is modified (password is always empty on start)\n  let isModified = get(values, rest.name);\n\n  const [edited, setEdited] = useState(!isEditing || isModified);\n  const firstClick = useRef(true);\n  const mounted = useRef(false);\n\n  useEffect(() => {\n    if (mounted.current) {\n      // reset on restart\n      if (!firstClick.current && formOptions.getState().pristine) {\n        setEdited(false);\n        firstClick.current = true;\n      }\n\n      if (edited) {\n        firstClick.current = false;\n      }\n    }\n  });\n\n  useEffect(() => {\n    mounted.current = true;\n  }, []);\n\n  const doNotRequirePassword = rest.validate && rest.validate.filter(({ type }) => type !== validatorTypes.REQUIRED);\n\n  const componentProps = {\n    ...rest,\n    ...(isEditing\n      ? {\n          validate: doNotRequirePassword,\n          resolveProps: validated,\n        }\n      : {}),\n  };\n\n  if (!edited && isEditing) {\n    return (\n      <FormGroup helperText={componentProps.helperText} label={componentProps.label} onFocus={() => setEdited(true)} isRequired>\n        <TextInput aria-label=\"pre-filled-authentication\" value=\"•••••••••••••\" />\n      </FormGroup>\n    );\n  }\n\n  return <TextField {...componentProps} autoFocus={true} />;\n};\n\nexport default Authentication;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\n\nimport { Card } from '@patternfly/react-core/dist/esm/components/Card/Card';\nimport { CardBody } from '@patternfly/react-core/dist/esm/components/Card/CardBody';\nimport { CardTitle } from '@patternfly/react-core/dist/esm/components/Card/CardTitle';\n\nimport NoApplications from './NoApplications';\nimport { useHasWritePermissions } from '../../hooks/useHasWritePermissions';\nimport { useSource } from '../../hooks/useSource';\nimport NoPermissions from './NoPermissions';\nimport SourceEditModal from '../SourceEditForm/SourceEditModal';\n\nconst ApplicationResourcesCard = () => {\n  const intl = useIntl();\n  const source = useSource();\n  const hasRightAccess = useHasWritePermissions();\n\n  return (\n    <Card className=\"card pf-u-m-lg pf-u-mt-0\">\n      <CardTitle>\n        {intl.formatMessage({\n          id: 'detail.resources.title',\n          defaultMessage: 'Manage connected applications',\n        })}\n      </CardTitle>\n      <CardBody>\n        {!hasRightAccess && <NoPermissions />}\n        {hasRightAccess && source.applications.length === 0 && <NoApplications />}\n        {hasRightAccess && source.applications.length > 0 && <SourceEditModal />}\n      </CardBody>\n    </Card>\n  );\n};\n\nexport default ApplicationResourcesCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useIntl } from 'react-intl';\nimport { useSelector } from 'react-redux';\n\nimport { Label } from '@patternfly/react-core/dist/esm/components/Label/Label';\nimport { Popover } from '@patternfly/react-core/dist/esm/components/Popover/Popover';\n\nimport { useSource } from '../../hooks/useSource';\nimport { getAppStatus, getStatusTooltipTextApp, getStatusColor, getStatusText } from '../../views/formatters';\n\nconst ApplicationStatusLabel = ({ app }) => {\n  const intl = useIntl();\n  const source = useSource();\n\n  const appTypes = useSelector(({ sources }) => sources.appTypes);\n\n  const finalApp = getAppStatus(app, source, appTypes);\n\n  return (\n    <Popover\n      showClose={false}\n      aria-label={`${finalApp.display_name} popover`}\n      bodyContent={getStatusTooltipTextApp(finalApp.availability_status, finalApp.availability_status_error, intl)}\n    >\n      <Label className=\"pf-u-ml-sm clickable\" color={getStatusColor(finalApp.availability_status)}>\n        {getStatusText(finalApp.availability_status)}\n      </Label>\n    </Popover>\n  );\n};\n\nApplicationStatusLabel.propTypes = {\n  app: PropTypes.shape({\n    availability_status: PropTypes.string,\n    availability_status_error: PropTypes.string,\n    display_name: PropTypes.string,\n  }).isRequired,\n};\n\nexport default ApplicationStatusLabel;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n\nimport { Card } from '@patternfly/react-core/dist/esm/components/Card/Card';\nimport { CardBody } from '@patternfly/react-core/dist/esm/components/Card/CardBody';\nimport { CardTitle } from '@patternfly/react-core/dist/esm/components/Card/CardTitle';\nimport { Switch } from '@patternfly/react-core/dist/esm/components/Switch/Switch';\nimport { FormGroup } from '@patternfly/react-core/dist/esm/components/Form/FormGroup';\n\nimport filterApps from '@redhat-cloud-services/frontend-components-sources/esm/filterApps';\n\nimport { useSource } from '../../hooks/useSource';\nimport { replaceRouteId, routes } from '../../Routes';\nimport { useHasWritePermissions } from '../../hooks/useHasWritePermissions';\nimport ApplicationStatusLabel from './ApplicationStatusLabel';\nimport { APP_NAMES } from '../SourceEditForm/parser/application';\n\nconst descriptionMapper = (name, intl) =>\n  ({\n    [APP_NAMES.COST_MANAGAMENT]: intl.formatMessage({\n      id: 'cost.app.description',\n      defaultMessage: 'Analyze, forecast, and optimize your Red Hat OpenShift cluster costs in hybrid cloud environments.',\n    }),\n    [APP_NAMES.CLOUD_METER]: intl.formatMessage({\n      id: 'cost.app.description',\n      defaultMessage:\n        'Includes access to Red Hat Gold Images, high precision subscription watch data, autoregistration, and Red Hat Connector.',\n    }),\n  }[name]);\n\nconst ApplicationsCard = () => {\n  const intl = useIntl();\n  const source = useSource();\n  const { push } = useHistory();\n  const sourceTypes = useSelector(({ sources }) => sources.sourceTypes, shallowEqual);\n  const appTypes = useSelector(({ sources }) => sources.appTypes, shallowEqual);\n  const hasRightAccess = useHasWritePermissions();\n\n  const sourceType = sourceTypes.find((type) => type.id === source.source_type_id);\n  const sourceTypeName = sourceType?.name;\n  const filteredAppTypes = appTypes.filter((type) => type.supported_source_types.includes(sourceTypeName)).filter(filterApps);\n\n  return (\n    <Card className=\"card applications-card pf-u-p-lg pf-u-pl-sm-on-md\">\n      <CardTitle>\n        {intl.formatMessage({\n          id: 'detail.applications.title',\n          defaultMessage: 'Applications',\n        })}\n      </CardTitle>\n      <CardBody>\n        {!hasRightAccess && (\n          <div className=\"pf-u-mb-md\" id=\"no-permissions-applications\">\n            {intl.formatMessage({\n              id: 'sources.notAdminButton',\n              defaultMessage:\n                'To perform this adding/removing applications, you must be granted write permissions from your Organization Administrator.',\n            })}\n          </div>\n        )}\n        <div className=\"pf-c-form\">\n          {filteredAppTypes.map((app) => {\n            const connectedApp = source.applications.find((connectedApp) => connectedApp.application_type_id === app.id);\n            const description = descriptionMapper(app.name, intl);\n\n            return (\n              <FormGroup key={app.id}>\n                <Switch\n                  id={`app-switch-${app.id}`}\n                  label={app.display_name}\n                  isChecked={Boolean(connectedApp)}\n                  isDisabled={connectedApp?.isDeleting || !hasRightAccess}\n                  onChange={(value) =>\n                    !value\n                      ? push(replaceRouteId(routes.sourcesDetailRemoveApp.path, source.id).replace(':app_id', connectedApp.id))\n                      : push(replaceRouteId(routes.sourcesDetailAddApp.path, source.id).replace(':app_type_id', app.id))\n                  }\n                />\n                {Boolean(connectedApp) && <ApplicationStatusLabel app={connectedApp} />}\n                {description && (\n                  <div className=\"pf-c-switch pf-u-mt-sm\">\n                    <span className=\"pf-c-switch__toggle ins-c-sources__hide-me\" />\n                    <div className=\"pf-c-switch__label ins-c-sources__switch-description\">{description}</div>\n                  </div>\n                )}\n              </FormGroup>\n            );\n          })}\n        </div>\n      </CardBody>\n    </Card>\n  );\n};\n\nexport default ApplicationsCard;\n","import React, { useState } from 'react';\nimport { useIntl } from 'react-intl';\nimport { useDispatch } from 'react-redux';\n\nimport RedoIcon from '@patternfly/react-icons/dist/esm/icons/redo-icon';\nimport { Button } from '@patternfly/react-core/dist/esm/components/Button/Button';\nimport { Spinner } from '@patternfly/react-core/dist/esm/components/Spinner/Spinner';\n\nimport { useSource } from '../../hooks/useSource';\nimport checkSourceStatus from '../../api/checkSourceStatus';\nimport { addMessage } from '../../redux/sources/actions';\n\nconst AvailabilityChecker = () => {\n  const source = useSource();\n  const intl = useIntl();\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n\n  return (\n    <Button\n      variant=\"plain\"\n      aria-label={intl.formatMessage({ id: 'sources.checkavailability', defaultMessage: 'Check source availability' })}\n      onClick={async () => {\n        setLoading(true);\n        await checkSourceStatus(source.id);\n        setLoading(false);\n        dispatch(\n          addMessage({\n            title: intl.formatMessage({\n              id: 'sources.checkavailability.notificationTitle',\n              defaultMessage: 'Request to check source status was sent',\n            }),\n            variant: 'info',\n            description: intl.formatMessage({\n              id: 'sources.checkavailability.notificationDescription',\n              defaultMessage: 'Check this page later for updates',\n            }),\n          })\n        );\n      }}\n      isDisabled={loading}\n    >\n      {!loading && <RedoIcon />}\n      {loading && <Spinner size=\"md\" />}\n    </Button>\n  );\n};\n\nexport default AvailabilityChecker;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useIntl } from 'react-intl';\n\nimport { Breadcrumb } from '@patternfly/react-core/dist/esm/components/Breadcrumb/Breadcrumb';\nimport { BreadcrumbItem } from '@patternfly/react-core/dist/esm/components/Breadcrumb/BreadcrumbItem';\nimport { routes } from '../../Routes';\nimport { useSource } from '../../hooks/useSource';\n\nconst Breadcrumbs = () => {\n  const intl = useIntl();\n  const source = useSource();\n\n  return (\n    <Breadcrumb>\n      <BreadcrumbItem component={({ href, ...props }) => <Link to={href} {...props} />} to={routes.sources.path}>\n        {intl.formatMessage({\n          id: 'sources.sources',\n          defaultMessage: 'Sources',\n        })}\n      </BreadcrumbItem>\n      <BreadcrumbItem isActive>{source.name}</BreadcrumbItem>\n    </Breadcrumb>\n  );\n};\n\nexport default Breadcrumbs;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\nimport { shallowEqual, useSelector } from 'react-redux';\n\nimport { PageHeader } from '@redhat-cloud-services/frontend-components/PageHeader';\nimport { Title } from '@patternfly/react-core/dist/esm/components/Title/Title';\nimport { TextContent } from '@patternfly/react-core/dist/esm/components/Text/TextContent';\nimport { Text } from '@patternfly/react-core/dist/esm/components/Text/Text';\nimport { Flex } from '@patternfly/react-core/dist/esm/layouts/Flex/Flex';\nimport { FlexItem } from '@patternfly/react-core/dist/esm/layouts/Flex/FlexItem';\n\nimport Breadcrumbs from './Breadcrumbs';\nimport { useSource } from '../../hooks/useSource';\nimport { availabilityFormatter } from '../../views/formatters';\nimport SourceKebab from './SourceKebab';\n\nconst DetailHeader = () => {\n  const intl = useIntl();\n  const source = useSource();\n  const appTypes = useSelector(({ sources }) => sources.appTypes, shallowEqual);\n\n  return (\n    <PageHeader>\n      <Breadcrumbs />\n      <Flex className=\"pf-u-mb-sm\">\n        <FlexItem>\n          <Title headingLevel=\"h1\" size=\"2xl\">\n            {source.name}\n          </Title>\n        </FlexItem>\n        <FlexItem>{availabilityFormatter(undefined, source, { appTypes })}</FlexItem>\n        <FlexItem align={{ default: 'alignRight' }}>\n          <SourceKebab />\n        </FlexItem>\n      </Flex>\n      <TextContent>\n        <Text>\n          {intl.formatMessage({\n            id: 'detail.description',\n            defaultMessage: 'View details and manage connections for this source.',\n          })}\n        </Text>\n      </TextContent>\n    </PageHeader>\n  );\n};\n\nexport default DetailHeader;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\n\nimport { EmptyState } from '@patternfly/react-core/dist/esm/components/EmptyState/EmptyState';\nimport { EmptyStateIcon } from '@patternfly/react-core/dist/esm/components/EmptyState/EmptyStateIcon';\nimport { EmptyStateBody } from '@patternfly/react-core/dist/esm/components/EmptyState/EmptyStateBody';\nimport { Title } from '@patternfly/react-core/dist/esm/components/Title/Title';\nimport PlusCircleIcon from '@patternfly/react-icons/dist/esm/icons/plus-circle-icon';\n\nconst NoApplications = () => {\n  const intl = useIntl();\n\n  return (\n    <EmptyState>\n      <EmptyStateIcon icon={PlusCircleIcon} />\n      <Title headingLevel=\"h4\" size=\"lg\">\n        {intl.formatMessage({\n          id: 'detail.noapplications.title',\n          defaultMessage: 'No connected applications',\n        })}\n      </Title>\n      <EmptyStateBody className=\"empty-state-body\">\n        {intl.formatMessage({\n          id: 'detail.noapplications.description',\n          defaultMessage: 'You have not connected any applications to this source. Use the switches above to add applications.',\n        })}\n      </EmptyStateBody>\n    </EmptyState>\n  );\n};\n\nexport default NoApplications;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\n\nimport { EmptyState } from '@patternfly/react-core/dist/esm/components/EmptyState/EmptyState';\nimport { EmptyStateIcon } from '@patternfly/react-core/dist/esm/components/EmptyState/EmptyStateIcon';\nimport { EmptyStateBody } from '@patternfly/react-core/dist/esm/components/EmptyState/EmptyStateBody';\nimport { Title } from '@patternfly/react-core/dist/esm/components/Title/Title';\nimport PrivateIcon from '@patternfly/react-icons/dist/esm/icons/private-icon';\n\nconst NoPermissions = () => {\n  const intl = useIntl();\n\n  return (\n    <EmptyState>\n      <EmptyStateIcon icon={PrivateIcon} />\n      <Title headingLevel=\"h4\" size=\"lg\">\n        {intl.formatMessage({\n          id: 'detail.nopermissions.title',\n          defaultMessage: 'Missing permissions',\n        })}\n      </Title>\n      <EmptyStateBody className=\"empty-state-body\">\n        {intl.formatMessage({\n          id: 'detail.nopermissions.description',\n          defaultMessage: 'To perform this action, you must be granted write permissions from your Organization Administrator.',\n        })}\n      </EmptyStateBody>\n    </EmptyState>\n  );\n};\n\nexport default NoPermissions;\n","import React, { useState } from 'react';\nimport { useIntl } from 'react-intl';\nimport { useHistory } from 'react-router-dom';\n\nimport { Dropdown } from '@patternfly/react-core/dist/esm/components/Dropdown/Dropdown';\nimport { DropdownItem } from '@patternfly/react-core/dist/esm/components/Dropdown/DropdownItem';\nimport { KebabToggle } from '@patternfly/react-core/dist/esm/components/Dropdown/KebabToggle';\n\nimport { replaceRouteId, routes } from '../../Routes';\nimport { useSource } from '../../hooks/useSource';\nimport { useHasWritePermissions } from '../../hooks/useHasWritePermissions';\n\nconst SourceKebab = () => {\n  const [isOpen, setOpen] = useState(false);\n  const intl = useIntl();\n  const { push } = useHistory();\n  const source = useSource();\n  const hasRightAccess = useHasWritePermissions();\n\n  const tooltip = intl.formatMessage({\n    id: 'sources.notAdminButton',\n    defaultMessage: 'To perform this action, you must be granted write permissions from your Organization Administrator.',\n  });\n\n  const disabledProps = {\n    tooltip,\n    isDisabled: true,\n    className: 'ins-c-sources__disabled-drodpown-item',\n  };\n\n  return (\n    <Dropdown\n      toggle={<KebabToggle onToggle={() => setOpen(!isOpen)} id=\"toggle-id-6\" />}\n      isOpen={isOpen}\n      isPlain\n      position=\"right\"\n      dropdownItems={[\n        <DropdownItem\n          {...(!hasRightAccess && disabledProps)}\n          key=\"rename\"\n          onClick={() => push(replaceRouteId(routes.sourcesDetailRename.path, source.id))}\n        >\n          {intl.formatMessage({\n            id: 'detail.rename.button',\n            defaultMessage: 'Rename',\n          })}\n        </DropdownItem>,\n        <DropdownItem\n          {...(!hasRightAccess && disabledProps)}\n          key=\"remove\"\n          onClick={() => push(replaceRouteId(routes.sourcesDetailRemove.path, source.id))}\n        >\n          {intl.formatMessage({\n            id: 'detail.remove.button',\n            defaultMessage: 'Remove',\n          })}\n        </DropdownItem>,\n      ]}\n    />\n  );\n};\n\nexport default SourceKebab;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\nimport { shallowEqual, useSelector } from 'react-redux';\n\nimport { Card } from '@patternfly/react-core/dist/esm/components/Card/Card';\nimport { CardBody } from '@patternfly/react-core/dist/esm/components/Card/CardBody';\nimport { CardTitle } from '@patternfly/react-core/dist/esm/components/Card/CardTitle';\nimport { DescriptionList } from '@patternfly/react-core/dist/esm/components/DescriptionList/DescriptionList';\nimport { DescriptionListGroup } from '@patternfly/react-core/dist/esm/components/DescriptionList/DescriptionListGroup';\nimport { DescriptionListTerm } from '@patternfly/react-core/dist/esm/components/DescriptionList/DescriptionListTerm';\nimport { DescriptionListDescription } from '@patternfly/react-core/dist/esm/components/DescriptionList/DescriptionListDescription';\n\nimport { useSource } from '../../hooks/useSource';\nimport { dateFormatter, sourceTypeFormatter } from '../../views/formatters';\nimport AvailabilityChecker from './AvailabilityChecker';\n\nconst SourceSummaryCard = () => {\n  const intl = useIntl();\n  const source = useSource();\n  const sourceTypes = useSelector(({ sources }) => sources.sourceTypes, shallowEqual);\n\n  return (\n    <Card className=\"pf-m-selectable pf-m-selected card summary-card pf-u-m-lg pf-u-mr-sm-on-md\">\n      <CardTitle>\n        {intl.formatMessage({\n          id: 'detail.summary.title',\n          defaultMessage: 'Source summary',\n        })}\n      </CardTitle>\n      <CardBody>\n        <DescriptionList\n          columnModifier={{\n            default: '2Col',\n          }}\n        >\n          <DescriptionListGroup>\n            <DescriptionListTerm>\n              {intl.formatMessage({\n                id: 'detail.summary.type',\n                defaultMessage: 'Source type',\n              })}\n            </DescriptionListTerm>\n            <DescriptionListDescription>\n              {sourceTypeFormatter(source.source_type_id, undefined, { sourceTypes })}\n            </DescriptionListDescription>\n          </DescriptionListGroup>\n          <DescriptionListGroup>\n            <DescriptionListTerm>\n              {intl.formatMessage({\n                id: 'detail.summary.lastChecked',\n                defaultMessage: 'Last availability check',\n              })}\n            </DescriptionListTerm>\n            <DescriptionListDescription>\n              {source.last_checked_at || source.last_available_at\n                ? dateFormatter(source.last_checked_at || source.last_available_at)\n                : intl.formatMessage({\n                    id: 'detail.summary.notChecked',\n                    defaultMessage: 'Not checked yet',\n                  })}\n              <AvailabilityChecker />\n            </DescriptionListDescription>\n          </DescriptionListGroup>\n          <DescriptionListGroup>\n            <DescriptionListTerm>\n              {intl.formatMessage({\n                id: 'detail.summary.dateAdded',\n                defaultMessage: 'Date added',\n              })}\n            </DescriptionListTerm>\n            <DescriptionListDescription>{dateFormatter(source.created_at)}</DescriptionListDescription>\n          </DescriptionListGroup>\n          <DescriptionListGroup>\n            <DescriptionListTerm>\n              {intl.formatMessage({\n                id: 'detail.summary.lastModified',\n                defaultMessage: 'Last modified',\n              })}\n            </DescriptionListTerm>\n            <DescriptionListDescription>{dateFormatter(source.updated_at)}</DescriptionListDescription>\n          </DescriptionListGroup>\n        </DescriptionList>\n      </CardBody>\n    </Card>\n  );\n};\n\nexport default SourceSummaryCard;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\n\nimport { Text } from '@patternfly/react-core/dist/esm/components/Text/Text';\n\nimport ErroredStep from '@redhat-cloud-services/frontend-components-sources/esm/ErroredStep';\n\nconst ErroredModal = ({ onRetry }) => {\n  const intl = useIntl();\n\n  return (\n    <ErroredStep\n      onClose={onRetry}\n      customText={intl.formatMessage({\n        id: 'sources.editErrorDescription',\n        defaultMessage:\n          'There was a problem while trying to edit your source. Please try again. If the error persists, open a support case.',\n      })}\n      secondaryActions={\n        <Text\n          component=\"a\"\n          target=\"_blank\"\n          href=\"https://access.redhat.com/support/cases/#/case/new/open-case?caseCreate=true\"\n          rel=\"noopener noreferrer\"\n        >\n          {intl.formatMessage({\n            id: 'sources.openTicket',\n            defaultMessage: 'Open a support case',\n          })}\n        </Text>\n      }\n      returnButtonTitle={intl.formatMessage({\n        id: 'sources.retryText',\n        defaultMessage: 'Retry',\n      })}\n    />\n  );\n};\n\nErroredModal.propTypes = {\n  onRetry: PropTypes.func.isRequired,\n};\n\nexport default ErroredModal;\n","import React, { useEffect, useReducer } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { useIntl } from 'react-intl';\nimport { Spinner } from '@patternfly/react-core/dist/esm/components/Spinner';\nimport { Bullseye } from '@patternfly/react-core/dist/esm/layouts/Bullseye';\n\nimport FormTemplate from '@data-driven-forms/pf4-component-mapper/dist/esm/form-template';\n\nimport SourcesFormRenderer from '../../utilities/SourcesFormRenderer';\nimport { doLoadSourceForEdit } from '../../api/doLoadSourceForEdit';\nimport { onSubmit } from './onSubmit';\n\nimport { useSource } from '../../hooks/useSource';\nimport { useIsLoaded } from '../../hooks/useIsLoaded';\nimport reducer, { initialState } from './reducer';\nimport SubmittingModal from './SubmittingModal';\nimport ErroredModal from './ErroredModal';\nimport { prepareMessages } from './helpers';\n\nconst SourceEditModal = () => {\n  const [state, setState] = useReducer(reducer, initialState);\n  const sourceRedux = useSource();\n  const isLoaded = useIsLoaded();\n\n  const {\n    loading,\n    editing,\n    source,\n    initialValues,\n    schema,\n    isSubmitting,\n    initialLoad,\n    message,\n    messages,\n    submitError,\n    values,\n  } = state;\n\n  const intl = useIntl();\n\n  const { sourceTypes, appTypes, sourceTypesLoaded, appTypesLoaded } = useSelector(({ sources }) => sources, shallowEqual);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!initialLoad) {\n      setState({ type: 'sourceChanged' });\n    }\n  }, [sourceRedux, sourceRedux?.applications?.length]);\n\n  useEffect(() => {\n    if (sourceRedux && initialLoad && appTypesLoaded) {\n      doLoadSourceForEdit(sourceRedux, appTypes, sourceTypes).then((source) => {\n        const messages = prepareMessages(source, intl);\n\n        setState({ type: 'setSource', source, messages });\n      });\n    }\n  }, [sourceRedux, isLoaded, appTypesLoaded, initialLoad]);\n\n  useEffect(() => {\n    if (source && appTypesLoaded && sourceTypesLoaded) {\n      const sourceType = sourceTypes.find(({ id }) => id === source.source.source_type_id);\n\n      setState({ type: 'createForm', sourceType, source, appTypes, intl });\n    }\n  }, [appTypesLoaded, source, sourceTypesLoaded]);\n\n  const isLoading = !appTypesLoaded || !sourceTypesLoaded || loading;\n\n  if (submitError) {\n    return <ErroredModal onRetry={() => onSubmit(values, editing, dispatch, source, intl, setState)} />;\n  }\n\n  if (isSubmitting) {\n    return <SubmittingModal />;\n  }\n\n  if (isLoading) {\n    return (\n      <Bullseye className=\"pf-u-m-2xl\">\n        <Spinner />\n      </Bullseye>\n    );\n  }\n\n  return (\n    <SourcesFormRenderer\n      schema={schema}\n      onSubmit={(values, formApi) => onSubmit(values, formApi.getState().dirtyFields, dispatch, source, intl, setState)}\n      FormTemplate={(props) => (\n        <FormTemplate canReset submitLabel=\"Save changes\" disableSubmit={['pristine', 'invalid']} {...props} />\n      )}\n      clearedValue={null}\n      initialValues={{\n        ...initialValues,\n        message,\n        messages,\n      }}\n    />\n  );\n};\n\nexport default SourceEditModal;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\n\nimport LoadingStep from '@redhat-cloud-services/frontend-components-sources/esm/LoadingStep';\n\nconst SubmittingModal = () => {\n  const intl = useIntl();\n\n  return (\n    <LoadingStep\n      customText={intl.formatMessage({\n        id: 'sources.editSubmittingTitle',\n        defaultMessage: 'Validating edited source credentials',\n      })}\n    />\n  );\n};\n\nexport default SubmittingModal;\n","import get from 'lodash/get';\nimport set from 'lodash/set';\n\nimport { endpointToUrl, UNAVAILABLE } from '../../views/formatters';\n\nexport const CHECK_ENDPOINT_COMMAND = 'check-endpoint';\n\nexport const selectOnlyEditedValues = (values, editing) => {\n  const filteredValues = {};\n\n  Object.keys(editing)\n    .filter((key) => editing[key])\n    .forEach((key) => {\n      set(filteredValues, key, get(values, key));\n    });\n\n  return filteredValues;\n};\n\nexport const prepareInitialValues = ({ endpoints, authentications, applications, ...rest }, sourceTypeName) => {\n  const auhenticationsFinal = {};\n\n  const mergeAuths = [\n    ...(authentications || []),\n    ...(applications?.reduce((acc, curr) => [...acc, ...curr.authentications], []) || []),\n  ];\n\n  if (mergeAuths.length > 0) {\n    mergeAuths.forEach((auth) => {\n      auhenticationsFinal[`a${auth.id}`] = auth;\n    });\n  }\n\n  let endpoint;\n  let url;\n\n  if (endpoints && endpoints.length > 0) {\n    endpoint = endpoints[0];\n  }\n\n  if (endpoint) {\n    url = endpoint.scheme || endpoint.host || endpoint.path || endpoint.port ? endpointToUrl(endpoint) : undefined;\n  }\n\n  const applicationsFinal = {};\n  if (applications?.length > 0) {\n    applications.forEach((app) => {\n      if (app.extra && Object.keys(app.extra).length > 0) {\n        applicationsFinal[`a${app.id}`] = { extra: app.extra };\n      }\n    });\n  }\n\n  return {\n    source_type: sourceTypeName,\n    endpoint,\n    authentications: auhenticationsFinal,\n    url,\n    ...(Object.keys(applicationsFinal).length && {\n      applications: applicationsFinal,\n    }),\n    ...rest,\n  };\n};\n\nconst addIfUnique = (array, item) => !array.includes(item) && array.push(item);\n\nexport const getEditedApplications = (source, editing) => {\n  const editedApplications = [];\n\n  const editedFields = Object.keys(editing);\n\n  editedFields.forEach((key) => {\n    if (editing[key]) {\n      const editedId = key.match(/.a\\d+/)?.[0]?.replace('.a', '');\n\n      if (key.startsWith('applications')) {\n        addIfUnique(editedApplications, editedId);\n      }\n\n      if (key.startsWith('authentications')) {\n        source.applications.forEach((app) =>\n          app.authentications.forEach(\n            ({ id, resource_type }) =>\n              resource_type &&\n              id === editedId &&\n              addIfUnique(editedApplications, resource_type === 'Application' ? app.id : `${CHECK_ENDPOINT_COMMAND}-${app.id}`)\n          )\n        );\n      }\n\n      if (key.startsWith('url') || key.startsWith('endpoint')) {\n        source.applications.forEach((app) =>\n          app.authentications.forEach(\n            ({ resource_type }) =>\n              resource_type === 'Endpoint' && addIfUnique(editedApplications, `${CHECK_ENDPOINT_COMMAND}-${app.id}`)\n          )\n        );\n      }\n    }\n  });\n\n  return editedApplications.filter(Boolean);\n};\n\nexport const prepareMessages = (source, intl) => {\n  const messages = {};\n\n  source.applications.forEach(({ id, availability_status_error, availability_status }) => {\n    if (availability_status === UNAVAILABLE) {\n      messages[id] = {\n        title: intl.formatMessage({\n          id: 'wizard.failEditToastTitleBeforeEdit',\n          defaultMessage: 'This application is unavailable',\n        }),\n        description: availability_status_error,\n        variant: 'danger',\n      };\n    }\n  });\n\n  if (source.endpoints?.[0]?.availability_status_error) {\n    const applicationsUsingEndpoint = source.applications\n      .map((app) => (app.authentications.find(({ resource_type }) => resource_type === 'Endpoint') ? app.id : undefined))\n      .filter(Boolean);\n\n    applicationsUsingEndpoint.forEach((id) => {\n      messages[id] = {\n        title: intl.formatMessage({\n          id: 'wizard.failEditToastTitleBeforeEdit',\n          defaultMessage: 'This application is unavailable',\n        }),\n        description: source.endpoints?.[0]?.availability_status_error,\n        variant: 'danger',\n      };\n    });\n  }\n\n  return messages;\n};\n","import { checkAppAvailability } from '@redhat-cloud-services/frontend-components-sources/esm/getApplicationStatus';\n\nimport { CHECK_ENDPOINT_COMMAND, getEditedApplications, selectOnlyEditedValues } from './helpers';\nimport { loadEntities } from '../../redux/sources/actions';\nimport { checkSourceStatus } from '../../api/checkSourceStatus';\nimport { doUpdateSource } from '../../api/doUpdateSource';\n\nimport { AVAILABLE, UNAVAILABLE } from '../../views/formatters';\n\nexport const onSubmit = async (values, editing, dispatch, source, intl, setState) => {\n  setState({ type: 'submit', values, editing });\n\n  const startDate = new Date();\n\n  try {\n    await doUpdateSource(source, selectOnlyEditedValues(values, editing), values);\n  } catch {\n    await dispatch(loadEntities());\n    setState({ type: 'submitFailed' });\n\n    return;\n  }\n\n  checkSourceStatus(source.source.id);\n\n  let messages = {};\n\n  const checkApplications = getEditedApplications(source, editing);\n\n  const promises = [];\n\n  checkApplications.forEach((checkInfo) => {\n    if (checkInfo.includes(CHECK_ENDPOINT_COMMAND)) {\n      promises.push(\n        checkAppAvailability(source.endpoints[0].id, undefined, undefined, 'getEndpoint', startDate).then((data) => ({\n          ...data,\n          id: checkInfo.replace(`${CHECK_ENDPOINT_COMMAND}-`, ''),\n        }))\n      );\n    } else {\n      promises.push(checkAppAvailability(checkInfo, undefined, undefined, undefined, startDate));\n    }\n  });\n\n  let statusResults;\n  if (promises.length > 0) {\n    try {\n      statusResults = await Promise.all(promises);\n    } catch (error) {\n      await dispatch(loadEntities());\n      setState({ type: 'submitFailed' });\n      return;\n    }\n\n    statusResults.forEach(({ availability_status, availability_status_error, id }) => {\n      if (availability_status === AVAILABLE) {\n        messages[id] = {\n          title: intl.formatMessage({\n            id: 'wizard.successEditToastTitle',\n            defaultMessage: 'Application credentials were edited successfully.',\n          }),\n          description: availability_status_error,\n          variant: 'success',\n        };\n      }\n\n      if (availability_status === UNAVAILABLE) {\n        messages[id] = {\n          title: intl.formatMessage({\n            id: 'wizard.failEditToastTitle',\n            defaultMessage: 'Edit application credentials failed.',\n          }),\n          description: availability_status_error,\n          variant: 'danger',\n        };\n      }\n\n      if (!availability_status) {\n        messages[id] = {\n          title: intl.formatMessage({\n            id: 'wizard.timeoutEditToastTitle',\n            defaultMessage: 'Edit in progress',\n          }),\n          description: intl.formatMessage({\n            id: 'wizard.timeoutEditToastDescription',\n            defaultMessage:\n              'We are still working to confirm your updated credentials. Changes will be reflected in this table when complete.',\n          }),\n          variant: 'warning',\n        };\n      }\n    });\n  }\n\n  await dispatch(loadEntities());\n  setState({ type: 'submitFinished', messages });\n};\n","import get from 'lodash/get';\nimport componentTypes from '@data-driven-forms/react-form-renderer/dist/esm/component-types';\nimport hardcodedSchemas from '@redhat-cloud-services/frontend-components-sources/esm/hardcodedSchemas';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/dist/esm/validator-types';\n\nexport const getEnhancedEndpointField = (sourceType, name) => get(hardcodedSchemas, [sourceType, 'endpoint', name], {});\n\nexport const endpointFields = (sourceType) => {\n  if (!sourceType.schema || !sourceType.schema.endpoint || sourceType.schema.endpoint.hidden) {\n    return undefined;\n  }\n\n  const schemaAuth = sourceType.schema.endpoint;\n\n  const enhancedFields = schemaAuth.fields.map((field) => ({\n    ...field,\n    ...getEnhancedEndpointField(sourceType.name, field.name),\n  }));\n\n  const modifiedFields = enhancedFields;\n\n  const subForm = {\n    component: componentTypes.SUB_FORM,\n    name: 'endpoint',\n  };\n\n  if (sourceType.name === 'ansible-tower') {\n    const url = modifiedFields.find(({ name }) => name === 'url');\n\n    return {\n      ...subForm,\n      fields: [\n        {\n          component: componentTypes.SUB_FORM,\n          name: 'receptor_node_group',\n          condition: {\n            when: 'endpoint.receptor_node',\n            isNotEmpty: true,\n          },\n          fields: [\n            {\n              ...url,\n              isRequired: false,\n              validate: url?.validate?.filter((validation) => validation.type !== validatorTypes.REQUIRED),\n            },\n          ],\n        },\n        {\n          component: componentTypes.SUB_FORM,\n          name: 'hostname_group',\n          condition: {\n            when: 'endpoint.receptor_node',\n            isEmpty: true,\n          },\n          fields: modifiedFields,\n        },\n      ],\n    };\n  }\n\n  return {\n    ...subForm,\n    fields: modifiedFields,\n  };\n};\n","import { endpointFields } from './endpoint';\nimport { applicationsFields } from './application';\n\nexport const parseSourceToSchema = (source, sourceType, appTypes, intl) => ({\n  description: intl.formatMessage({\n    id: 'sources.editFormDescripiton',\n    defaultMessage: 'Use the form fields to edit application credentials.',\n  }),\n  fields: [\n    ...applicationsFields(source.applications, sourceType, appTypes),\n    source.endpoints && source.endpoints.length > 0 ? endpointFields(sourceType) : false,\n  ].filter(Boolean),\n});\n","import { parseSourceToSchema } from './parser/parseSourceToSchema';\nimport { prepareInitialValues } from './helpers';\n\nexport const initialState = {\n  loading: true,\n  source: undefined,\n  initialValues: {},\n  sourceType: undefined,\n  schema: undefined,\n  isSubmitting: false,\n  initialLoad: true,\n  submitError: false,\n};\n\nconst reducer = (state, { type, source, sourceType, appTypes, intl, values, editing, messages }) => {\n  switch (type) {\n    case 'createForm':\n      return {\n        ...state,\n        sourceType,\n        initialValues: prepareInitialValues(state.source, sourceType.product_name),\n        schema: parseSourceToSchema(state.source, sourceType, appTypes, intl),\n        loading: false,\n      };\n    case 'setSource':\n      return {\n        ...state,\n        messages: {\n          ...messages,\n          ...state.messages,\n        },\n        source,\n        initialLoad: false,\n      };\n    case 'submit':\n      return {\n        ...state,\n        isSubmitting: true,\n        submitError: false,\n        values,\n        editing,\n      };\n    case 'submitFinished':\n      return {\n        ...state,\n        isSubmitting: false,\n        source,\n        messages,\n      };\n    case 'submitFailed':\n      return {\n        ...state,\n        isSubmitting: false,\n        submitError: true,\n        messages: undefined,\n      };\n    case 'sourceChanged':\n      return {\n        ...state,\n        initialLoad: true,\n        loading: true,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import React, { lazy, Suspense } from 'react';\n\nimport { Grid } from '@patternfly/react-core/dist/esm/layouts/Grid/Grid';\nimport { GridItem } from '@patternfly/react-core/dist/esm/layouts/Grid/GridItem';\n\nimport SourceSummaryCard from '../components/SourceDetail/SourceSummaryCard';\nimport ApplicationsCard from '../components/SourceDetail/ApplicationsCard';\nimport ApplicationResourcesCard from '../components/SourceDetail/ApplicationResourcesCard';\nimport RedirectNoId from '../components/RedirectNoId/RedirectNoId';\nimport { useSource } from '../hooks/useSource';\nimport { DetailLoader } from '../components/SourcesTable/loaders';\nimport CustomRoute from '../components/CustomRoute/CustomRoute';\nimport { replaceRouteId, routes } from '../Routes';\nimport DetailHeader from '../components/SourceDetail/DetailHeader';\n\nconst SourceRemoveModal = lazy(() =>\n  import(\n    /* webpackChunkName: \"removeSource\" */\n    '../components/SourceRemoveModal/SourceRemoveModal'\n  )\n);\n\nconst AddApplication = lazy(() =>\n  import(\n    /* webpackChunkName: \"addApplication\" */\n    '../components/AddApplication/AddApplication'\n  )\n);\n\nconst RemoveAppModal = lazy(() =>\n  import(\n    /* webpackChunkName: \"removeApplication\" */\n    '../components/AddApplication/RemoveAppModal'\n  )\n);\n\nconst SourceRenameModal = lazy(() =>\n  import(\n    /* webpackChunkName: \"renameSource\" */\n    '../components/SourceDetail/SourceRenameModal'\n  )\n);\n\nconst Detail = () => {\n  const source = useSource();\n\n  if (!source) {\n    return (\n      <React.Fragment>\n        <DetailLoader />\n        <RedirectNoId />\n      </React.Fragment>\n    );\n  }\n\n  return (\n    <div className=\"ins-c-sources__detail-page\">\n      <Suspense fallback={null}>\n        <CustomRoute\n          exact\n          route={routes.sourcesDetailRemove}\n          Component={SourceRemoveModal}\n          componentProps={{ backPath: replaceRouteId(routes.sourcesDetail.path, source.id) }}\n        />\n        <CustomRoute exact route={routes.sourcesDetailAddApp} Component={AddApplication} />\n        <CustomRoute exact route={routes.sourcesDetailRemoveApp} Component={RemoveAppModal} />\n        <CustomRoute exact route={routes.sourcesDetailRename} Component={SourceRenameModal} />\n      </Suspense>\n      <DetailHeader />\n      <Grid>\n        <GridItem md=\"6\">\n          <SourceSummaryCard />\n        </GridItem>\n        <GridItem md=\"6\">\n          <ApplicationsCard />\n        </GridItem>\n        <GridItem md=\"12\">\n          <ApplicationResourcesCard />\n        </GridItem>\n      </Grid>\n    </div>\n  );\n};\n\nexport default Detail;\n","import React from 'react';\n\nimport FormRenderer from '@data-driven-forms/react-form-renderer/dist/esm/form-renderer';\n\nimport FormTemplate from '@data-driven-forms/pf4-component-mapper/dist/esm/form-template';\nimport componentMapper from '@data-driven-forms/pf4-component-mapper/dist/esm/component-mapper';\n\nimport { mapperExtension } from '@redhat-cloud-services/frontend-components-sources/esm/sourceFormRenderer';\n\nimport Authentication from '../components/Authentication';\n\nconst SourcesFormRenderer = (props) => (\n  <FormRenderer\n    FormTemplate={FormTemplate}\n    componentMapper={{\n      ...componentMapper,\n      ...mapperExtension,\n      authentication: Authentication,\n    }}\n    {...props}\n  />\n);\n\nexport default SourcesFormRenderer;\n"],"sourceRoot":""}