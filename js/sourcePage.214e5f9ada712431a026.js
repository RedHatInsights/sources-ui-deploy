(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{433:function(e,t,a){"use strict";a.r(t);var r=a(3),n=a.n(r),o=a(47),c=a.n(o),s=a(0),i=a.n(s),u=a(36),l=a(10),p=a(80),d=a(110),f=a(231),m=a(747),b=a(103),y=a(149),g=a(112),v=a(45),O=a.n(v),E=a(620),h=a(485),j=a(484),M=a(705),S=a(706),w=a(483),_=a(122),k=a(70),T=a(462),P=a(457),B=a(471),N=a(196),D=a(195),C=a(506),A=a.n(C),F=function(){var e=Object(f.a)(),t=Object(u.useDispatch)();return i.a.createElement(N.Bullseye,null,i.a.createElement(T.EmptyState,{variant:T.EmptyStateVariant.small},i.a.createElement(P.EmptyStateIcon,{icon:A.a}),i.a.createElement(D.Title,{headingLevel:"h2",size:"lg"},e.formatMessage({id:"sources.noResultsFoundTitle",defaultMessage:"No sources found"})),i.a.createElement(B.EmptyStateBody,null,e.formatMessage({id:"sources.noResultsFoundDescription",defaultMessage:"No sources match the filter criteria. Remove all filters or clear all filters to show sources."})),i.a.createElement(d.Button,{variant:"link",onClick:function(){return t(Object(g.c)())}},e.formatMessage({id:"sources.clearAllFilters",defaultMessage:"Clear all filters"}))))},x=a(507),R=function(){return Object(u.useSelector)((function(e){return e.user.isOrgAdmin}))},L=a(113);function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(Object(a),!0).forEach((function(t){n()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var z=function(e,t,a,r){return t.filter((function(e){return e.title||e.hidden})).map((function(t){return{title:t.formatter?Object(w.d)(t.formatter)(e[t.value],e,{sourceTypes:a,appTypes:r}):e[t.value]||""}}))},V=function(e,t,a,r){return e.filter((function(e){return!e.hidden})).reduce((function(e,n){return[].concat(O()(e),[I(I({},n),{},{isOpen:!!n.expanded,cells:z(n,t,a,r),disableActions:!!n.isDeleting})])}),[])},K=function(e){return e.filter((function(e){return e.title||e.hidden})).map((function(e){return I({title:e.title||"",value:e.value,hidden:e.hidden},e.sortable&&{transforms:[E.a,h.e]})}))},W=function(e,t){return I(I({},e),t)},Y=function(e,t,a){return function(r){var n={tooltip:e.formatMessage({id:"sources.notAdminButton",defaultMessage:"You do not have permission to perform this action."}),isDisabled:!0,className:"ins-c-sources__disabled-drodpown-item"},o=[I({title:e.formatMessage({id:"sources.manageApps",defaultMessage:"Manage applications"}),onClick:function(e,a,r){var n=r.id;return t(Object(L.b)(L.c.sourceManageApps.path,n))}},a?{component:"button"}:n),I({title:e.formatMessage({id:"sources.remove",defaultMessage:"Remove"}),onClick:function(e,a,r){var n=r.id;return t(Object(L.b)(L.c.sourcesRemove.path,n))}},a?{component:"button"}:n)];return!r.imported&&function(e,t,a,r,n){e.splice(1,0,I({title:t.formatMessage({id:"sources.edit",defaultMessage:"Edit"}),onClick:function(e,t,r){var n=r.id;return a(Object(L.b)(L.c.sourcesEdit.path,n))}},r?{component:"button"}:n))}(o,e,t,a,n),o}},H=function(){var e,t=Object(l.k)().push,a=Object(f.a)(),r=Object(x.a)(),n=R(),o=Object(u.useSelector)((function(e){return e.sources}),u.shallowEqual),p=o.appTypes,d=o.entities,m=o.sourceTypes,b=o.sourceTypesLoaded,y=o.appTypesLoaded,v=o.sortBy,O=o.sortDirection,E=o.numberOfEntities,h=Object(u.useDispatch)(),w=0===E||!r,T=Object(s.useReducer)(W,(e=Object(k.b)(a,w),{rows:[],sortBy:{},isLoaded:!1,cells:K(e)})),P=c()(T,2),B=P[0],N=P[1],D=function(){var e=Object(k.b)(a,w);return N({rows:V(d,e,m,p),cells:K(e)})};Object(s.useEffect)((function(){r&&b&&y?(N({isLoaded:!0}),D()):(N({isLoaded:!1}),function(){var e=Object(k.b)(a,w);N({cells:K(e)})}())}),[r,b,y]),Object(s.useEffect)((function(){B.isLoaded&&D()}),[d]);var C=B.rows;return 0===E&&B.isLoaded?C=[{heightAuto:!0,cells:[{props:{colSpan:k.a},title:i.a.createElement(F,null)}]}]:r&&y&&b||(C=[{heightAuto:!0,cells:[{props:{colSpan:k.a,className:"sources-placeholder-row"},title:i.a.createElement(_.c,null)}]}]),i.a.createElement(j.b,{gridBreakPoint:"grid-lg","aria-label":a.formatMessage({id:"sources.list",defaultMessage:"List of Sources"}),onSort:function(e,t,a){return h(Object(g.k)(B.cells[t].value,a))},sortBy:{index:B.cells.map((function(e){return e.hidden?"hidden":e.value})).indexOf(v),direction:O},rows:C,cells:B.cells,actionResolver:r&&E>0?Y(a,t,n):void 0,rowWrapper:_.d},i.a.createElement(M.a,null),i.a.createElement(S.a,null))},U=a(528),J=a.n(U),G=function(){var e=R(),t=Object(f.a)();return i.a.createElement(N.Bullseye,null,i.a.createElement(T.EmptyState,{className:"ins-c-sources__empty-state"},i.a.createElement(P.EmptyStateIcon,{icon:J.a}),i.a.createElement(D.Title,{headingLevel:"h5",size:"lg"},t.formatMessage({id:"sources.emptyStateTitle",defaultMessage:"No sources"})),i.a.createElement(B.EmptyStateBody,null,e&&t.formatMessage({id:"sources.emptyStateBody",defaultMessage:"No sources have been defined. To start define a source."}),!e&&i.a.createElement(i.a.Fragment,null,i.a.createElement("br",null),t.formatMessage({id:"sources.emptyStateBodyNotAdmin",defaultMessage:"You do not have permission to define sources."}))),e?i.a.createElement(p.Link,{to:L.c.sourcesNew.path},i.a.createElement(d.Button,{className:"pf-u-mt-xl",variant:"primary"},t.formatMessage({id:"sources.emptyStateButton",defaultMessage:"Add source"}))):i.a.createElement(d.Button,{variant:"primary",isDisabled:!0},t.formatMessage({id:"sources.emptyStateButton",defaultMessage:"Add source"}))))},Q=a(192),X=a(215),Z=a.n(X),$=function(){var e=Object(f.a)();return i.a.createElement(N.Bullseye,null,i.a.createElement(T.EmptyState,{className:"ins-c-sources__empty-state"},i.a.createElement(P.EmptyStateIcon,{icon:Z.a,color:"var(--pf-global--danger-color--100)"}),i.a.createElement(D.Title,{headingLevel:"h5",size:"lg"},e.formatMessage({id:"sources.errorStateTitle",defaultMessage:"Something went wrong"})),i.a.createElement(B.EmptyStateBody,null,e.formatMessage({id:"sources.errorStateBody",defaultMessage:"There was a problem processing the request. Try refreshing the page. If the problem persists, contact <a>Red Hat support.</a>"},{a:function(e){return i.a.createElement(Q.Text,{key:"link",component:"a",href:"https://access.redhat.com/support",target:"_blank",rel:"noopener noreferrer"},e)}})),i.a.createElement(d.Button,{className:"pf-u-mt-xl",variant:"primary",component:"a",href:window.location.href},e.formatMessage({id:"sources.retry",defaultMessage:"Retry"}))))},ee=a(561),te=a(574);function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(a),!0).forEach((function(t){n()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ne=Object(ee.default)((function(e){return e()}),500),oe={pageNumber:1,sortBy:"created_at",sortDirection:"desc"},ce=function(e){return e.map((function(e){var t=e.id;return{label:e.product_name,value:t}})).sort((function(e,t){return e.label.localeCompare(t.label)}))},se=function(e){return e.map((function(e){var t=e.id;return{label:e.display_name,value:t}})).sort((function(e,t){return e.label.localeCompare(t.label)}))},ie=function(e,t,a){return a(Object(g.d)(n()({},e,t)))},ue=function(e,t,a){return Object.keys(e).map((function(r){return e[r]&&e[r].length>0?function(e,t,a,r){return{name:function(){return{name:t[e],key:e}},source_type_id:function(){return{category:"Source Type",key:e,chips:t[e].map((function(e){var t=a.find((function(t){return t.id===e}));return{name:t?t.product_name:e,value:e}}))}},applications:function(){return{category:"Application",key:e,chips:t[e].map((function(e){var t=r.find((function(t){return t.id===e}));return{name:t?t.display_name:e,value:e}}))}}}[e]||function(){return{name:e}}}(r,e,t,a)():void 0})).filter(Boolean)},le=function(e,t){return t&&e.length>0?e:void 0},pe=a(114),de=a.n(pe),fe=a(87),me=a.n(fe),be=a(9),ye=a.n(be),ge=function(){var e=Object(f.a)(),t=R(),a=Object(u.useDispatch)();return Object(s.useEffect)((function(){if(!1===t){var r=e.formatMessage({id:"sources.insufficietnPerms",defaultMessage:"Insufficient permissions"}),n=e.formatMessage({id:"sources.notAdminButton",defaultMessage:"You do not have permission to perform this action."});a(Object(g.b)(r,"danger",n))}}),[]),!1===t?i.a.createElement(l.c,{to:L.c.sources.path}):null},ve=a(458),Oe=a(25),Ee=function(){var e=Object(l.m)().id,t=Object(f.a)(),a=Object(x.a)(),r=Object(u.useSelector)((function(e){return e.sources}),u.shallowEqual),n=r.appTypesLoaded,o=r.sourceTypesLoaded,p=Object(u.useDispatch)(),d=Object(s.useState)(!1),m=c()(d,2),b=m[0],y=m[1];return Object(s.useEffect)((function(){a&&n&&o&&Object(Oe.i)(e).then((function(e){var t=c()(e.sources,1)[0];return p(Object(g.a)(t))})).then((function(){p(Object(g.b)(t.formatMessage({id:"sources.sourceNotFoundTitle",defaultMessage:"Requested source was not found"}),"danger",t.formatMessage({id:"sources.sourceNotFoundTitleDescription",defaultMessage:"Source with { id } was not found. Try it again later."},{id:e}))),y(!0)}))}),[a,n,o]),b?i.a.createElement(l.c,{to:L.c.sources.path}):null},he=function(e){var t=e.route,a=e.children;return!(t.redirectNoId?Object(ve.a)():void 0)&&t.redirectNoId?i.a.createElement(Ee,null):i.a.createElement(i.a.Fragment,null,t.writeAccess&&i.a.createElement(ge,null),a)};he.propTypes={route:ye.a.shape({path:ye.a.string.isRequired,redirectNoId:ye.a.bool,writeAccess:ye.a.bool}).isRequired,children:ye.a.node.isRequired};var je=function(e){var t=e.route,a=e.componentProps,r=e.Component,n=me()(e,["route","componentProps","Component"]);return i.a.createElement(l.d,de()({},n,{path:t.path}),i.a.createElement(he,{route:t},i.a.createElement(r,a)))};je.propTypes={route:ye.a.shape({path:ye.a.string.isRequired,redirectNoId:ye.a.bool,writeAccess:ye.a.bool}).isRequired,componentProps:ye.a.any,Component:ye.a.oneOfType([ye.a.func,ye.a.object]).isRequired};var Me=je,Se=a(174),we=a(203);function _e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(a),!0).forEach((function(t){n()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_e(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Te=Object(s.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(10),a.e(5)]).then(a.bind(null,986))})),Pe=Object(s.lazy)((function(){return Promise.all([a.e(0),a.e(6)]).then(a.bind(null,988))})),Be=Object(s.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(8),a.e(4)]).then(a.bind(null,987))})),Ne=Object(s.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(9)]).then(a.t.bind(null,985,7)).then((function(e){return{default:e.AddSourceWizard}}))}));t.default=function(){var e=Object(s.useState)(!1),t=c()(e,2),a=t[0],r=t[1],o=Object(s.useState)(!1),v=c()(o,2),O=v[0],E=v[1],h=Object(s.useState)(),j=c()(h,2),M=j[0],S=j[1],w=Object(s.useState)(),k=c()(w,2),T=k[0],P=k[1],B=Object(x.a)(),N=R(),D=Object(l.k)(),C=Object(l.l)(),A=Object(f.a)(),F=Object(u.useSelector)((function(e){return e.sources}),u.shallowEqual),q=F.filterValue,I=F.numberOfEntities,z=F.appTypes,V=F.pageSize,K=F.pageNumber,W=F.fetchingError,Y=F.sourceTypes,U=F.paginationClicked,J=F.appTypesLoaded,Q=F.sourceTypesLoaded,X=Object(u.useDispatch)();Object(s.useEffect)((function(){Promise.all([X(Object(g.g)()),X(Object(g.e)()),X(Object(g.f)(Object(Se.a)()))]).then((function(){return E(!0)})).catch((function(e){return P(e)}))}),[]);var Z=Object.entries(q).map((function(e){var t=c()(e,2);t[0];return t[1]})).filter(Boolean).length>0;Object(s.useEffect)((function(){O&&(r(B&&0===I&&!Z),Object(Se.b)(F))}),[C,O]),Object(s.useEffect)((function(){M!==q.name&&S(q.name)}),[q.name]),Object(s.useEffect)((function(){O&&B&&r(0===I&&!Z)}),[B]);var ee=function(e,t){return X(Object(g.h)(t,V))},ae=Math.ceil(I/V);Object(s.useEffect)((function(){B&&I>0&&K>Math.max(ae,1)&&ee(0,ae)}));var pe={itemCount:I,page:K,perPage:V,onSetPage:ee,onPerPageSelect:function(e,t){return X(Object(g.h)(1,t))},className:"top-pagination"},de=ke(ke({},pe),{},{dropDirection:"up",variant:"bottom",isCompact:!1,className:"bottom-pagination"}),fe=!(B&&J&&Q||U),me=T||W;return i.a.createElement(i.a.Fragment,null,i.a.createElement(s.Suspense,{fallback:null},i.a.createElement(Me,{exact:!0,route:L.c.sourceManageApps,Component:Be}),i.a.createElement(Me,{exact:!0,route:L.c.sourcesRemove,Component:Pe}),i.a.createElement(Me,{exact:!0,route:L.c.sourcesNew,Component:Ne,componentProps:{sourceTypes:le(Y,Q),applicationTypes:le(z,J),isOpen:!0,onClose:function(){return D.push(L.c.sources.path)},afterSuccess:function(e){return function(e,t){(null==t?void 0:t.id)&&Object(te.a)(t.id),e(Object(g.f)(oe))}(X,e)},hideSourcesButton:!0}}),i.a.createElement(Me,{exact:!0,route:L.c.sourcesEdit,Component:Te})),i.a.createElement(b.PageHeader,null,i.a.createElement(b.PageHeaderTitle,{title:A.formatMessage({id:"sources.sources",defaultMessage:"Sources"})})),i.a.createElement(y.Section,{type:"content"},a&&i.a.createElement(G,null),me&&i.a.createElement($,null),!a&&!me&&i.a.createElement(i.a.Fragment,null,i.a.createElement(m.PrimaryToolbar,{pagination:fe?i.a.createElement(_.b,null):I>0?pe:void 0,actionsConfig:N?{actions:[i.a.createElement(p.Link,{to:L.c.sourcesNew.path,key:"addSourceButton"},i.a.createElement(d.Button,{variant:"primary",id:"addSourceButton"},A.formatMessage({id:"sources.addSource",defaultMessage:"Add source"})))]}:{actions:[i.a.createElement(we.Tooltip,{content:A.formatMessage({id:"sources.notAdminButton",defaultMessage:"You do not have permission to perform this action."}),key:"addSourceButton"},i.a.createElement("span",{tabIndex:"0"},i.a.createElement(d.Button,{variant:"primary",isDisabled:!0,id:"addSourceButton"},A.formatMessage({id:"sources.addSource",defaultMessage:"Add source"}))))]},filterConfig:{items:[{label:A.formatMessage({id:"sources.name",defaultMessage:"Name"}),filterValues:{"aria-label":A.formatMessage({id:"sources.filterByName",defaultMessage:"Filter by name"}),onChange:function(e,t){S(t),ne((function(){return ie("name",t,X)}))},value:M}},{label:A.formatMessage({id:"sources.type",defaultMessage:"Type"}),type:"checkbox",filterValues:{onChange:function(e,t){return ie("source_type_id",t,X)},items:ce(Y||[]),value:q.source_type_id}},{label:A.formatMessage({id:"sources.application",defaultMessage:"Application"}),type:"checkbox",filterValues:{onChange:function(e,t){return ie("applications",t,X)},items:se(z||[]),value:q.applications}}]},activeFiltersConfig:{filters:ue(q,Y,z),onDelete:function(e,t,a){return X(Object(g.d)(function(e,t,a){if(a)return Object.keys(t).reduce((function(e,t){return re(re({},e),{},n()({},t,void 0))}),{});var r=e[0];return re(re({},t),{},n()({},r.key,r.chips?t[r.key].filter((function(e){return e!==r.chips[0].value})):void 0))}(t,q,a)))}}}),i.a.createElement(H,null),i.a.createElement(m.PrimaryToolbar,{pagination:fe?i.a.createElement(_.b,null):I>0?de:void 0}))))}},458:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a(36),n=a(10),o=function(){var e=Object(n.m)().id;return Object(r.useSelector)((function(t){return t.sources.entities.find((function(t){return t.id===e}))}))}},483:function(e,t,a){"use strict";a.d(t,"b",(function(){return T})),a.d(t,"c",(function(){return P})),a.d(t,"a",(function(){return F})),a.d(t,"d",(function(){return I}));var r=a(45),n=a.n(r),o=a(47),c=a.n(o),s=a(3),i=a.n(s),u=a(0),l=a.n(u),p=a(192),d=a(193),f=a(503),m=a(456),b=a(203),y=a(618),g=a(710),v=a(197),O=a.n(v),E=a(214),h=a.n(E),j=a(455),M=a.n(j),S=a(470),w=a.n(S);function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var T=function(e){return{http:"80",https:"443"}[e]},P=function(e){var t=Object.keys(e).reduce((function(t,a){return k(k({},t),{},i()({},a,e[a]||""))}),{}),a=t.scheme,r=void 0===a?"":a,n=t.host,o=void 0===n?"":n,c=t.path,s=void 0===c?"":c,u=t.port,l=void 0===u?"":u,p="".concat(r,"://").concat(o).concat(function(e,t){return t&&String(t)!==T(e)?":".concat(t):""}(r,l)).concat(s);if("://"!==p)return p},B=function(e,t,a){var r=a.appTypes,n=e.map((function(e){var t=r.find((function(t){return t.id===e.application_type_id}));if(t)return t.display_name})).filter((function(e){return void 0!==e}));return l.a.createElement(d.TextContent,null,n.length>0?n.sort((function(e,t){return e.localeCompare(t)})).map((function(e,t){return l.a.createElement(p.Text,{key:e,className:"pf-u-mb-0-on-sm"},e,t<n.length-1&&l.a.createElement("br",{key:t}))})):"--")},N=function(e,t,a){var r=a.sourceTypes.find((function(t){return t.id===e}));return r&&r.product_name||e||""},D=function(e){return l.a.createElement(p.Text,{style:{marginBottom:0},component:p.TextVariants.p,className:"ins-c-sources__help-cursor"},l.a.createElement(g.DateFormat,{type:"relative",date:e}))},C=function(e,t,a){var r=a.sourceTypes;return l.a.createElement(d.TextContent,null,e,l.a.createElement("br",{key:"".concat(t.id,"-br")}),l.a.createElement(p.Text,{key:t.id,component:p.TextVariants.small},function(e,t){var a=t.find((function(t){return t.id===e.source_type_id}));return a&&"openshift"===a.name}(t,r)&&function(e){return e.endpoints&&e.endpoints[0]&&P(e.endpoints[0])}(t)))},A=function(e){if(!e)return null;var t=function(e){return{cfme:l.a.createElement(y.a,{id:"sources.cloudformImportTooltip",defaultMessage:"This source can be managed from your connected CloudForms application."})}[e.toLowerCase()]}(e);return t?l.a.createElement(b.Tooltip,{content:t},l.a.createElement(f.Badge,{isRead:!0,className:"ins-c-sources__help-cursor"},l.a.createElement(y.a,{id:"sources.imported",defaultMessage:"imported"}))):l.a.createElement(f.Badge,{isRead:!0},l.a.createElement(y.a,{id:"sources.imported",defaultMessage:"imported"}))},F="unavailable",x=function(){return l.a.createElement(y.a,{id:"sources.unknownError",defaultMessage:"unavailable"})},R=function(e,t){return l.a.createElement(l.a.Fragment,null,t.source&&l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{id:"sources.sourceError",defaultMessage:"Source's status: { error }",values:{error:t.source}}),l.a.createElement("br",null)),t.endpoint&&l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{id:"sources.endpointError",defaultMessage:"Endpoint error: { error }",values:{error:t.endpoint}}),l.a.createElement("br",null)),t.authentications&&l.a.createElement(y.a,{id:"sources.authErrors",defaultMessage:"Authentication {count, plural, one {status} other {statuses}} : { errors }",values:{count:t.authentications.length,errors:t.authentications.map((function(e){var t=e.error,a=e.type;return l.a.createElement(l.a.Fragment,{key:a},l.a.createElement(y.a,{id:"sources.errorAuthTemplate",defaultMessage:"{ type }: { error }",values:{error:t,type:a}}),l.a.createElement("br",null))}))}}),t.applications&&l.a.createElement(y.a,{id:"sources.appErrors",defaultMessage:"Application {count, plural, one {status} other {statutes}}: { errors }",values:{count:t.applications.length,errors:t.applications.map((function(t){var a,r=t.error,n=t.id;return l.a.createElement(l.a.Fragment,{key:n},l.a.createElement(y.a,{id:"sources.errorAppTemplate",defaultMessage:"{ app }: { error }",values:{error:r,app:(null===(a=e.find((function(e){return e.id===n})))||void 0===a?void 0:a.display_name)||n}}),l.a.createElement("br",null))}))}}))},L=function(e,t){var a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(a={},i()(a,F,l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{id:"sources.appStatusPartiallyOK",defaultMessage:"We found {count, plural, one {this error} other {these errors}}.",values:{count:Object.keys(r).length}}),l.a.createElement("hr",null),R(t,r))),i()(a,"available",l.a.createElement(y.a,{id:"sources.appStatusOK",defaultMessage:"Everything works fine."})),i()(a,"partially_available",l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{id:"sources.appStatusPartiallyOK",defaultMessage:"We found {count, plural, one {this error} other {these errors}}.",values:{count:Object.keys(r).length}}),l.a.createElement("hr",null),R(t,r))),a)[e]||l.a.createElement(y.a,{id:"sources.appStatusUnknown",defaultMessage:"Status has not been verified."})},q=function(e,t,a){var r=a.appTypes,o=function(e){var t=e.availability_status,a=e.availability_status_error,r=e.applications,o=void 0===r?[]:r,s=e.endpoints;s=void 0===s?[]:s;var i=c()(s,1)[0],u={},p=0,d=0;return t===F?(u=k(k({},u),{},{source:a||l.a.createElement(x,null)}),p++,d++):"available"===t&&p++,o.map((function(e){e.availability_status===F?(u=k(k({},u),{},{applications:[].concat(n()(u.applications?u.applications:[]),[{id:e.application_type_id,error:e.availability_status_error||l.a.createElement(x,null)}])}),p++,d++):"available"===e.availability_status&&p++})),(null==i?void 0:i.availability_status)===F?(u=k(k({},u),{},{endpoint:i.availability_status_error||l.a.createElement(x,null)}),p++,d++):"available"===(null==i?void 0:i.availability_status)&&p++,(null==i?void 0:i.authentications)&&i.authentications.map((function(e){e.availability_status===F?(u=k(k({},u),{},{authentications:[].concat(n()(u.authentications?u.authentications:[]),[{type:e.authtype,error:e.availability_status_error||l.a.createElement(x,null)}])}),p++,d++):"available"===e.availability_status&&p++})),{errors:u,status:0===d?0===p?"unknown":"available":d===p?F:"partially_available"}}(t),s=o.status;return l.a.createElement(d.TextContent,{className:"clickable"},l.a.createElement(p.Text,{key:s,component:p.TextVariants.p},l.a.createElement(m.Popover,{"aria-label":"".concat(s," popover"),bodyContent:l.a.createElement("h1",null,L(s,r,o.errors))},l.a.createElement("span",null,function(e){var t;return(t={},i()(t,F,l.a.createElement(w.a,{className:"ins-c-sources__availability-not-ok"})),i()(t,"available",l.a.createElement(h.a,{className:"ins-c-sources__availability-ok"})),i()(t,"partially_available",l.a.createElement(O.a,{className:"ins-c-sources__availability-partially"})),t)[e]||l.a.createElement(M.a,{className:"ins-c-sources__availability-unknown"})}(s)," ",function(e){var t;return(t={},i()(t,F,l.a.createElement(y.a,{id:"sources.unavailable",defaultMessage:"Unavailable"})),i()(t,"available",l.a.createElement(y.a,{id:"sources.ok",defaultMessage:"OK"})),i()(t,"partially_available",l.a.createElement(y.a,{id:"sources.partiallyAvailable",defaultMessage:"Partially available"})),t)[e]||l.a.createElement(y.a,{id:"sources.unknown",defaultMessage:"Unknown"})}(s)))))},I=function(e){return{nameFormatter:C,dateFormatter:D,applicationFormatter:B,sourceTypeFormatter:N,importedFormatter:A,availabilityFormatter:q}[e]||function(e){return function(t){return"undefined ".concat(e," formatter of value: ").concat(t)}}(e)}},507:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(36),n=function(){return Object(r.useSelector)((function(e){return e.sources.loaded}))<=0}},574:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(25),n=function(e){return Object(r.k)().checkAvailabilitySource(e).catch((function(){}))}}}]);
//# sourceMappingURL=../sourcemaps/sourcePage.js.map