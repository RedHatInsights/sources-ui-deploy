(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{409:function(e,t,r){"use strict";r.r(t);var a=r(2),n=r.n(a),o=r(31),c=r.n(o),s=r(0),u=r.n(s),i=r(20),l=r(12),d=r(48),f=r(129),p=r(94),m=r(828),b=r(91),g=r(165),y=r(506),O=r(58),h=r(25),v=r.n(h),E=r(472),j=r(508),T=r(641),M=r(725),S=r(724),w=r(84),P=r(90),k=r(425),B=r(426),D=r(427),A=r(205),C=r(131),N=r(485),R=r.n(N),_=function(){var e=Object(p.a)(),t=Object(i.useDispatch)();return u.a.createElement(A.Bullseye,null,u.a.createElement(k.EmptyState,{variant:k.EmptyStateVariant.small},u.a.createElement(B.EmptyStateIcon,{icon:R.a}),u.a.createElement(C.Title,{headingLevel:"h2",size:"lg"},e.formatMessage({id:"sources.noResultsFoundTitle",defaultMessage:"No sources found"})),u.a.createElement(D.EmptyStateBody,null,e.formatMessage({id:"sources.noResultsFoundDescription",defaultMessage:"No sources match the filter criteria. Remove all filters or clear all filters to show sources."})),u.a.createElement(f.Button,{variant:"link",onClick:function(){return t(Object(O.c)())}},e.formatMessage({id:"sources.clearAllFilters",defaultMessage:"Clear all filters"}))))},x=r(460),L=r(133),F=r(49),q=r(632),I=r.n(q),V=r(27),z=function(){var e=Object(p.a)(),t=Object(i.useSelector)((function(e){return e.sources.activeVendor}));return u.a.createElement(A.Bullseye,null,u.a.createElement(k.EmptyState,{className:"ins-c-sources__empty-state"},u.a.createElement(B.EmptyStateIcon,{icon:I.a}),u.a.createElement(C.Title,{headingLevel:"h5",size:"lg"},e.formatMessage({id:"sources.emptyStateTitle",defaultMessage:"No sources"})),u.a.createElement(D.EmptyStateBody,null,e.formatMessage({id:"sources.emptyStateBody",defaultMessage:"You donâ€™t have any {activeVendor} sources configured. Add a source to connect to your Red Hat applications."},{activeVendor:t===V.b?e.formatMessage({id:"sources.cloud",defaultMessage:"cloud"}):"Red Hat"}))))};function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var J=function(e,t,r,a){return t.filter((function(e){return e.title||e.hidden})).map((function(t){return{title:t.formatter?t.formatter(e[t.value],e,{sourceTypes:r,appTypes:a}):e[t.value]||""}}))},W=function(e,t,r,a,n){return e.filter((function(e){return!e.hidden})).reduce((function(e,o){var c=n.includes(o.id);return[].concat(v()(e),[K(K({},o),{},{isOpen:!!o.expanded,cells:J(o,t,r,a),disableActions:c,isDeleting:c})])}),[])},G=function(e){return e.filter((function(e){return e.title||e.hidden})).map((function(e){return K({title:e.title||"",value:e.value,hidden:e.hidden,transforms:[E.e]},e.sortable&&{transforms:[j.a,E.e]})}))},Y=function(e,t){return K(K({},e),t)},Q=function(e,t,r){return function(a){var n={tooltip:e.formatMessage({id:"sources.notAdminButton",defaultMessage:"To perform this action, you must be granted write permissions from your Organization Administrator."}),isDisabled:!0,className:"ins-c-sources__disabled-drodpown-item"},o=[];return!a.imported&&function(e,t,r,a,n){e.splice(1,0,K({title:t.formatMessage({id:"sources.edit",defaultMessage:"Edit"}),onClick:function(e,t,a){var n=a.id;return r(Object(F.b)(F.c.sourcesDetail.path,n))}},a?{component:"button"}:n))}(o,e,t,r,n),o.push(K({title:e.formatMessage({id:"sources.remove",defaultMessage:"Remove"}),onClick:function(e,r,a){var n=a.id;return t(Object(F.b)(F.c.sourcesRemove.path,n))}},r?{component:"button"}:n)),o}},U=function(){var e,t=Object(l.k)().push,r=Object(p.a)(),a=Object(x.a)(),n=Object(L.a)(),o=Object(i.useSelector)((function(e){return e.sources}),i.shallowEqual),d=o.appTypes,f=o.entities,m=o.sourceTypes,b=o.sourceTypesLoaded,g=o.appTypesLoaded,y=o.sortBy,h=o.sortDirection,v=o.numberOfEntities,E=o.removingSources,j=o.filterValue,k=Object(i.useDispatch)(),B=0===v||!a,D=Object(s.useReducer)(Y,(e=Object(P.b)(r,B),{rows:[],sortBy:{},isLoaded:!1,cells:G(e)})),A=c()(D,2),C=A[0],N=A[1],R=function(){var e=Object(P.b)(r,B);return N({rows:W(f,e,m,d,E),cells:G(e)})};Object(s.useEffect)((function(){a&&b&&g?(N({isLoaded:!0}),R()):(N({isLoaded:!1}),function(){var e=Object(P.b)(r,B);N({cells:G(e)})}())}),[a,b,g]),Object(s.useEffect)((function(){C.isLoaded&&R()}),[f,E]);var F=C.rows;if(0===v&&C.isLoaded){var q=Object.entries(j).map((function(e){var t=c()(e,2),r=(t[0],t[1]);return r&&(!Array.isArray(r)||Array.isArray(r)&&r.length>0)})).filter(Boolean).length>0;F=[{heightAuto:!0,cells:[{props:{colSpan:P.a},title:q?u.a.createElement(_,null):u.a.createElement(z,null)}]}]}else a&&g&&b||(F=[{heightAuto:!0,cells:[{props:{colSpan:P.a,className:"sources-placeholder-row"},title:u.a.createElement(w.e,null)}]}]);return u.a.createElement(T.a,{gridBreakPoint:"grid-lg","aria-label":r.formatMessage({id:"sources.list",defaultMessage:"List of Sources"}),onSort:function(e,t,r){return k(Object(O.m)(C.cells[t].value,r))},sortBy:{index:C.cells.map((function(e){return e.hidden?"hidden":e.value})).indexOf(y),direction:h},rows:F,cells:C.cells,actionResolver:a&&v>0?Q(r,t,n):void 0,rowWrapper:w.f},u.a.createElement(M.a,null),u.a.createElement(S.a,null))},X=r(30),Z=r(216),$=r.n(Z),ee=function(){var e=Object(p.a)();return u.a.createElement(A.Bullseye,null,u.a.createElement(k.EmptyState,{className:"ins-c-sources__empty-state"},u.a.createElement(B.EmptyStateIcon,{icon:$.a,color:"var(--pf-global--danger-color--100)"}),u.a.createElement(C.Title,{headingLevel:"h5",size:"lg"},e.formatMessage({id:"sources.errorStateTitle",defaultMessage:"Something went wrong"})),u.a.createElement(D.EmptyStateBody,null,e.formatMessage({id:"sources.errorStateBody",defaultMessage:"There was a problem processing the request. Try refreshing the page. If the problem persists, contact <a>Red Hat support.</a>"},{a:function(e){return u.a.createElement(X.Text,{key:"link",component:"a",href:"https://access.redhat.com/support",target:"_blank",rel:"noopener noreferrer"},e)}})),u.a.createElement(f.Button,{className:"pf-u-mt-xl",variant:"primary",component:"a",href:window.location.href},e.formatMessage({id:"sources.retry",defaultMessage:"Retry"}))))},te=r(504);function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ne=Object(te.default)((function(e){return e()}),500),oe={pageNumber:1,sortBy:"created_at",sortDirection:"desc"},ce=function(e,t){return e.filter((function(e){var r=e.vendor;return t===V.b?V.c.includes(r):r===V.d})).map((function(e){var t=e.id;return{label:e.product_name,value:t}})).sort((function(e,t){return e.label.localeCompare(t.label)}))},se=function(e){return e.map((function(e){var t=e.id;return{label:e.display_name,value:t}})).sort((function(e,t){return e.label.localeCompare(t.label)}))},ue=function(e,t,r){return r(Object(O.d)(n()({},e,t)))},ie=function(e,t,r){return Object.keys(e).map((function(a){return e[a]&&e[a].length>0?function(e,t,r,a){return{name:function(){return{name:t[e],key:e}},source_type_id:function(){return{category:"Source Type",key:e,chips:t[e].map((function(e){var t=r.find((function(t){return t.id===e}));return{name:t?t.product_name:e,value:e}}))}},applications:function(){return{category:"Application",key:e,chips:t[e].map((function(e){var t=a.find((function(t){return t.id===e}));return{name:t?t.display_name:e,value:e}}))}}}[e]||function(){return{name:e}}}(a,e,t,r)():void 0})).filter(Boolean)},le=function(e,t){return t&&e.length>0?e:void 0},de=r(628),fe=r(62),pe=r(588),me=r(590),be=r(824),ge=r(591),ye=r(826),Oe=r.n(ye),he=r(825),ve=r.n(he),Ee=function(){var e=Object(p.a)(),t=Object(i.useDispatch)(),r=Object(i.useSelector)((function(e){return e.sources.activeVendor}));return u.a.createElement(pe.Tabs,{activeKey:r,onSelect:function(e,r){return t(Object(O.l)(r))},className:"pf-u-mt-md",isFilled:!0},u.a.createElement(me.Tab,{eventKey:V.b,title:u.a.createElement(u.a.Fragment,null,u.a.createElement(be.TabTitleIcon,null,u.a.createElement(ve.a,null)),u.a.createElement(ge.TabTitleText,null,e.formatMessage({id:"sources.cloudSources",defaultMessage:"Cloud sources"})))}),u.a.createElement(me.Tab,{eventKey:V.d,title:u.a.createElement(u.a.Fragment,null,u.a.createElement(be.TabTitleIcon,null,u.a.createElement(Oe.a,null)),u.a.createElement(ge.TabTitleText,null,e.formatMessage({id:"sources.redhatSources",defaultMessage:"Red Hat sources"})))}))},je=r(179),Te=r(7),Me=r.n(Te),Se=r(43),we=r(63),Pe=r(108),ke=r(827),Be=r(182),De=r(180),Ae=function(e){var t=e.setSelectedType,r=Object(p.a)();return u.a.createElement(Se.Card,{className:"pf-m-selectable pf-m-selected ins-c-sources__cloud-empty-state-card pf-u-mt-md pf-u-mt-0-on-md"},u.a.createElement(Pe.CardTitle,null,r.formatMessage({id:"cloud.emptystate.cardTitle",defaultMessage:"Get started by connecting to your public clouds"})),u.a.createElement(we.CardBody,null,u.a.createElement(X.Text,null,r.formatMessage({id:"cloud.emptystate.cardDescription",defaultMessage:"Choose a provider to begin."})),u.a.createElement("div",{className:"provider-tiles pf-u-mt-md pf-u-mb-lg"},u.a.createElement(Be.a,{setSelectedType:t}))),u.a.createElement(ke.CardFooter,{className:"cloud-footer"},u.a.createElement(De.a,null),u.a.createElement(X.Text,{className:"catalog-link pf-u-mt-md"},r.formatMessage({id:"cloud.emptystate.catalogLink",defaultMessage:"Not set up with a Cloud provider? <a>Find a Cloud & Service Provider with Red Hat Ecosystem</a>"},{a:function(e){return u.a.createElement(X.Text,{key:"link",component:"a",href:"https://catalog.redhat.com/cloud",target:"_blank",rel:"noopener noreferrer"},e)}}))))};Ae.propTypes={setSelectedType:Me.a.func.isRequired};var Ce=Ae;function Ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _e=Object(s.lazy)((function(){return Promise.all([r.e(0),r.e(7)]).then(r.bind(null,960))})),xe=Object(s.lazy)((function(){return Promise.all([r.e(0),r.e(3),r.e(1),r.e(14)]).then(r.t.bind(null,971,7)).then((function(e){return{default:e.AddSourceWizard}}))}));t.default=function(){var e=Object(s.useState)(),t=c()(e,2),r=t[0],a=t[1],o=Object(s.useState)(),h=c()(o,2),v=h[0],E=h[1],j=Object(x.a)(),T=Object(L.a)(),M=Object(l.k)(),S=Object(p.a)(),P=Object(i.useSelector)((function(e){return e.sources}),i.shallowEqual),k=P.filterValue,B=P.numberOfEntities,D=P.appTypes,A=P.pageSize,C=P.pageNumber,N=P.fetchingError,R=P.sourceTypes,_=P.paginationClicked,q=P.appTypesLoaded,I=P.sourceTypesLoaded,z=P.activeVendor,H=j&&I&&q,K=Object(i.useDispatch)();Object(s.useEffect)((function(){r!==k.name&&a(k.name)}),[k.name]);var J=function(e,t){return K(Object(O.h)(t,A))},W=Math.ceil(B/A);Object(s.useEffect)((function(){H&&B>0&&C>Math.max(W,1)&&J(0,W)}));var G={itemCount:B,page:C,perPage:A,onSetPage:J,onPerPageSelect:function(e,t){return K(Object(O.h)(1,t))},className:"top-pagination"},Y=Re(Re({},G),{},{dropDirection:"up",variant:"bottom",isCompact:!1,className:"bottom-pagination"}),Q=!(H&&q&&I||_),X=Object.entries(k).map((function(e){var t=c()(e,2),r=(t[0],t[1]);return r&&(!Array.isArray(r)||Array.isArray(r)&&r.length>0)})).filter(Boolean).length>0,Z=H&&0===B&&!X&&z===V.b,$=z===V.b&&!Z;return u.a.createElement(u.a.Fragment,null,u.a.createElement(s.Suspense,{fallback:null},u.a.createElement(de.a,{exact:!0,route:F.c.sourcesRemove,Component:_e}),u.a.createElement(de.a,{exact:!0,route:F.c.sourcesNew,Component:xe,componentProps:{sourceTypes:le(R,I),applicationTypes:le(D,q),isOpen:!0,onClose:function(e,t){E(void 0),null!=t&&t.id?M.push(Object(F.b)(F.c.sourcesDetail.path,t.id)):M.push(F.c.sources.path)},afterSuccess:function(e){return function(e){return e(Object(O.f)(oe))}(K)},hideSourcesButton:!0,returnButtonTitle:S.formatMessage({id:"sources.returnButtonTitle",defaultMessage:"Exit to source details"}),selectedType:v}})),u.a.createElement(b.PageHeader,{className:"pf-u-pb-0"},u.a.createElement(b.PageHeaderTitle,{title:S.formatMessage({id:"sources.sources",defaultMessage:"Sources"})}),u.a.createElement(Ee,null)),u.a.createElement(g.Section,{type:"content"},$&&u.a.createElement(je.b,{setSelectedType:E}),N&&u.a.createElement(ee,null),!N&&Z&&u.a.createElement(Ce,{setSelectedType:E}),!N&&!Z&&u.a.createElement(u.a.Fragment,null,u.a.createElement(m.PrimaryToolbar,{pagination:Q?u.a.createElement(w.d,null):B>0?G:void 0,actionsConfig:T?{actions:[u.a.createElement(d.Link,{to:F.c.sourcesNew.path,key:"addSourceButton"},u.a.createElement(f.Button,{variant:"primary",id:"addSourceButton"},S.formatMessage({id:"sources.addSource",defaultMessage:"Add source"})))]}:{actions:[u.a.createElement(fe.Tooltip,{content:S.formatMessage({id:"sources.notAdminAddButton",defaultMessage:"To add a source, you must be granted write permissions from your Organization Administrator."}),key:"addSourceButton"},u.a.createElement("span",{tabIndex:"0"},u.a.createElement(f.Button,{variant:"primary",isDisabled:!0,id:"addSourceButton"},S.formatMessage({id:"sources.addSource",defaultMessage:"Add source"}))))]},filterConfig:{items:[{label:S.formatMessage({id:"sources.name",defaultMessage:"Name"}),filterValues:{"aria-label":S.formatMessage({id:"sources.filterByName",defaultMessage:"Filter by name"}),onChange:function(e,t){a(t),ne((function(){return ue("name",t,K)}))},value:r}},{label:S.formatMessage({id:"sources.type",defaultMessage:"Type"}),type:"checkbox",filterValues:{onChange:function(e,t){return ue("source_type_id",t,K)},items:ce(R||[],z),value:k.source_type_id}},{label:S.formatMessage({id:"sources.application",defaultMessage:"Application"}),type:"checkbox",filterValues:{onChange:function(e,t){return ue("applications",t,K)},items:se((null==D?void 0:D.filter(Object(y.filterVendorAppTypes)(R)))||[]),value:k.applications}}]},activeFiltersConfig:{filters:ie(k,R,D),onDelete:function(e,t,r){return K(Object(O.d)(function(e,t,r){if(r)return Object.keys(t).reduce((function(e,t){return ae(ae({},e),{},n()({},t,void 0))}),{});var a=e[0];return ae(ae({},t),{},n()({},a.key,a.chips?t[a.key].filter((function(e){return e!==a.chips[0].value})):void 0))}(t,k,r)))}}}),u.a.createElement(U,null),u.a.createElement(m.PrimaryToolbar,{pagination:Q?u.a.createElement(w.d,null):B>0?Y:void 0}))))}},415:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var a=r(20),n=r(12),o=function(){var e=Object(n.m)().id;return Object(a.useSelector)((function(t){return t.sources.entities.find((function(t){return t.id===e}))}))}},460:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=r(20),n=function(){return Object(a.useSelector)((function(e){return e.sources.loaded}))<=0}},528:function(e,t,r){"use strict";var a=r(31),n=r.n(a),o=r(0),c=r.n(o),s=r(20),u=r(12),i=r(94),l=r(58),d=r(34),f=r(460),p=r(49),m=r(415);t.a=function(){var e=Object(u.m)().id,t=Object(i.a)(),r=Object(m.a)(),a=Object(f.a)(),b=Object(s.useSelector)((function(e){return e.sources}),s.shallowEqual),g=b.appTypesLoaded,y=b.sourceTypesLoaded,O=Object(s.useDispatch)(),h=Object(o.useState)(!1),v=n()(h,2),E=v[0],j=v[1];return Object(o.useEffect)((function(){a&&g&&y&&Object(d.h)(e).then((function(e){var t=n()(e.sources,1)[0];return O(Object(l.a)(t)),t})).then((function(r){r||O(Object(l.b)(t.formatMessage({id:"sources.sourceNotFoundTitle",defaultMessage:"Requested source was not found"}),"danger",t.formatMessage({id:"sources.sourceNotFoundTitleDescription",defaultMessage:"Source with { id } was not found. Try it again later."},{id:e}))),j(!0)}))}),[a,g,y]),E&&!r?c.a.createElement(u.c,{to:p.c.sources.path}):null}},628:function(e,t,r){"use strict";var a=r(38),n=r.n(a),o=r(53),c=r.n(o),s=r(0),u=r.n(s),i=r(12),l=r(7),d=r.n(l),f=r(20),p=r(94),m=r(58),b=r(133),g=r(49),y=function(){var e=Object(p.a)(),t=Object(b.a)(),r=Object(f.useDispatch)();return Object(s.useEffect)((function(){if(!1===t){var a=e.formatMessage({id:"sources.insufficietnPerms",defaultMessage:"Insufficient permissions"}),n=e.formatMessage({id:"sources.notAdminButton",defaultMessage:"To perform this action, you must be granted write permissions from your Organization Administrator."});r(Object(m.b)(a,"danger",n))}}),[t]),!1===t?u.a.createElement(i.c,{to:g.c.sources.path}):null},O=r(415),h=r(528),v=function(e){var t=e.route,r=e.children;return!(t.redirectNoId&&Object(O.a)())&&t.redirectNoId?u.a.createElement(h.a,null):u.a.createElement(u.a.Fragment,null,t.writeAccess&&u.a.createElement(y,null),r)};v.propTypes={route:d.a.shape({path:d.a.string.isRequired,redirectNoId:d.a.bool,writeAccess:d.a.bool}).isRequired,children:d.a.node.isRequired};var E=function(e){var t=e.route,r=e.componentProps,a=e.Component,o=c()(e,["route","componentProps","Component"]);return u.a.createElement(i.d,n()({},o,{path:t.path}),u.a.createElement(v,{route:t},u.a.createElement(a,r)))};E.propTypes={route:d.a.shape({path:d.a.string.isRequired,redirectNoId:d.a.bool,writeAccess:d.a.bool}).isRequired,componentProps:d.a.any,Component:d.a.oneOfType([d.a.func,d.a.object]).isRequired};t.a=E}}]);
//# sourceMappingURL=../sourcemaps/sourcesPage.js.map