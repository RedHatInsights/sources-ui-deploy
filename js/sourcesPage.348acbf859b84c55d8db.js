(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{510:function(e,t,a){"use strict";a.r(t);var r=a(2),n=a.n(r),o=a(37),s=a.n(o),c=a(0),u=a.n(c),i=a(25),l=a(15),d=a(59),f=a(117),m=a(76),p=a(856),b=a(111),g=a(196),y=a(579),O=a(66),v=a(17),h=a.n(v),E=a(549),j=a(581),M=a(700),T=a(778),S=a(776),w=a(100),P=a(110),k=a(520),B=a(521),A=a(522),C=a(243),D=a(158),N=a(560),_=a.n(N),R=function(){var e=Object(m.a)(),t=Object(i.useDispatch)();return u.a.createElement(C.Bullseye,null,u.a.createElement(k.EmptyState,{variant:k.EmptyStateVariant.small},u.a.createElement(B.EmptyStateIcon,{icon:_.a}),u.a.createElement(D.Title,{headingLevel:"h2",size:"lg"},e.formatMessage({id:"sources.noResultsFoundTitle",defaultMessage:"No sources found"})),u.a.createElement(A.EmptyStateBody,null,e.formatMessage({id:"sources.noResultsFoundDescription",defaultMessage:"No sources match the filter criteria. Remove all filters or clear all filters to show sources."})),u.a.createElement(f.Button,{variant:"link",onClick:function(){return t(Object(O.c)())}},e.formatMessage({id:"sources.clearAllFilters",defaultMessage:"Clear all filters"}))))},x=a(540),L=a(162),F=a(60),V=a(691),q=a.n(V),I=a(34),z=function(){var e=Object(m.a)(),t=Object(i.useSelector)((function(e){return e.sources.activeVendor}));return u.a.createElement(C.Bullseye,null,u.a.createElement(k.EmptyState,{className:"ins-c-sources__empty-state"},u.a.createElement(B.EmptyStateIcon,{icon:q.a}),u.a.createElement(D.Title,{headingLevel:"h5",size:"lg"},e.formatMessage({id:"sources.emptyStateTitle",defaultMessage:"No sources"})),u.a.createElement(A.EmptyStateBody,null,e.formatMessage({id:"sources.emptyStateBody",defaultMessage:"You donâ€™t have any {activeVendor} sources configured. Add a source to connect to your Red Hat applications."},{activeVendor:t===I.b?e.formatMessage({id:"sources.cloud",defaultMessage:"cloud"}):"Red Hat"}))))};function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(Object(a),!0).forEach((function(t){n()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var J=function(e,t,a,r){return t.filter((function(e){return e.title||e.hidden})).map((function(t){return{title:t.formatter?t.formatter(e[t.value],e,{sourceTypes:a,appTypes:r}):e[t.value]||""}}))},U=function(e,t,a,r,n){return e.filter((function(e){return!e.hidden})).reduce((function(e,o){var s=n.includes(o.id);return[].concat(h()(e),[K(K({},o),{},{isOpen:!!o.expanded,cells:J(o,t,a,r),disableActions:s,isDeleting:s})])}),[])},W=function(e){return e.filter((function(e){return e.title||e.hidden})).map((function(e){return K({title:e.title||"",value:e.value,hidden:e.hidden,transforms:[E.e]},e.sortable&&{transforms:[j.a,E.e]})}))},G=function(e,t){return K(K({},e),t)},Y=function(e,t,a){return function(r){var n={tooltip:e.formatMessage({id:"sources.notAdminButton",defaultMessage:"To perform this action, you must be granted write permissions from your Organization Administrator."}),isDisabled:!0,className:"ins-c-sources__disabled-drodpown-item"},o=[];return!r.imported&&function(e,t,a,r,n){e.splice(1,0,K({title:t.formatMessage({id:"sources.edit",defaultMessage:"Edit"}),onClick:function(e,t,r){var n=r.id;return a(Object(F.b)(F.c.sourcesDetail.path,n))}},r?{component:"button"}:n))}(o,e,t,a,n),o.push(K({title:e.formatMessage({id:"sources.remove",defaultMessage:"Remove"}),onClick:function(e,a,r){var n=r.id;return t(Object(F.b)(F.c.sourcesRemove.path,n))}},a?{component:"button"}:n)),o}},Q=function(){var e,t=Object(l.k)().push,a=Object(m.a)(),r=Object(x.a)(),n=Object(L.a)(),o=Object(i.useSelector)((function(e){return e.sources}),i.shallowEqual),d=o.appTypes,f=o.entities,p=o.sourceTypes,b=o.sourceTypesLoaded,g=o.appTypesLoaded,y=o.sortBy,v=o.sortDirection,h=o.numberOfEntities,E=o.removingSources,j=o.filterValue,k=Object(i.useDispatch)(),B=0===h||!r,A=Object(c.useReducer)(G,(e=Object(P.b)(a,B),{rows:[],sortBy:{},isLoaded:!1,cells:W(e)})),C=s()(A,2),D=C[0],N=C[1],_=function(){var e=Object(P.b)(a,B);return N({rows:U(f,e,p,d,E),cells:W(e)})};Object(c.useEffect)((function(){r&&b&&g?(N({isLoaded:!0}),_()):(N({isLoaded:!1}),function(){var e=Object(P.b)(a,B);N({cells:W(e)})}())}),[r,b,g]),Object(c.useEffect)((function(){D.isLoaded&&_()}),[f,E]);var F=D.rows;if(0===h&&D.isLoaded){var V=Object.entries(j).map((function(e){var t=s()(e,2),a=(t[0],t[1]);return a&&(!Array.isArray(a)||Array.isArray(a)&&a.length>0)})).filter(Boolean).length>0;F=[{heightAuto:!0,cells:[{props:{colSpan:P.a},title:V?u.a.createElement(R,null):u.a.createElement(z,null)}]}]}else r&&g&&b||(F=[{heightAuto:!0,cells:[{props:{colSpan:P.a,className:"sources-placeholder-row"},title:u.a.createElement(w.e,null)}]}]);return u.a.createElement(M.a,{gridBreakPoint:"grid-lg","aria-label":a.formatMessage({id:"sources.list",defaultMessage:"List of Sources"}),onSort:function(e,t,a){return k(Object(O.m)(D.cells[t].value,a))},sortBy:{index:D.cells.map((function(e){return e.hidden?"hidden":e.value})).indexOf(y),direction:v},rows:F,cells:D.cells,actionResolver:r&&h>0?Y(a,t,n):void 0,rowWrapper:w.f},u.a.createElement(T.a,null),u.a.createElement(S.a,null))},X=a(32),Z=a(269),$=a.n(Z),ee=function(){var e=Object(m.a)();return u.a.createElement(C.Bullseye,null,u.a.createElement(k.EmptyState,{className:"ins-c-sources__empty-state"},u.a.createElement(B.EmptyStateIcon,{icon:$.a,color:"var(--pf-global--danger-color--100)"}),u.a.createElement(D.Title,{headingLevel:"h5",size:"lg"},e.formatMessage({id:"sources.errorStateTitle",defaultMessage:"Something went wrong"})),u.a.createElement(A.EmptyStateBody,null,e.formatMessage({id:"sources.errorStateBody",defaultMessage:"There was a problem processing the request. Try refreshing the page. If the problem persists, contact <a>Red Hat support.</a>"},{a:function(e){return u.a.createElement(X.Text,{key:"link",component:"a",href:"https://access.redhat.com/support",target:"_blank",rel:"noopener noreferrer"},e)}})),u.a.createElement(f.Button,{className:"pf-u-mt-xl",variant:"primary",component:"a",href:window.location.href},e.formatMessage({id:"sources.retry",defaultMessage:"Retry"}))))},te=a(577),ae=a(16);function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(Object(a),!0).forEach((function(t){n()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var oe=Object(te.default)((function(e){return e()}),500),se={pageNumber:1,sortBy:"created_at",sortDirection:"desc"},ce=function(e,t){return e.filter((function(e){var a=e.vendor;return t===I.b?I.c.includes(a):a===I.d})).map((function(e){var t=e.id;return{label:e.product_name,value:t}})).sort((function(e,t){return e.label.localeCompare(t.label)}))},ue=function(e){return e.map((function(e){var t=e.id;return{label:e.display_name,value:t}})).sort((function(e,t){return e.label.localeCompare(t.label)}))},ie=function(e,t,a){return a(Object(O.d)(n()({},e,t)))},le=function(e,t,a,r){return Object.keys(e).map((function(n){return e[n]&&e[n].length>0?function(e,t,a,r,n){return{name:function(){return{name:t[e],key:e}},source_type_id:function(){return{category:"Source Type",key:e,chips:t[e].map((function(e){var t=a.find((function(t){return t.id===e}));return{name:t?t.product_name:e,value:e}}))}},applications:function(){return{category:"Application",key:e,chips:t[e].map((function(e){var t=r.find((function(t){return t.id===e}));return{name:t?t.display_name:e,value:e}}))}},availability_status:function(){return{category:"Status",key:e,chips:[{value:t[e][0],name:t[e][0]===ae.a?n.formatMessage({id:"sources.available",defaultMessage:"Available"}):n.formatMessage({id:"sources.unavailable",defaultMessage:"Unavailable"})}]}}}[e]||function(){return{name:e}}}(n,e,t,a,r)():void 0})).filter(Boolean)},de=function(e,t){return t&&e.length>0?e:void 0},fe=a(688),me=a(70),pe=a(649),be=a(651),ge=a(852),ye=a(652),Oe=a(854),ve=a.n(Oe),he=a(853),Ee=a.n(he),je=function(){var e=Object(m.a)(),t=Object(i.useDispatch)(),a=Object(i.useSelector)((function(e){return e.sources.activeVendor}));return u.a.createElement(pe.Tabs,{activeKey:a,onSelect:function(e,a){return t(Object(O.l)(a))},className:"pf-u-mt-md",isFilled:!0},u.a.createElement(be.Tab,{eventKey:I.b,title:u.a.createElement(u.a.Fragment,null,u.a.createElement(ge.TabTitleIcon,null,u.a.createElement(Ee.a,null)),u.a.createElement(ye.TabTitleText,null,e.formatMessage({id:"sources.cloudSources",defaultMessage:"Cloud sources"})))}),u.a.createElement(be.Tab,{eventKey:I.d,title:u.a.createElement(u.a.Fragment,null,u.a.createElement(ge.TabTitleIcon,null,u.a.createElement(ve.a,null)),u.a.createElement(ye.TabTitleText,null,e.formatMessage({id:"sources.redhatSources",defaultMessage:"Red Hat sources"})))}))},Me=a(215),Te=a(7),Se=a.n(Te),we=a(52),Pe=a(71),ke=a(134),Be=a(855),Ae=a(220),Ce=a(216),De=function(e){var t=e.setSelectedType,a=Object(m.a)();return u.a.createElement(we.Card,{className:"pf-m-selectable pf-m-selected ins-c-sources__cloud-empty-state-card pf-u-mt-md pf-u-mt-0-on-md"},u.a.createElement(ke.CardTitle,null,a.formatMessage({id:"cloud.emptystate.cardTitle",defaultMessage:"Get started by connecting to your public clouds"})),u.a.createElement(Pe.CardBody,null,u.a.createElement(X.Text,null,a.formatMessage({id:"cloud.emptystate.cardDescription",defaultMessage:"Choose a provider to begin."})),u.a.createElement("div",{className:"provider-tiles pf-u-mt-md pf-u-mb-lg"},u.a.createElement(Ae.a,{setSelectedType:t}))),u.a.createElement(Be.CardFooter,{className:"cloud-footer"},u.a.createElement(Ce.a,null),u.a.createElement(X.Text,{className:"catalog-link pf-u-mt-md"},a.formatMessage({id:"cloud.emptystate.catalogLink",defaultMessage:"Not set up with a Cloud provider? <a>Find a Cloud & Service Provider with Red Hat Ecosystem</a>"},{a:function(e){return u.a.createElement(X.Text,{key:"link",component:"a",href:"https://catalog.redhat.com/cloud",target:"_blank",rel:"noopener noreferrer"},e)}}))))};De.propTypes={setSelectedType:Se.a.func.isRequired};var Ne=De;function _e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(a),!0).forEach((function(t){n()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_e(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var xe=Object(c.lazy)((function(){return Promise.all([a.e(0),a.e(7)]).then(a.bind(null,965))})),Le=Object(c.lazy)((function(){return Promise.all([a.e(0),a.e(3),a.e(1),a.e(14)]).then(a.t.bind(null,976,7)).then((function(e){return{default:e.AddSourceWizard}}))}));t.default=function(){var e=Object(c.useState)(),t=s()(e,2),a=t[0],r=t[1],o=Object(c.useState)(),v=s()(o,2),h=v[0],E=v[1],j=Object(x.a)(),M=Object(L.a)(),T=Object(l.k)(),S=Object(m.a)(),P=Object(i.useSelector)((function(e){return e.sources}),i.shallowEqual),k=P.filterValue,B=P.numberOfEntities,A=P.appTypes,C=P.pageSize,D=P.pageNumber,N=P.fetchingError,_=P.sourceTypes,R=P.paginationClicked,V=P.appTypesLoaded,q=P.sourceTypesLoaded,z=P.activeVendor,H=j&&q&&V,K=Object(i.useDispatch)();Object(c.useEffect)((function(){a!==k.name&&r(k.name)}),[k.name]);var J=function(e,t){return K(Object(O.h)(t,C))},U=Math.ceil(B/C);Object(c.useEffect)((function(){H&&B>0&&D>Math.max(U,1)&&J(0,U)}));var W={itemCount:B,page:D,perPage:C,onSetPage:J,onPerPageSelect:function(e,t){return K(Object(O.h)(1,t))},className:"top-pagination"},G=Re(Re({},W),{},{dropDirection:"up",variant:"bottom",isCompact:!1,className:"bottom-pagination"}),Y=!(H&&V&&q||R),X=Object.entries(k).map((function(e){var t=s()(e,2),a=(t[0],t[1]);return a&&(!Array.isArray(a)||Array.isArray(a)&&a.length>0)})).filter(Boolean).length>0,Z=H&&0===B&&!X&&z===I.b,$=z===I.b&&!Z;return u.a.createElement(u.a.Fragment,null,u.a.createElement(c.Suspense,{fallback:null},u.a.createElement(fe.a,{exact:!0,route:F.c.sourcesRemove,Component:xe}),u.a.createElement(fe.a,{exact:!0,route:F.c.sourcesNew,Component:Le,componentProps:{sourceTypes:de(_,q),applicationTypes:de(A,V),isOpen:!0,onClose:function(e,t){E(void 0),null!=t&&t.id?T.push(Object(F.b)(F.c.sourcesDetail.path,t.id)):T.push(F.c.sources.path)},afterSuccess:function(e){return function(e){return e(Object(O.f)(se))}(K)},hideSourcesButton:!0,returnButtonTitle:S.formatMessage({id:"sources.returnButtonTitle",defaultMessage:"Exit to source details"}),selectedType:h}})),u.a.createElement(b.PageHeader,{className:"pf-u-pb-0"},u.a.createElement(b.PageHeaderTitle,{title:S.formatMessage({id:"sources.sources",defaultMessage:"Sources"})}),u.a.createElement(je,null)),u.a.createElement(g.Section,{type:"content"},$&&u.a.createElement(Me.b,{setSelectedType:E}),N&&u.a.createElement(ee,null),!N&&Z&&u.a.createElement(Ne,{setSelectedType:E}),!N&&!Z&&u.a.createElement(u.a.Fragment,null,u.a.createElement(p.PrimaryToolbar,{pagination:Y?u.a.createElement(w.d,null):B>0?W:void 0,actionsConfig:M?{actions:[u.a.createElement(d.Link,{to:F.c.sourcesNew.path,key:"addSourceButton"},u.a.createElement(f.Button,{variant:"primary",id:"addSourceButton"},S.formatMessage({id:"sources.addSource",defaultMessage:"Add source"})))]}:{actions:[u.a.createElement(me.Tooltip,{content:S.formatMessage({id:"sources.notAdminAddButton",defaultMessage:"To add a source, you must be granted write permissions from your Organization Administrator."}),key:"addSourceButton"},u.a.createElement("span",{tabIndex:"0"},u.a.createElement(f.Button,{variant:"primary",isDisabled:!0,id:"addSourceButton"},S.formatMessage({id:"sources.addSource",defaultMessage:"Add source"}))))]},filterConfig:{items:[{label:S.formatMessage({id:"sources.name",defaultMessage:"Name"}),filterValues:{"aria-label":S.formatMessage({id:"sources.filterByName",defaultMessage:"Filter by name"}),onChange:function(e,t){r(t),oe((function(){return ie("name",t,K)}))},value:a}},{label:S.formatMessage({id:"sources.type",defaultMessage:"Type"}),type:"checkbox",filterValues:{onChange:function(e,t){return ie("source_type_id",t,K)},items:ce(_||[],z),value:k.source_type_id}},{label:S.formatMessage({id:"sources.application",defaultMessage:"Application"}),type:"checkbox",filterValues:{onChange:function(e,t){return ie("applications",t,K)},items:ue((null==A?void 0:A.filter(Object(y.filterVendorAppTypes)(_)))||[]),value:k.applications}},{label:S.formatMessage({id:"sources.availabilityStatus",defaultMessage:"Status"}),type:"checkbox",filterValues:{onChange:function(e,t,a){return ie("availability_status",e.target.checked?[a]:[],K)},items:[{label:S.formatMessage({id:"sources.available",defaultMessage:"Available"}),value:ae.a},{label:S.formatMessage({id:"sources.unavailable",defaultMessage:"Unavailable"}),value:ae.c}],value:k.availability_status}}]},activeFiltersConfig:{filters:le(k,_,A,S),onDelete:function(e,t,a){return K(Object(O.d)(function(e,t,a){if(a)return Object.keys(t).reduce((function(e,t){return ne(ne({},e),{},n()({},t,void 0))}),{});var r=e[0];return ne(ne({},t),{},n()({},r.key,r.chips?t[r.key].filter((function(e){return e!==r.chips[0].value})):void 0))}(t,k,a)))}}}),u.a.createElement(Q,null),u.a.createElement(p.PrimaryToolbar,{pagination:Y?u.a.createElement(w.d,null):B>0?G:void 0}))))}},516:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a(25),n=a(15),o=function(){var e=Object(n.m)().id;return Object(r.useSelector)((function(t){return t.sources.entities.find((function(t){return t.id===e}))}))}},540:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(25),n=function(){return Object(r.useSelector)((function(e){return e.sources.loaded}))<=0}},597:function(e,t,a){"use strict";var r=a(37),n=a.n(r),o=a(0),s=a.n(o),c=a(25),u=a(15),i=a(76),l=a(66),d=a(40),f=a(540),m=a(60),p=a(516);t.a=function(){var e=Object(u.m)().id,t=Object(i.a)(),a=Object(p.a)(),r=Object(f.a)(),b=Object(c.useSelector)((function(e){return e.sources}),c.shallowEqual),g=b.appTypesLoaded,y=b.sourceTypesLoaded,O=Object(c.useDispatch)(),v=Object(o.useState)(!1),h=n()(v,2),E=h[0],j=h[1];return Object(o.useEffect)((function(){r&&g&&y&&Object(d.h)(e).then((function(e){var t=n()(e.sources,1)[0];return O(Object(l.a)(t)),t})).then((function(a){a||O(Object(l.b)(t.formatMessage({id:"sources.sourceNotFoundTitle",defaultMessage:"Requested source was not found"}),"danger",t.formatMessage({id:"sources.sourceNotFoundTitleDescription",defaultMessage:"Source with { id } was not found. Try it again later."},{id:e}))),j(!0)}))}),[r,g,y]),E&&!a?s.a.createElement(u.c,{to:m.c.sources.path}):null}},688:function(e,t,a){"use strict";var r=a(44),n=a.n(r),o=a(62),s=a.n(o),c=a(0),u=a.n(c),i=a(15),l=a(7),d=a.n(l),f=a(25),m=a(76),p=a(66),b=a(162),g=a(60),y=function(){var e=Object(m.a)(),t=Object(b.a)(),a=Object(f.useDispatch)();return Object(c.useEffect)((function(){if(!1===t){var r=e.formatMessage({id:"sources.insufficietnPerms",defaultMessage:"Insufficient permissions"}),n=e.formatMessage({id:"sources.notAdminButton",defaultMessage:"To perform this action, you must be granted write permissions from your Organization Administrator."});a(Object(p.b)(r,"danger",n))}}),[t]),!1===t?u.a.createElement(i.c,{to:g.c.sources.path}):null},O=a(516),v=a(597),h=function(e){var t=e.route,a=e.children;return!(t.redirectNoId&&Object(O.a)())&&t.redirectNoId?u.a.createElement(v.a,null):u.a.createElement(u.a.Fragment,null,t.writeAccess&&u.a.createElement(y,null),a)};h.propTypes={route:d.a.shape({path:d.a.string.isRequired,redirectNoId:d.a.bool,writeAccess:d.a.bool}).isRequired,children:d.a.node.isRequired};var E=function(e){var t=e.route,a=e.componentProps,r=e.Component,o=s()(e,["route","componentProps","Component"]);return u.a.createElement(i.d,n()({},o,{path:t.path}),u.a.createElement(h,{route:t},u.a.createElement(r,a)))};E.propTypes={route:d.a.shape({path:d.a.string.isRequired,redirectNoId:d.a.bool,writeAccess:d.a.bool}).isRequired,componentProps:d.a.any,Component:d.a.oneOfType([d.a.func,d.a.object]).isRequired};t.a=E}}]);
//# sourceMappingURL=../sourcemaps/sourcesPage.js.map