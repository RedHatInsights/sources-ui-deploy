(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{516:function(e,t,a){"use strict";a.r(t);var r=a(2),n=a.n(r),o=a(37),c=a.n(o),s=a(0),i=a.n(s),u=a(25),l=a(14),d=a(59),f=a(120),m=a(64),p=a(873),b=a(112),g=a(199),y=a(587),O=a(67),v=a(17),h=a.n(v),E=a(556),j=a(589),T=a(712),S=a(794),M=a(793),w=a(101),k=a(111),P=a(527),C=a(528),N=a(529),D=a(247),A=a(161),B=a(568),_=a.n(B),R=function(){var e=Object(m.a)(),t=Object(u.useDispatch)();return i.a.createElement(D.Bullseye,null,i.a.createElement(P.EmptyState,{variant:P.EmptyStateVariant.small},i.a.createElement(C.EmptyStateIcon,{icon:_.a}),i.a.createElement(A.Title,{headingLevel:"h2",size:"lg"},e.formatMessage({id:"sources.noResultsFoundTitle",defaultMessage:"No sources found"})),i.a.createElement(N.EmptyStateBody,null,e.formatMessage({id:"sources.noResultsFoundDescription",defaultMessage:"No sources match the filter criteria. Remove all filters or clear all filters to show sources."})),i.a.createElement(f.Button,{variant:"link",onClick:function(){return t(Object(O.c)())}},e.formatMessage({id:"sources.clearAllFilters",defaultMessage:"Clear all filters"}))))},x=a(547),L=a(165),F=a(60);function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(Object(a),!0).forEach((function(t){n()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var z=function(e,t,a,r){return t.filter((function(e){return e.title||e.hidden})).map((function(t){return{title:t.formatter?t.formatter(e[t.value],e,{sourceTypes:a,appTypes:r}):e[t.value]||""}}))},V=function(e,t,a,r,n){return e.filter((function(e){return!e.hidden})).reduce((function(e,o){var c=n.includes(o.id);return[].concat(h()(e),[I(I({},o),{},{isOpen:!!o.expanded,cells:z(o,t,a,r),disableActions:c,isDeleting:c})])}),[])},H=function(e){return e.filter((function(e){return e.title||e.hidden})).map((function(e){return I({title:e.title||"",value:e.value,hidden:e.hidden,transforms:[E.e]},e.sortable&&{transforms:[j.a,E.e]})}))},K=function(e,t){return I(I({},e),t)},G=function(e,t,a){return function(r){var n={tooltip:e.formatMessage({id:"sources.notAdminButton",defaultMessage:"To perform this action, you must be granted write permissions from your Organization Administrator."}),isDisabled:!0,className:"ins-c-sources__disabled-drodpown-item"},o=[];return!r.imported&&function(e,t,a,r,n){e.splice(1,0,I({title:t.formatMessage({id:"sources.edit",defaultMessage:"Edit"}),onClick:function(e,t,r){var n=r.id;return a(Object(F.b)(F.c.sourcesDetail.path,n))}},r?{component:"button"}:n))}(o,e,t,a,n),o.push(I({title:e.formatMessage({id:"sources.remove",defaultMessage:"Remove"}),onClick:function(e,a,r){var n=r.id;return t(Object(F.b)(F.c.sourcesRemove.path,n))}},a?{component:"button"}:n)),o}},J=function(){var e,t=Object(l.k)().push,a=Object(m.a)(),r=Object(x.a)(),n=Object(L.a)(),o=Object(u.useSelector)((function(e){return e.sources}),u.shallowEqual),d=o.appTypes,f=o.entities,p=o.sourceTypes,b=o.sourceTypesLoaded,g=o.appTypesLoaded,y=o.sortBy,v=o.sortDirection,h=o.numberOfEntities,E=o.removingSources,j=Object(u.useDispatch)(),P=0===h||!r,C=Object(s.useReducer)(K,(e=Object(k.b)(a,P),{rows:[],sortBy:{},isLoaded:!1,cells:H(e)})),N=c()(C,2),D=N[0],A=N[1],B=function(){var e=Object(k.b)(a,P);return A({rows:V(f,e,p,d,E),cells:H(e)})};Object(s.useEffect)((function(){r&&b&&g?(A({isLoaded:!0}),B()):(A({isLoaded:!1}),function(){var e=Object(k.b)(a,P);A({cells:H(e)})}())}),[r,b,g]),Object(s.useEffect)((function(){D.isLoaded&&B()}),[f,E]);var _=D.rows;return 0===h&&D.isLoaded?_=[{heightAuto:!0,cells:[{props:{colSpan:k.a},title:i.a.createElement(R,null)}]}]:r&&g&&b||(_=[{heightAuto:!0,cells:[{props:{colSpan:k.a,className:"sources-placeholder-row"},title:i.a.createElement(w.e,null)}]}]),i.a.createElement(T.a,{gridBreakPoint:"grid-lg","aria-label":a.formatMessage({id:"sources.list",defaultMessage:"List of Sources"}),onSort:function(e,t,a){return j(Object(O.m)(D.cells[t].value,a))},sortBy:{index:D.cells.map((function(e){return e.hidden?"hidden":e.value})).indexOf(y),direction:v},rows:_,cells:D.cells,actionResolver:r&&h>0?G(a,t,n):void 0,rowWrapper:w.f},i.a.createElement(S.a,null),i.a.createElement(M.a,null))},U=a(32),W=a(655),Q=a.n(W),X=function(){var e=Object(m.a)();return i.a.createElement(D.Bullseye,null,i.a.createElement(P.EmptyState,{className:"ins-c-sources__empty-state"},i.a.createElement(C.EmptyStateIcon,{icon:Q.a,color:"var(--pf-global--danger-color--100)"}),i.a.createElement(A.Title,{headingLevel:"h5",size:"lg"},e.formatMessage({id:"sources.errorStateTitle",defaultMessage:"Something went wrong"})),i.a.createElement(N.EmptyStateBody,null,e.formatMessage({id:"sources.errorStateBody",defaultMessage:"There was a problem processing the request. Try refreshing the page. If the problem persists, contact <a>Red Hat support.</a>"},{a:function(e){return i.a.createElement(U.Text,{key:"link",component:"a",href:"https://access.redhat.com/support",target:"_blank",rel:"noopener noreferrer"},e)}})),i.a.createElement(f.Button,{className:"pf-u-mt-xl",variant:"primary",component:"a",href:window.location.href},e.formatMessage({id:"sources.retry",defaultMessage:"Retry"}))))},Y=a(585),Z=a(34),$=a(16);function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(a),!0).forEach((function(t){n()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ae=Object(Y.default)((function(e){return e()}),500),re={pageNumber:1,sortBy:"created_at",sortDirection:"desc"},ne=function(e,t){return e.filter((function(e){var a=e.vendor;return t===Z.b?Z.c.includes(a):a===Z.d})).map((function(e){var t=e.id;return{label:e.product_name,value:t}})).sort((function(e,t){return e.label.localeCompare(t.label)}))},oe=function(e){return e.map((function(e){var t=e.id;return{label:e.display_name,value:t}})).sort((function(e,t){return e.label.localeCompare(t.label)}))},ce=function(e,t,a){return a(Object(O.d)(n()({},e,t)))},se=function(e,t,a,r){return Object.keys(e).map((function(n){return e[n]&&e[n].length>0?function(e,t,a,r,n){return{name:function(){return{name:t[e],key:e}},source_type_id:function(){return{category:"Source Type",key:e,chips:t[e].map((function(e){var t=a.find((function(t){return t.id===e}));return{name:t?t.product_name:e,value:e}}))}},applications:function(){return{category:"Application",key:e,chips:t[e].map((function(e){var t=r.find((function(t){return t.id===e}));return{name:t?t.display_name:e,value:e}}))}},availability_status:function(){return{category:"Status",key:e,chips:[{value:t[e][0],name:t[e][0]===$.a?n.formatMessage({id:"sources.available",defaultMessage:"Available"}):n.formatMessage({id:"sources.unavailable",defaultMessage:"Unavailable"})}]}}}[e]||function(){return{name:e}}}(n,e,t,a,r)():void 0})).filter(Boolean)},ie=function(e,t){return t&&e.length>0?e:void 0},ue=a(698),le=a(72),de=a(657),fe=a(659),me=a(869),pe=a(660),be=a(871),ge=a.n(be),ye=a(870),Oe=a.n(ye),ve=function(){var e=Object(m.a)(),t=Object(u.useDispatch)(),a=Object(u.useSelector)((function(e){return e.sources.activeVendor}));return i.a.createElement(de.Tabs,{activeKey:a,onSelect:function(e,a){return t(Object(O.l)(a))},className:"pf-u-mt-md"},i.a.createElement(fe.Tab,{eventKey:Z.b,title:i.a.createElement(i.a.Fragment,null,i.a.createElement(me.TabTitleIcon,null,i.a.createElement(Oe.a,null)),i.a.createElement(pe.TabTitleText,null,e.formatMessage({id:"sources.cloudSources",defaultMessage:"Cloud sources"})))}),i.a.createElement(fe.Tab,{eventKey:Z.d,title:i.a.createElement(i.a.Fragment,null,i.a.createElement(me.TabTitleIcon,null,i.a.createElement(ge.a,null)),i.a.createElement(pe.TabTitleText,null,e.formatMessage({id:"sources.redhatSources",defaultMessage:"Red Hat sources"})))}))},he=a(218),Ee=a(7),je=a.n(Ee),Te=a(52),Se=a(71),Me=a(135),we=a(872),ke=a(219),Pe=a(221),Ce=function(e){var t=e.setSelectedType,a=Object(m.a)();return i.a.createElement(Te.Card,{className:"ins-c-sources__cloud-empty-state-card pf-u-mt-md pf-u-mt-0-on-md"},i.a.createElement(Me.CardTitle,null,a.formatMessage({id:"cloud.emptystate.cardTitle",defaultMessage:"Get started by connecting to your public clouds"})),i.a.createElement(Se.CardBody,null,i.a.createElement(U.Text,null,a.formatMessage({id:"cloud.emptystate.cardDescription",defaultMessage:"Choose a provider to begin."})),i.a.createElement("div",{className:"provider-tiles pf-u-mt-md pf-u-mb-lg"},i.a.createElement(ke.a,{setSelectedType:t}))),i.a.createElement(we.CardFooter,{className:"cloud-footer"},i.a.createElement(Pe.a,null),i.a.createElement(U.Text,{className:"catalog-link pf-u-mt-md"},a.formatMessage({id:"cloud.emptystate.catalogLink",defaultMessage:"Not set up with a Cloud provider? <a>Find a Cloud & Service Provider with Red Hat Ecosystem</a>"},{a:function(e){return i.a.createElement(U.Text,{key:"link",component:"a",href:"https://catalog.redhat.com/cloud",target:"_blank",rel:"noopener noreferrer"},e)}}))))};Ce.propTypes={setSelectedType:je.a.func.isRequired};var Ne=Ce,De=a(100),Ae=a(115),Be=a(220),_e=function(e){var t=e.setSelectedType,a=Object(l.k)().push,r=Object(L.a)(),n=function(e){t(e),a(F.c.sourcesNew.path)},o=r?De.Tile:Be.a,c=i.a.createElement(Ae.a,{className:"redhat-icon",src:"/apps/frontend-assets/red-hat-logos/stacked.svg",alt:"red hat logo"});return i.a.createElement(i.a.Fragment,null,i.a.createElement(o,{isStacked:!0,title:"Ansible Automation Platform",onClick:function(){return n("ansible-tower")},className:"tile pf-u-mr-md-on-md pf-u-mt-md pf-u-mt-0-on-md",icon:c}),i.a.createElement(o,{isStacked:!0,title:"OpenShift Container Platfrom",className:"tile pf-u-mr-md-on-md pf-u-mt-md pf-u-mt-0-on-md",onClick:function(){return n("openshift")},icon:c}),i.a.createElement(o,{isStacked:!0,title:"Satellite",onClick:function(){return n("satellite")},className:"tile pf-u-mr-md-on-md pf-u-mt-md pf-u-mt-0-on-md",icon:c}))};_e.propTypes={setSelectedType:je.a.func.isRequired};var Re=_e,xe=function(e){var t=e.setSelectedType,a=Object(m.a)();return i.a.createElement(Te.Card,{className:"ins-c-sources__cloud-empty-state-card pf-u-mt-md pf-u-mt-0-on-md"},i.a.createElement(Me.CardTitle,null,a.formatMessage({id:"redhat.emptystate.cardTitle",defaultMessage:"Get started by connecting to your Red Hat applications"})),i.a.createElement(Se.CardBody,null,i.a.createElement(U.Text,null,a.formatMessage({id:"redhat.emptystate.cardDescription",defaultMessage:"Select an available application."})),i.a.createElement("div",{className:"provider-tiles pf-u-mt-md pf-u-mb-lg"},i.a.createElement(Re,{setSelectedType:t}))))};xe.propTypes={setSelectedType:je.a.func.isRequired};var Le=xe;function Fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function qe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(a),!0).forEach((function(t){n()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ie=Object(s.lazy)((function(){return Promise.all([a.e(0),a.e(7)]).then(a.bind(null,987))})),ze=Object(s.lazy)((function(){return Promise.all([a.e(0),a.e(3),a.e(1),a.e(14)]).then(a.t.bind(null,998,7)).then((function(e){return{default:e.AddSourceWizard}}))}));t.default=function(){var e=Object(s.useState)(),t=c()(e,2),a=t[0],r=t[1],o=Object(s.useState)(),v=c()(o,2),h=v[0],E=v[1],j=Object(x.a)(),T=Object(L.a)(),S=Object(l.k)(),M=Object(m.a)(),k=Object(u.useSelector)((function(e){return e.sources}),u.shallowEqual),P=k.filterValue,C=k.numberOfEntities,N=k.appTypes,D=k.pageSize,A=k.pageNumber,B=k.fetchingError,_=k.sourceTypes,R=k.paginationClicked,q=k.appTypesLoaded,I=k.sourceTypesLoaded,z=k.activeVendor,V=j&&I&&q,H=Object(u.useDispatch)();Object(s.useEffect)((function(){a!==P.name&&r(P.name)}),[P.name]);var K=function(e,t){return H(Object(O.h)(t,D))},G=Math.ceil(C/D);Object(s.useEffect)((function(){V&&C>0&&A>Math.max(G,1)&&K(0,G)}));var U={itemCount:C,page:A,perPage:D,onSetPage:K,onPerPageSelect:function(e,t){return H(Object(O.h)(1,t))},className:"top-pagination"},W=qe(qe({},U),{},{dropDirection:"up",variant:"bottom",isCompact:!1,className:"bottom-pagination"}),Q=!(V&&q&&I||R),Y=Object.entries(P).map((function(e){var t=c()(e,2),a=(t[0],t[1]);return a&&(!Array.isArray(a)||Array.isArray(a)&&a.length>0)})).filter(Boolean).length>0,ee=V&&0===C&&!Y,de=z===Z.b&&!ee;return i.a.createElement(i.a.Fragment,null,i.a.createElement(s.Suspense,{fallback:null},i.a.createElement(ue.a,{exact:!0,route:F.c.sourcesRemove,Component:Ie}),i.a.createElement(ue.a,{exact:!0,route:F.c.sourcesNew,Component:ze,componentProps:{sourceTypes:ie(_,I),applicationTypes:ie(N,q),isOpen:!0,onClose:function(){E(void 0),S.push(F.c.sources.path)},afterSuccess:function(e){return function(e){return e(Object(O.f)(re))}(H)},hideSourcesButton:!0,selectedType:h}})),i.a.createElement(b.PageHeader,{className:"pf-u-pb-0"},i.a.createElement(b.PageHeaderTitle,{title:M.formatMessage({id:"sources.sources",defaultMessage:"Sources"})}),i.a.createElement(ve,null)),i.a.createElement(g.Section,{type:"content"},de&&i.a.createElement(he.b,{setSelectedType:E}),B&&i.a.createElement(X,null),!B&&ee&&z===Z.b&&i.a.createElement(Ne,{setSelectedType:E}),!B&&ee&&z===Z.d&&i.a.createElement(Le,{setSelectedType:E}),!B&&!ee&&i.a.createElement(i.a.Fragment,null,i.a.createElement(p.PrimaryToolbar,{pagination:Q?i.a.createElement(w.d,null):C>0?U:void 0,actionsConfig:T?{actions:[i.a.createElement(d.Link,{to:F.c.sourcesNew.path,key:"addSourceButton"},i.a.createElement(f.Button,{variant:"primary",id:"addSourceButton"},M.formatMessage({id:"sources.addSource",defaultMessage:"Add source"})))]}:{actions:[i.a.createElement(le.Tooltip,{content:M.formatMessage({id:"sources.notAdminAddButton",defaultMessage:"To add a source, you must be granted write permissions from your Organization Administrator."}),key:"addSourceButton"},i.a.createElement("span",{tabIndex:"0"},i.a.createElement(f.Button,{variant:"primary",isDisabled:!0,id:"addSourceButton"},M.formatMessage({id:"sources.addSource",defaultMessage:"Add source"}))))]},filterConfig:{items:[{label:M.formatMessage({id:"sources.name",defaultMessage:"Name"}),filterValues:{"aria-label":M.formatMessage({id:"sources.filterByName",defaultMessage:"Filter by name"}),onChange:function(e,t){r(t),ae((function(){return ce("name",t,H)}))},value:a}},{label:M.formatMessage({id:"sources.type",defaultMessage:"Type"}),type:"checkbox",filterValues:{onChange:function(e,t){return ce("source_type_id",t,H)},items:ne(_||[],z),value:P.source_type_id}},{label:M.formatMessage({id:"sources.application",defaultMessage:"Application"}),type:"checkbox",filterValues:{onChange:function(e,t){return ce("applications",t,H)},items:oe((null==N?void 0:N.filter(Object(y.filterVendorAppTypes)(_)))||[]),value:P.applications}},{label:M.formatMessage({id:"sources.availabilityStatus",defaultMessage:"Status"}),type:"checkbox",filterValues:{onChange:function(e,t,a){return ce("availability_status",e.target.checked?[a]:[],H)},items:[{label:M.formatMessage({id:"sources.available",defaultMessage:"Available"}),value:$.a},{label:M.formatMessage({id:"sources.unavailable",defaultMessage:"Unavailable"}),value:$.c}],value:P.availability_status}}]},activeFiltersConfig:{filters:se(P,_,N,M),onDelete:function(e,t,a){return H(Object(O.d)(function(e,t,a){if(a)return Object.keys(t).reduce((function(e,t){return te(te({},e),{},n()({},t,void 0))}),{});var r=e[0];return te(te({},t),{},n()({},r.key,r.chips?t[r.key].filter((function(e){return e!==r.chips[0].value})):void 0))}(t,P,a)))}}}),i.a.createElement(J,null),i.a.createElement(p.PrimaryToolbar,{pagination:Q?i.a.createElement(w.d,null):C>0?W:void 0}))))}},522:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a(25),n=a(14),o=function(){var e=Object(n.m)().id;return Object(r.useSelector)((function(t){return t.sources.entities.find((function(t){return t.id===e}))}))}},547:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(25),n=function(){return Object(r.useSelector)((function(e){return e.sources.loaded}))<=0}},604:function(e,t,a){"use strict";var r=a(37),n=a.n(r),o=a(0),c=a.n(o),s=a(25),i=a(14),u=a(64),l=a(67),d=a(40),f=a(547),m=a(60),p=a(522);t.a=function(){var e=Object(i.m)().id,t=Object(u.a)(),a=Object(p.a)(),r=Object(f.a)(),b=Object(s.useSelector)((function(e){return e.sources}),s.shallowEqual),g=b.appTypesLoaded,y=b.sourceTypesLoaded,O=Object(s.useDispatch)(),v=Object(o.useState)(!1),h=n()(v,2),E=h[0],j=h[1];return Object(o.useEffect)((function(){r&&g&&y&&Object(d.h)(e).then((function(e){var t=n()(e.sources,1)[0];return O(Object(l.a)(t)),t})).then((function(a){a||O(Object(l.b)(t.formatMessage({id:"sources.sourceNotFoundTitle",defaultMessage:"Requested source was not found"}),"danger",t.formatMessage({id:"sources.sourceNotFoundTitleDescription",defaultMessage:"Source with { id } was not found. Try it again later."},{id:e}))),j(!0)}))}),[r,g,y]),E&&!a?c.a.createElement(i.c,{to:m.c.sources.path}):null}},698:function(e,t,a){"use strict";var r=a(44),n=a.n(r),o=a(62),c=a.n(o),s=a(0),i=a.n(s),u=a(14),l=a(7),d=a.n(l),f=a(25),m=a(64),p=a(67),b=a(165),g=a(60),y=function(){var e=Object(m.a)(),t=Object(b.a)(),a=Object(f.useDispatch)();return Object(s.useEffect)((function(){if(!1===t){var r=e.formatMessage({id:"sources.insufficietnPerms",defaultMessage:"Insufficient permissions"}),n=e.formatMessage({id:"sources.notAdminButton",defaultMessage:"To perform this action, you must be granted write permissions from your Organization Administrator."});a(Object(p.b)(r,"danger",n))}}),[t]),!1===t?i.a.createElement(u.c,{to:g.c.sources.path}):null},O=a(522),v=a(604),h=function(e){var t=e.route,a=e.children;return!(t.redirectNoId&&Object(O.a)())&&t.redirectNoId?i.a.createElement(v.a,null):i.a.createElement(i.a.Fragment,null,t.writeAccess&&i.a.createElement(y,null),a)};h.propTypes={route:d.a.shape({path:d.a.string.isRequired,redirectNoId:d.a.bool,writeAccess:d.a.bool}).isRequired,children:d.a.node.isRequired};var E=function(e){var t=e.route,a=e.componentProps,r=e.Component,o=c()(e,["route","componentProps","Component"]);return i.a.createElement(u.d,n()({},o,{path:t.path}),i.a.createElement(h,{route:t},i.a.createElement(r,a)))};E.propTypes={route:d.a.shape({path:d.a.string.isRequired,redirectNoId:d.a.bool,writeAccess:d.a.bool}).isRequired,componentProps:d.a.any,Component:d.a.oneOfType([d.a.func,d.a.object]).isRequired};t.a=E}}]);
//# sourceMappingURL=../sourcemaps/sourcesPage.js.map