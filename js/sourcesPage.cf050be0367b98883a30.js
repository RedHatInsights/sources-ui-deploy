(self.webpackChunksources=self.webpackChunksources||[]).push([[593],{84414:(e,t,a)=>{"use strict";a.d(t,{a:()=>l});var s=a(48947),r=a(78116);const l=()=>{const e=(0,s.useNavigate)();return(t,a)=>e((0,r.n)(t,r.d),a)}},64136:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>He});var s=a(28416),r=a.n(s),l=a(86706),i=a(46665),n=a(42309),o=a(25387),c=a(96380),d=a(22663),u=a(31611),m=a(7876),p=a(46639),g=a(78596),f=a(11549),v=a(35240),y=a(46818),E=a(7732),b=a(21081),h=a(49004),M=a(34844),S=a(31665),T=a(63663),k=a(2012),C=a(67187),w=a(15256),_=a(62345),N=a(2596),A=a.n(N);const I=()=>{const e=(0,o.YB)(),t=(0,l.I0)();return r().createElement(C.Bullseye,null,r().createElement(w.EmptyState,{variant:w.EmptyStateVariant.small},r().createElement(w.EmptyStateIcon,{icon:A()}),r().createElement(_.Title,{headingLevel:"h2",size:"lg"},e.formatMessage({id:"sources.noResultsFoundTitle",defaultMessage:"No sources found"})),r().createElement(w.EmptyStateBody,null,e.formatMessage({id:"sources.noResultsFoundDescription",defaultMessage:"No sources match the filter criteria. Remove all filters or clear all filters to show sources."})),r().createElement(i.Button,{variant:"link",onClick:()=>t((0,S.K5)())},e.formatMessage({id:"sources.clearAllFilters",defaultMessage:"Clear all filters"}))))};var x=a(15185),B=a(82866),z=a(87281),L=a(42399),R=a(84414);const O=(e,t,a,s)=>t.filter((e=>e.title||e.hidden)).map((t=>({title:t.formatter?t.formatter(e[t.value],e,{sourceTypes:a,appTypes:s}):e[t.value]||""}))),D=(e,t,a,s,r)=>e.filter((({hidden:e})=>!e)).reduce(((e,l)=>{const i=r.includes(l.id);return[...e,{...l,originalName:l.name,isOpen:!!l.expanded,cells:O(l,t,a,s),disableActions:i,isDeleting:i}]}),[]),F=e=>e.filter((e=>e.title||e.hidden)).map((e=>({title:e.title||"",value:e.value,hidden:e.hidden,transforms:[y.WT],...e.sortable&&{transforms:[E.p,y.WT]},props:e.title?{"aria-label":e.title}:{"aria-label":"Column without title"}}))),P=(e,t)=>({...e,...t,key:e.key+1}),Z=(e,t,a,s,r)=>l=>{const i=(0,L.Z)(e,r),n=[];return l.paused_at?n.push({title:e.formatMessage({id:"sources.resume",defaultMessage:"Resume"}),description:e.formatMessage({id:"sources.resume.description",defaultMessage:"Unpause data collection for this integration"}),onClick:(t,a,{id:r})=>s((0,S.AX)(r,l.originalName,e)),...a?{component:"button"}:i}):n.push({title:e.formatMessage({id:"sources.pause",defaultMessage:"Pause"}),description:e.formatMessage({id:"sources.pause.description",defaultMessage:"Temporarily disable data collection"}),onClick:(t,a,{id:r})=>s((0,S.xz)(r,l.originalName,e)),...a?{component:"button"}:i}),n.push({title:e.formatMessage({id:"sources.remove",defaultMessage:"Remove"}),description:e.formatMessage({id:"sources.remove.description",defaultMessage:"Permanently delete this integration and all collected data"}),onClick:(e,a,{id:s})=>t((0,z.yS)(z._j.sourcesRemove.path,s)),...a?{component:"button"}:i}),n.push({title:l.paused_at?e.formatMessage({id:"sources.viewDetails",defaultMessage:"View details"}):e.formatMessage({id:"sources.edit",defaultMessage:"Edit"}),onClick:(e,a,{id:s})=>t((0,z.yS)(z._j.sourcesDetail.path,s)),...a?{component:"button"}:i}),n},W=()=>{const e=(0,R.a)(),t=(0,o.YB)(),a=(0,x.W)(),i=(0,B.E)(),n=(0,l.v9)((({user:e})=>e.isOrgAdmin)),{appTypes:c,entities:d,sourceTypes:u,sourceTypesLoaded:m,appTypesLoaded:p,sortBy:g,sortDirection:f,numberOfEntities:v,removingSources:y}=(0,l.v9)((({sources:e})=>e),l.wU),E=(0,l.I0)(),C=0===v||!a,[w,_]=(0,s.useReducer)(P,(N=(0,k.E)(t,C),{rows:[],sortBy:{},isLoaded:!1,cells:F(N),key:0}));var N;const A=()=>{const e=(0,k.E)(t,C);return _({rows:D(d,e,u,c,y),cells:F(e)})};(0,s.useEffect)((()=>{a&&m&&p?(_({isLoaded:!0}),A()):(_({isLoaded:!1}),(()=>{const e=(0,k.E)(t,C);_({cells:F(e)})})())}),[a,m,p]),(0,s.useEffect)((()=>{w.isLoaded&&A()}),[d,y]);let z=w.rows;return 0===v&&w.isLoaded?z=[{heightAuto:!0,cells:[{props:{colSpan:k.W},title:r().createElement(I,null)}]}]:a&&p&&m||(z=[{heightAuto:!0,cells:[{props:{colSpan:k.W,className:"sources-placeholder-row"},title:r().createElement(T.mI,null)}]}]),r().createElement(b.i,{gridBreakPoint:"grid-lg","aria-label":t.formatMessage({id:"sources.list",defaultMessage:"List of Integrations"}),onSort:(e,t,a)=>E((0,S.Bb)(w.cells[t].value,a)),sortBy:{index:w.cells.map((e=>e.hidden?"hidden":e.value)).indexOf(g),direction:f},key:w.key,rows:z,cells:w.cells,actionResolver:a&&v>0?Z(t,e,i,E,n):void 0,rowWrapper:T.sk,className:0===v&&w.isLoaded?"ins-c-table-empty-state":""},r().createElement(h.x,null),r().createElement(M.R,null))};var V=a(99166),j=a(10431),H=a(63367),K=a(16872),U=a(32321);const G=(0,V.Z)((e=>e()),500),X={pageNumber:1,sortBy:"created_at",sortDirection:"desc"},Y=e=>e.map((({id:e,product_name:t})=>({label:t,value:e}))).sort(((e,t)=>e.label.localeCompare(t.label))),J=e=>e.map((({id:e,display_name:t})=>({label:t,value:e}))).sort(((e,t)=>e.label.localeCompare(t.label))),Q=(e,t,a)=>a((0,S.OU)({[e]:t})),q=(e,t,a,s)=>Object.keys(e).map((r=>e[r]&&e[r].length>0?((e,t,a,s,r)=>({name:()=>({name:t[e],key:e}),source_type_id:()=>({category:"Integration Type",key:e,chips:t[e].map((e=>{const t=a.find((t=>t.id===e));return{name:t?t.product_name:e,value:e}}))}),applications:()=>({category:"Application",key:e,chips:t[e].map((e=>{const t=s.find((t=>t.id===e));return{name:t?t.display_name:e,value:e}}))}),availability_status:()=>({category:"Status",key:e,chips:[{value:t[e][0],name:t[e][0]===H.Rl?r.formatMessage({id:"sources.available",defaultMessage:"Available"}):r.formatMessage({id:"sources.unavailable",defaultMessage:"Unavailable"})}]})}[e]||(()=>({name:e}))))(r,e,t,a,s)():void 0)).filter(Boolean),$=(e,t)=>t&&e.length>0?e:void 0;var ee=a(39911),te=a(75614),ae=a(45697),se=a.n(ae),re=a(2387),le=a(82793);const ie=({src:e,...t})=>{const[a,l]=(0,s.useState)(!1);return r().createElement(r().Fragment,null,!a&&r().createElement(T.aN,{height:"40px",width:"110px",...t}),r().createElement("img",{src:e,"data-testid":"ImageWithPlaceholder",onLoad:()=>l(!0),style:{display:a?"initial":"none"},...t}))};ie.propTypes={src:se().string.isRequired};const ne=ie;var oe=a(82387);const ce=e=>{const t=(0,o.YB)(),a=(0,l.v9)((({user:e})=>e.isOrgAdmin)),s=(0,L.$)(t,a);return r().createElement(n.Tooltip,{content:s},r().createElement("div",{className:"disabled-tile-with-tooltip"},r().createElement(oe.Tile,{...e,isDisabled:!0})))};var de=a(31379);const ue=({setSelectedType:e,mapper:t})=>{const a=(0,l.v9)((({sources:e})=>e.sourceTypes),l.wU),s=(0,l.v9)((({sources:e})=>e.activeCategory)),r=(0,R.a)(),i=(0,B.E)(),n=t=>{e(t),r(z._j.sourcesNew.path)},o=i?oe.Tile:ce;return a.filter((0,de.j)(s)).sort(((e,t)=>e.product_name.localeCompare(t.product_name))).map((({name:e})=>t(e,n,o)))};ue.propTypes={setSelectedType:se().func.isRequired,mapper:se().func.isRequired};const me=ue,pe=(e,t,a)=>({amazon:r().createElement(a,{isStacked:!0,key:e,title:"Amazon Web Services",onClick:()=>t("amazon"),className:"tile pf-v5-u-mr-md pf-v5-u-mt-md",icon:r().createElement(ne,{className:"provider-icon pf-v5-u-mb-sm",src:"/apps/frontend-assets/partners-icons/aws.svg",alt:"aws logo"})}),google:r().createElement(a,{isStacked:!0,key:e,title:"Google Cloud",className:"tile pf-v5-u-mr-md pf-v5-u-mt-md",onClick:()=>t("google"),icon:r().createElement(ne,{className:"provider-icon pf-v5-u-mb-sm",src:"/apps/frontend-assets/partners-icons/google-cloud-short.svg",alt:"google logo"})}),azure:r().createElement(a,{isStacked:!0,key:e,title:"Microsoft Azure",onClick:()=>t("azure"),className:"tile pf-v5-u-mr-md pf-v5-u-mt-md",icon:r().createElement(ne,{className:"provider-icon pf-v5-u-mb-sm",src:"/apps/frontend-assets/partners-icons/microsoft-azure-short.svg",alt:"azure logo"})}),ibm:r().createElement(a,{isStacked:!0,key:e,title:"IBM Cloud",onClick:()=>t("ibm"),className:"tile pf-v5-u-mr-md pf-v5-u-mt-md",icon:r().createElement(ne,{className:"provider-icon pf-v5-u-mb-sm",src:"/apps/frontend-assets/partners-icons/ibm-cloud.svg",alt:"ibm logo"})}),"oracle-cloud-infrastructure":r().createElement(a,{isStacked:!0,key:e,title:"Oracle Cloud Infrastructure",onClick:()=>t("oracle-cloud-infrastructure"),className:"tile pf-v5-u-mr-md pf-v5-u-mt-md",icon:r().createElement(ne,{className:"provider-icon pf-v5-u-mb-sm",src:"/apps/frontend-assets/partners-icons/oracle-short.svg",alt:"oracle logo"})})}[e]),ge=e=>r().createElement(me,{...e,mapper:pe}),fe=({setSelectedType:e})=>{const t=(0,o.YB)();return r().createElement(re.Card,{className:"src-c-card__cloud-empty-state pf-v5-u-mt-md pf-v5-u-mt-0-on-md"},r().createElement(re.CardTitle,null,t.formatMessage({id:"cloud.emptystate.cardTitle",defaultMessage:"Get started by connecting to your public clouds"})),r().createElement(re.CardBody,null,r().createElement(le.Text,null,t.formatMessage({id:"cloud.emptystate.cardDescription",defaultMessage:"Select an available provider."})),r().createElement("div",{className:"provider-tiles pf-v5-u-mt-md pf-v5-u-mb-lg"},r().createElement(ge,{setSelectedType:e}))),r().createElement(re.CardFooter,{className:"cloud-footer"},r().createElement(le.Text,{className:"catalog-link pf-v5-u-mt-lg"},t.formatMessage({id:"cloud.emptystate.catalogLink",defaultMessage:"Looking for a different provider? <a>See all Red Hat Certified Cloud and Service Providers</a>"},{a:e=>r().createElement(le.Text,{key:"link",component:"a",href:"https://catalog.redhat.com/cloud",target:"_blank",rel:"noopener noreferrer"},e)}))))};fe.propTypes={setSelectedType:se().func.isRequired};const ve=fe,ye=r().createElement(ne,{className:"redhat-icon",src:"/apps/frontend-assets/red-hat-logos/stacked.svg",alt:"red hat logo"}),Ee=(e,t,a)=>({openshift:r().createElement(a,{isStacked:!0,key:e,title:"OpenShift Container Platform",className:"tile pf-v5-u-mr-md-on-md pf-v5-u-mt-md pf-v5-u-mt-0-on-md",onClick:()=>t("openshift"),icon:ye})}[e]),be=e=>r().createElement(me,{...e,mapper:Ee}),he=({setSelectedType:e})=>{const t=(0,o.YB)();return r().createElement(re.Card,{className:"src-c-card__cloud-empty-state pf-v5-u-mt-md pf-v5-u-mt-0-on-md"},r().createElement(re.CardTitle,null,t.formatMessage({id:"redhat.emptystate.cardTitle",defaultMessage:"Get started by connecting to your Red Hat applications"})),r().createElement(re.CardBody,null,r().createElement(le.Text,null,t.formatMessage({id:"redhat.emptystate.cardDescription",defaultMessage:"Select an available application."})),r().createElement("div",{className:"provider-tiles pf-v5-u-mt-md pf-v5-u-mb-lg"},r().createElement(be,{setSelectedType:e}))))};he.propTypes={setSelectedType:se().func.isRequired};const Me=he;var Se=a(12567),Te=a(67866),ke=a(76678),Ce=a(17579),we=a.n(Ce),_e=a(13233),Ne=a.n(_e),Ae=a(65220);const Ie=()=>{const e=(0,o.YB)(),t=(0,l.I0)(),a=(0,l.v9)((({sources:e})=>e.activeCategory)),s=(0,Ae.useFlag)("platform.sources.integrations"),i=(0,Ae.useFlag)("platform.sources.integrations.breakdown"),n=(0,Ae.useFlag)("platform.integrations.overview"),c=(0,l.v9)((({user:e})=>e.isOrgAdmin)),d=(0,l.v9)((({user:e})=>e?.integrationsEndpointsPermissions));return r().createElement(Te.PageSection,{type:"tabs",variant:Te.PageSectionVariants.light,isWidthLimited:!0},r().createElement(ke.Tabs,{activeKey:a,onSelect:(e,a)=>t((0,S.Qr)(a)),className:"pf-v5-u-mt-md",inset:{default:"insetNone",md:"insetSm",xl:"insetLg","2xl":"inset2xl"}},n&&r().createElement(ke.Tab,{eventKey:te.mD,title:r().createElement(ke.TabTitleText,null," ",e.formatMessage({id:"sources.overview",defaultMessage:"Overview"}))}),(c||d)&&(s||i)&&(i?r().createElement(r().Fragment,null,r().createElement(ke.Tab,{eventKey:te.Q9,title:r().createElement(ke.TabTitleText,null,e.formatMessage({id:"sources.communications",defaultMessage:"Communications"}))}),r().createElement(ke.Tab,{eventKey:te._Z,title:r().createElement(ke.TabTitleText,null,e.formatMessage({id:"sources.reportingAutomation",defaultMessage:"Reporting & Automation"}))}),r().createElement(ke.Tab,{eventKey:te.XA,title:r().createElement(ke.TabTitleText,null,e.formatMessage({id:"sources.webhooks",defaultMessage:"Webhooks"}))})):r().createElement(ke.Tab,{eventKey:te.Du,title:r().createElement(ke.TabTitleText,null,e.formatMessage({id:"sources.integrations",defaultMessage:"Integrations"}))})),r().createElement(ke.Tab,{eventKey:te.JL,title:r().createElement(r().Fragment,null,n?"":r().createElement(ke.TabTitleIcon,null,r().createElement(Ne(),{"aria-label":"Cloud Icon"})),r().createElement(ke.TabTitleText,null,e.formatMessage({id:"sources.cloudSources",defaultMessage:s?"Cloud":"Cloud sources"})))}),r().createElement(ke.Tab,{eventKey:te.B0,title:r().createElement(r().Fragment,null,n?"":r().createElement(ke.TabTitleIcon,null,r().createElement(we(),{"aria-label":"Red Hat Icon"})),r().createElement(ke.TabTitleText,null,e.formatMessage({id:"sources.redhatSources",defaultMessage:s?"Red Hat":"Red Hat sources"})))})))};var xe=a(63456),Be=a(39173),ze=a(20206),Le=a(16477),Re=a(60266),Oe=a(29061);const De=[{title:"Communications",description:"Google Chat, Microsoft Office Teams, Slack",value:te.Q9},{title:"Reporting & Automation",description:"Event-Driven Ansible, ServiceNow, Splunk",value:te._Z},{title:"Webhooks",description:"",value:te.XA},{title:"Cloud",description:"Amazon Web Services, Google Cloud Platform, Microsoft Azure, Oracle Cloud Platform",value:te.JL},{title:"Red Hat",description:"Red Hat OpenShift Container Platform, Red Hat Satellite, Red Hat Ansible Automation Platform",value:te.B0}],Fe=e=>{const[t,a]=(0,s.useState)(!1),[l,i]=(0,s.useState)(!1),[n,o]=(0,s.useState)(!1),[c,u]=(0,s.useState)(null);return r().createElement("div",{className:"integrations-dropdown"},[te.Q9,te._Z,te.XA].includes(c)&&r().createElement(d.Z,{appName:"notifications",module:"./IntegrationsWizard",isOpen:l,category:c,closeModal:()=>{i(!1),u(null)},fallback:r().createElement("div",{id:"fallback-modal"})}),[te.B0,te.JL].includes(c)&&r().createElement(Oe.default,{isOpen:n,onClose:()=>{o(!1),u(null)},activeCategory:c}),r().createElement(Le.Dropdown,{isOpen:t,onSelect:(e,t)=>{a(!1),u(t),[te.B0,te.JL].includes(t)?o(!0):[te.Q9,te._Z,te.XA].includes(t)&&i(!0)},onOpenChange:a,toggle:e=>r().createElement(Re.MenuToggle,{ref:e,onClick:()=>a(!t),isExpanded:t,variant:"primary"},"Create Integration"),...e},r().createElement(Le.DropdownList,null,De.map((({title:e,value:t,description:a})=>r().createElement(Le.DropdownItem,{key:e,value:t,description:a},e))))))},Pe=r().memo((()=>{const e=(0,o.YB)(),t=(0,Ae.useFlag)("platform.integrations.overview");return r().createElement(r().Fragment,null,t?r().createElement(r().Fragment,null,r().createElement(ze.yW,{ouiaId:"sources-header",title:e.formatMessage({id:"sources.integrations",defaultMessage:"Integrations"}),subtitle:"Integrating third-party applications expands the scope of notifications beyond emails and messages, so that you can view and manage Hybrid Cloud Console events from your preferred platform dashboard.",icon:r().createElement("img",{src:"/apps/frontend-assets/sources-integrations/integrations-icon.svg",alt:"integrations-header-icon"}),linkProps:{label:"Learn more",isExternal:!0,to:"https://access.redhat.com/documentation/en-us/red_hat_hybrid_cloud_console/1-latest/html/configuring_notifications_on_the_red_hat_hybrid_cloud_console/index"},actionMenu:r().createElement(Fe,{popperProps:{appendTo:document.body,position:"right"}})}),r().createElement(Ie,null)):r().createElement(xe.Z,{className:"pf-v5-u-pb-0"},r().createElement(Be.Z,{title:e.formatMessage({id:"sources.integrations",defaultMessage:"Integrations"})}),r().createElement(Ie,null)))})),Ze=(e,t,a,s)=>{switch(e){case"applications":return t.map((({application_type_id:e})=>a.find((({id:t})=>t===e))?.display_name)).join(",");case"source_type_id":return s.find((({id:e})=>e===t))?.product_name;default:return t}};var We=a(48947);const Ve={filter:void 0,selectedType:void 0,wizardInitialState:void 0,wizardInitialValues:void 0},je=(e,{type:t,value:a,selectedType:s,initialValues:r,initialState:l})=>{switch(t){case"setFilterValue":return{...e,filter:a};case"setSelectedType":return{...e,selectedType:s};case"retryWizard":return{...e,wizardInitialState:l,wizardInitialValues:r};case"closeWizard":return{...e,selectedType:void 0,wizardInitialState:void 0,wizardInitialValues:void 0}}},He=()=>{const[{filter:e,selectedType:t,wizardInitialState:a,wizardInitialValues:y},E]=(0,s.useReducer)(je,Ve),b=(0,x.W)(),h=(0,B.E)(),M=(0,l.v9)((({user:e})=>e.isOrgAdmin)),C=(0,Ae.useFlag)("platform.sources.integrations")||(0,Ae.useFlag)("platform.sources.breakdown"),w=(0,R.a)(),_=(0,o.YB)(),N=(0,g.Z)(),A=(0,l.v9)((({sources:e})=>e),l.wU),{filterValue:I,numberOfEntities:L,appTypes:O,pageSize:D,pageNumber:F,fetchingError:P,sourceTypes:Z,paginationClicked:V,appTypesLoaded:ae,sourceTypesLoaded:se,activeCategory:re,entities:le}=A,ie=b&&se&&ae,ne=(0,l.I0)();(0,s.useEffect)((()=>{e!==I.name&&E({type:"setFilterValue",value:I.name})}),[I.name]);const oe=(e,t)=>ne((0,S.zm)(t,D)),ce=Math.ceil(L/D);(0,s.useEffect)((()=>{ie&&L>0&&F>Math.max(ce,1)&&oe(0,ce)}));const ue={itemCount:L,page:F,perPage:D,onSetPage:oe,onPerPageSelect:(e,t)=>ne((0,S.zm)(1,t)),className:"top-pagination"},me={...ue,dropDirection:"up",variant:"bottom",isCompact:!1,className:"bottom-pagination"},pe=!(ie&&ae&&se||V),ge=Z.filter((0,de.j)(re,!0)),fe=_.formatMessage({id:"sources.addSource",defaultMessage:"Add integration"}),ye=M?_.formatMessage({id:"sources.notAdminAddButton",defaultMessage:"To add a source, you must add Cloud Administrator permissions to your user."}):_.formatMessage({id:"sources.notPermissionsAddButton",defaultMessage:"To add a source, your Organization Administrator must grant you Cloud Administrator permissions."});let Ee;(0,f.Z)(N)&&(Ee={dropdownProps:{position:"right"},actions:h?[{label:fe,props:{to:z._j.sourcesNew.path,component:c.Z}}]:[{label:fe,props:{component:"button",isDisabled:!0,tooltip:ye,tooltipProps:{content:ye},className:"src-m-dropdown-item-disabled"}}]});const be=Object.entries(I).map((([e,t])=>t&&(!Array.isArray(t)||Array.isArray(t)&&t.length>0))).filter(Boolean).length>0,he=ie&&0===L&&!be,Te=re===te.JL&&!he,ke=e=>E({type:"setSelectedType",selectedType:e}),Ce=[te.Du,te.Q9,te._Z,te.XA].includes(re)&&C?r().createElement(d.Z,{appName:"notifications",module:"./IntegrationsTable",activeCategory:re}):P||he?null:r().createElement(r().Fragment,null,r().createElement(u.Z,{pagination:pe?r().createElement(T.Xf,null):L>0?ue:void 0,actionsConfig:Ee||{dropdownProps:{position:"right"},actions:h?[r().createElement(c.Z,{to:z._j.sourcesNew.path,key:"addSourceButton"},r().createElement(i.Button,{"data-hcc-index":"true","data-hcc-title":fe,"data-hcc-alt":"create source;add cloud provider",variant:"primary",id:"addSourceButton"},fe))]:[r().createElement(n.Tooltip,{content:ye,key:"addSourceButton"},r().createElement("span",{tabIndex:"0"},r().createElement(i.Button,{variant:"primary",isDisabled:!0,id:"addSourceButton"},fe)))]},filterConfig:{items:[{type:"text",label:_.formatMessage({id:"sources.name",defaultMessage:"Name"}),filterValues:{"aria-label":_.formatMessage({id:"sources.filterByName",defaultMessage:"Filter by name"}),onChange:(e,t)=>{E({type:"setFilterValue",value:t}),G((()=>Q("name",t,ne)))},value:e||""}},{label:_.formatMessage({id:"sources.type",defaultMessage:"Type"}),type:"checkbox",filterValues:{onChange:(e,t)=>Q("source_type_id",t,ne),items:Y(ge),value:I.source_type_id??[]}},{label:_.formatMessage({id:"sources.application",defaultMessage:"Application"}),type:"checkbox",filterValues:{onChange:(e,t)=>Q("applications",t,ne),items:J(O?.filter((0,Se.W)(ge,re))||[]),value:I.applications}},{label:_.formatMessage({id:"sources.availabilityStatus",defaultMessage:"Status"}),type:"checkbox",filterValues:{onChange:(e,t,a)=>Q("availability_status",e.target.checked?[a]:[],ne),items:[{label:_.formatMessage({id:"sources.available",defaultMessage:"Available"}),value:H.Rl},{label:_.formatMessage({id:"sources.unavailable",defaultMessage:"Unavailable"}),value:H.nZ}],value:I.availability_status}}]},activeFiltersConfig:{filters:q(I,Z,O,_),onDelete:(e,t,a)=>{ne((0,S.OU)(((e,t,a)=>{if(a)return Object.keys(t).reduce(((e,t)=>({...e,[t]:void 0})),{});const s=e[0];return{...t,[s.key]:s.chips?t[s.key].filter((e=>e!==s.chips[0].value)):void 0}})(t,I,a)))}},exportConfig:{...f.Z&&{position:"right"},isDisabled:!ie,onSelect:(e,t)=>{const a="csv"===t?((e,t,a,s)=>{const r=(0,k.E)(t).filter((({hidden:e})=>!e));return[r.map((({title:e})=>e)),...e.map((e=>r.map((({value:t})=>Ze(t,e[t],a,s))).map((e=>e?.includes(",")?`"${e}"`:e))))].map((e=>e.join(","))).join("\n")})(le,_,O,Z):((e,t,a,s)=>{const r=(0,k.E)(t).filter((({hidden:e})=>!e)),l=e.map((e=>((e,t,a,s)=>e.reduce(((e,r)=>({...e,[r.title]:Ze(r.value,t[r.value],a,s)})),{}))(r,e,a,s)));return JSON.stringify(l,null,2)})(le,_,O,Z);(0,v.Sv)(a,`sources-${(new Date).toISOString()}`,t)}}}),r().createElement(W,null),r().createElement(u.Z,{pagination:pe?r().createElement(T.Xf,null):L>0?me:void 0}));return r().createElement(r().Fragment,null,r().createElement(s.Suspense,{fallback:null},r().createElement(We.Outlet,{context:{sourceTypes:$(Z,se),applicationTypes:$(O,ae),isOpen:!0,onClose:()=>{E({type:"closeWizard"}),w(z._j.sources.path)},afterSuccess:e=>(e=>e((0,S.il)(X)))(ne),hideSourcesButton:!0,selectedType:t,submitCallback:e=>((e,t,a,s,l)=>{const i=`sources-wizard-notification-${Date.now()}`;if(location.pathname.split("/").filter(Boolean).pop()!==z._j.sourcesNew.path.split("/").pop())if(e.isErrored){const{activeStep:n,activeStepIndex:o,maxStepIndex:c,prevSteps:d,registeredFieldsHistory:u}=e.wizardState;t((0,S.Hz)({title:s.formatMessage({id:"alert.error.title",defaultMessage:"Error adding integration"}),description:s.formatMessage({id:"alert.error.description",defaultMessage:"There was a problem while trying to add integration {name}. Please try again. If the error persists, open a support case."},{name:r().createElement("b",null,e.values.source.name)}),variant:"danger",id:i,actionLinks:r().createElement(j.AlertActionLink,{onClick:()=>{l({type:"retryWizard",initialValues:e.values,initialState:{activeStep:n,activeStepIndex:o,maxStepIndex:c,prevSteps:d,registeredFieldsHistory:u}}),t((0,S.Gd)(i)),a(z._j.sourcesNew.path)}},s.formatMessage({id:"alert.error.link",defaultMessage:"Retry"}))}))}else switch((0,K.Z)(e.createdSource)){case"unavailable":t((0,S.Hz)({title:s.formatMessage({id:"alert.error.title",defaultMessage:"Source configuration unsuccessful"}),description:s.formatMessage({id:"error.notification",defaultMessage:"{error} [<b>{name}</b>]"},{error:e.createdSource.applications?.[0]?.availability_status_error||e.createdSource.endpoint?.[0]?.availability_status_error||s.formatMessage({id:"wizard.unknownError",defaultMessage:"Unknown error"}),name:e.createdSource.name,b:U.S}),variant:"danger",id:i,actionLinks:r().createElement(j.AlertActionLink,{onClick:()=>{t((0,S.Gd)(i)),a((0,z.yS)(z._j.sourcesDetail.path,e.createdSource.id))}},s.formatMessage({id:"alert.unavailable.link",defaultMessage:"Edit integration"}))}));break;case"timeout":t((0,S.Hz)({title:s.formatMessage({id:"alert.timeout.title",defaultMessage:"Integration configuration in progress"}),description:s.formatMessage({id:"alert.timeout.description",defaultMessage:"We are still working to confirm credentials for integration {name}. To track progress, check the Status column in the Integrations table."},{name:r().createElement("b",null,e.createdSource.name)}),variant:"info"}));break;default:t((0,S.Hz)({title:s.formatMessage({id:"alert.success.title",defaultMessage:"{type} connection successful"},{type:e.sourceTypes.find((({id:t})=>t===e.createdSource.source_type_id))?.product_name}),description:s.formatMessage({id:"alert.success.description",defaultMessage:"Source {name} was successfully added"},{name:r().createElement("b",null,e.createdSource.name)}),variant:"success",id:i,actionLinks:r().createElement(j.AlertActionLink,{onClick:()=>{t((0,S.Gd)(i)),a((0,z.yS)(z._j.sourcesDetail.path,e.createdSource.id))}},s.formatMessage({id:"alert.success.link",defaultMessage:"View source details"}))}))}})(e,ne,w,_,E),initialValues:y,initialWizardState:a,activeCategory:re}})),r().createElement(Pe,null),r().createElement(m.Z,{type:"content"},Te&&r().createElement(ee.Z,null),P&&r().createElement(p.Z,null),!P&&he&&re===te.JL&&r().createElement(ve,{setSelectedType:ke}),!P&&he&&re===te.B0&&r().createElement(Me,{setSelectedType:ke}),Ce))}},58392:()=>{},8572:()=>{},98379:()=>{},92084:()=>{},91993:()=>{},44690:()=>{},38299:()=>{},16166:()=>{}}]);
//# sourceMappingURL=../sourcemaps/sourcesPage.8fef7cfc10ce7b6a9cb74d23625e0258.js.map