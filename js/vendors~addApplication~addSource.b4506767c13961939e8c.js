(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{474:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=(a=n(405))&&"object"==typeof a&&"default"in a?a.default:a;n(409),n(408);var o=n(414);t.handleError=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return e||(t="Undefined error"),t||"string"!=typeof e||(t=e),t||(t=i(e,"errors[0].detail",JSON.stringify(e,null,2))),n?o.getSourcesApi().deleteSource(n).then((function(){return t})).catch((function(e){var n=i(e,"errors[0].detail",JSON.stringify(e,null,2));return"".concat(t,". The source was not removed, try remove it later: ").concat(n)})):t}},597:function(e,t,n){var a=n(652),i=n(483),o=n(556),s=n(434),r=n(479),l=n(480),c=n(505),d=n(506),u=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(r(e)&&(s(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||d(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!a(e).length;for(var n in e)if(u.call(e,n))return!1;return!0}},699:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Wizard=void 0;const a=n(2),i=a.__importStar(n(0)),o=n(47),s=n(6),r=a.__importDefault(n(453)),l=n(942),c=n(943),d=n(944),u=n(580),p=n(583),m=n(945),f=n(581);class h extends i.Component{constructor(e){super(e),this.handleKeyClicks=e=>{e.keyCode===o.KEY_CODES.ESCAPE_KEY&&(this.state.isNavOpen?this.setState({isNavOpen:!this.state.isNavOpen}):this.props.isOpen&&this.props.onClose())},this.onNext=()=>{const{onNext:e,onClose:t,onSave:n}=this.props,{currentStep:a}=this.state,i=this.getFlattenedSteps();if(a>=i.length)return n?n():t();{const t=a+1;this.setState({currentStep:t});const{id:n,name:o}=i[a-1],{id:s,name:r}=i[t-1];return e&&e({id:s,name:r},{prevId:n,prevName:o})}},this.onBack=()=>{const{onBack:e}=this.props,{currentStep:t}=this.state,n=this.getFlattenedSteps();if(!(n.length<t)){const a=t-1<=0?0:t-1;this.setState({currentStep:a});const{id:i,name:o}=n[a],{id:s,name:r}=n[a-1];return e&&e({id:s,name:r},{prevId:i,prevName:o})}{const e=n.length;this.setState({currentStep:e})}},this.goToStep=e=>{const{onGoToStep:t}=this.props,{currentStep:n}=this.state,a=this.getFlattenedSteps(),i=a.length;e<1?e=1:e>i&&(e=i),this.setState({currentStep:e,isNavOpen:!1});const{id:o,name:s}=a[n-1],{id:r,name:l}=a[e-1];return t&&t({id:r,name:l},{prevId:o,prevName:s})},this.goToStepById=e=>{const t=this.getFlattenedSteps();let n;for(let a=0;a<t.length;a++)if(t[a].id===e){n=a+1;break}n&&this.setState({currentStep:n})},this.goToStepByName=e=>{const t=this.getFlattenedSteps();let n;for(let a=0;a<t.length;a++)if(t[a].name===e){n=a+1;break}n&&this.setState({currentStep:n})},this.getFlattenedSteps=()=>{const{steps:e}=this.props,t=[];for(const n of e)if(n.steps)for(const e of n.steps)t.push(e);else t.push(n);return t},this.getFlattenedStepsIndex=(e,t)=>{for(let n=0;n<e.length;n++)if(e[n].name===t)return n+1;return 0},this.initSteps=e=>{for(let t=0;t<e.length;t++){if(e[t].steps)for(let n=0;n<e[t].steps.length;n++)e[t].steps[n]=Object.assign({canJumpTo:!0},e[t].steps[n]);e[t]=Object.assign({canJumpTo:!0},e[t])}return e},this.getElement=e=>"function"==typeof e?e():e||document.body;const t=h.currentId++;this.titleId=e.titleId||"pf-wizard-title-"+t,this.descriptionId=e.descriptionId||"pf-wizard-description-"+t,this.state={currentStep:this.props.startAtStep&&Number.isInteger(this.props.startAtStep)?this.props.startAtStep:1,isNavOpen:!1}}componentDidMount(){const e="undefined"!=typeof document?document.body:null;e&&e.addEventListener("keydown",this.handleKeyClicks,!1)}componentWillUnmount(){const e="undefined"!=typeof document&&document.body||null;e&&e.removeEventListener("keydown",this.handleKeyClicks,!1)}render(){const e=this.props,{width:t,height:n,title:o,description:h,onClose:g,onSave:v,onBack:y,onNext:S,onGoToStep:b,className:x,steps:B,startAtStep:N,nextButtonText:T="Next",backButtonText:E="Back",cancelButtonText:C="Cancel",hideClose:_,closeButtonAriaLabel:z="Close",navAriaLabel:k,navAriaLabelledBy:I,mainAriaLabel:w,mainAriaLabelledBy:O,hasNoBodyPadding:W,footer:A,appendTo:M,isOpen:L,titleId:F,descriptionId:P}=e,j=a.__rest(e,["width","height","title","description","onClose","onSave","onBack","onNext","onGoToStep","className","steps","startAtStep","nextButtonText","backButtonText","cancelButtonText","hideClose","closeButtonAriaLabel","navAriaLabel","navAriaLabelledBy","mainAriaLabel","mainAriaLabelledBy","hasNoBodyPadding","footer","appendTo","isOpen","titleId","descriptionId"]),{currentStep:D}=this.state,J=this.getFlattenedSteps(),q=J.length<D?J.length:D,R=J[q-1],V=this.initSteps(B),K=R===J[0],G=!R||void 0===R.enableNext||R.enableNext,U={goToStepById:this.goToStepById,goToStepByName:this.goToStepByName,onNext:this.onNext,onBack:this.onBack,onClose:g,activeStep:R},Y=i.createElement(m.WizardContextProvider,{value:U},i.createElement("div",Object.assign({},j,{className:s.css(r.default.wizard,R&&R.isFinishedStep&&"pf-m-finished",x)},n&&{style:{height:n}}),o&&i.createElement(f.WizardHeader,{titleId:this.titleId,descriptionId:this.descriptionId,onClose:g,title:o,description:h,closeButtonAriaLabel:z,hideClose:_}),i.createElement(d.WizardToggle,{mainAriaLabel:w,isInPage:void 0===L,mainAriaLabelledBy:(o||O)&&(O||this.titleId),isNavOpen:this.state.isNavOpen,onNavToggle:e=>this.setState({isNavOpen:e}),nav:e=>{const t={isOpen:e,"aria-label":k,"aria-labelledby":(o||I)&&(I||this.titleId)};return i.createElement(u.WizardNav,Object.assign({},t),V.map((e,n)=>{if(e.isFinishedStep)return;let a,o;if(e.steps){let s=!1,r=!1;for(const t of e.steps)R.name===t.name&&(s=!0),t.canJumpTo&&(r=!0);return o=this.getFlattenedStepsIndex(J,e.steps[0].name),i.createElement(p.WizardNavItem,{key:n,content:e.name,isCurrent:s,isDisabled:!r,step:o,onNavItemClick:this.goToStep},i.createElement(u.WizardNav,Object.assign({},t,{returnList:!0}),e.steps.map((e,t)=>{if(!e.isFinishedStep)return o=this.getFlattenedStepsIndex(J,e.name),a=e.canJumpTo,i.createElement(p.WizardNavItem,{key:"child_"+t,content:e.name,isCurrent:R.name===e.name,isDisabled:!a,step:o,onNavItemClick:this.goToStep})})))}return o=this.getFlattenedStepsIndex(J,e.name),a=e.canJumpTo,i.createElement(p.WizardNavItem,Object.assign({},e.stepNavItemProps,{key:n,content:e.name,isCurrent:R.name===e.name,isDisabled:!a,step:o,onNavItemClick:this.goToStep}))}))},steps:B,activeStep:R,hasNoBodyPadding:W},A||i.createElement(c.WizardFooterInternal,{onNext:this.onNext,onBack:this.onBack,onClose:g,isValid:G,firstStep:K,activeStep:R,nextButtonText:R&&R.nextButtonText||T,backButtonText:E,cancelButtonText:C}))));return void 0!==L?i.createElement(l.Modal,{isOpen:L,variant:l.ModalVariant.large,"aria-labelledby":this.titleId,"aria-describedby":this.descriptionId,showClose:!1,hasNoBodyWrapper:!0},Y):Y}}t.Wizard=h,h.displayName="Wizard",h.currentId=0,h.defaultProps={title:null,description:"",className:"",startAtStep:1,nextButtonText:"Next",backButtonText:"Back",cancelButtonText:"Cancel",hideClose:!1,closeButtonAriaLabel:"Close",navAriaLabel:null,navAriaLabelledBy:null,mainAriaLabel:null,mainAriaLabelledBy:null,hasNoBodyPadding:!1,onBack:null,onNext:null,onGoToStep:null,width:null,height:null,footer:null,onClose:()=>{},appendTo:null,isOpen:void 0}},700:function(e,t,n){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var i=a(n(0)),o=n(120),s=a(n(12)),r=n(119),l=n(194),c=n(415),d=n(473),u=n(416),p=n(121),m=n(422),f=a(n(204)),h=function(){return insights.chrome.isBeta()?"/beta/settings/sources":"/settings/sources"},g=function(e){var t=e.onClose,n=e.successfulMessage,a=e.hideSourcesButton,s=e.returnButtonTitle,r=e.title,g=e.linkText,v=e.secondaryActions;return i.createElement(l.Bullseye,null,i.createElement(c.EmptyState,{variant:c.EmptyStateVariant.full,className:"pf-u-mt-4xl"},i.createElement(u.EmptyStateIcon,{icon:f,color:"var(--pf-global--success-color--100)",className:"pf-u-mb-0"}),i.createElement(p.Title,{headingLevel:"h2",size:"xl",className:"pf-u-mt-xl"},r),i.createElement(m.EmptyStateBody,{className:"ins-c-sources__wizard--step-text"},n),i.createElement(o.Button,{variant:"primary",onClick:t,className:"pf-u-mt-xl"},s),!a&&i.createElement(d.EmptyStateSecondaryActions,null,i.createElement(o.Button,{variant:"link",component:"a",target:"_blank",rel:"noopener noreferrer",href:h()},g)),v&&i.createElement(d.EmptyStateSecondaryActions,null,v)))};g.propTypes={onClose:s.func.isRequired,successfulMessage:s.node.isRequired,hideSourcesButton:s.bool,returnButtonTitle:s.node.isRequired,title:s.node,linkText:s.node,secondaryActions:s.node},g.defaultProps={title:i.createElement(r.FormattedMessage,{id:"wizard.succConfiguration",defaultMessage:"Configuration successful"}),linkText:i.createElement(r.FormattedMessage,{id:"wizard.toSources",defaultMessage:"Take me to sources"})},t.FinishedStep=g,t.computeSourcesUrl=h},701:function(e,t,n){"use strict";t.__esModule=!0,t.WrenchIconConfig={name:"WrenchIcon",height:512,width:512,svgPath:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z",yOffset:0,xOffset:0},t.WrenchIcon=n(21).createIcon(t.WrenchIconConfig),t.default=t.WrenchIcon},702:function(e,t,n){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=n(120),s=a(n(12)),r=n(119),l=n(194),c=n(415),d=n(473),u=n(416),p=n(121),m=n(422),f=a(n(701)),h=function(e){var t=e.onClose,n=e.returnButtonTitle,a=e.title,s=e.secondaryActions,h=r.useIntl();return i.createElement(l.Bullseye,null,i.createElement(c.EmptyState,{variant:c.EmptyStateVariant.full,className:"pf-u-mt-4xl"},i.createElement(u.EmptyStateIcon,{icon:f,color:"var(--pf-global--Color--200)",className:"pf-u-mb-0"}),i.createElement(p.Title,{headingLevel:"h2",size:"xl",className:"pf-u-mt-xl"},a),i.createElement(m.EmptyStateBody,null,h.formatMessage({id:"wizard.uncompleteConfigurationDescription",defaultMessage:"We are still working to confirm credentials and app settings.{newLine}To track progress, check the Status column in the Sources table."},{newLine:i.createElement("br",{key:"br"})})),i.createElement(o.Button,{variant:"primary",onClick:t,className:"pf-u-mt-xl"},n),s&&i.createElement(d.EmptyStateSecondaryActions,null,s)))};h.propTypes={onClose:s.func.isRequired,returnButtonTitle:s.node.isRequired,title:s.node,secondaryActions:s.node},h.defaultProps={title:i.createElement(r.FormattedMessage,{id:"wizard.uncompleteConfigurationTitle",defaultMessage:"Configuration not yet complete"})},t.default=h},703:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){var t,n,a,i,o,s,r,l,c=null===(t=e.applications)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.availability_status,d=null===(a=e.endpoint)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.availability_status;return[c,d].includes("unavailable")?"unavailable":"available"===c&&!(null===(o=e.endpoint)||void 0===o?void 0:o[0])||"available"===d&&!(null===(s=e.applications)||void 0===s?void 0:s[0])||"available"===c&&"available"===d?"available":(null===(r=e.applications)||void 0===r?void 0:r[0])||(null===(l=e.endpoint)||void 0===l?void 0:l[0])?"timeout":"finished"};t.computeSourceStatus=a,t.default=a},704:function(e,t,n){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=n(120),s=a(n(12)),r=n(119),l=n(121),c=n(456),d=a(n(196)),u=function(e){var t=e.onExit,n=e.onStay,a=e.isOpen,s=e.title,u=e.exitTitle,p=e.stayTitle,m=e.description,f=r.useIntl();return i.createElement(c.Modal,{variant:"small",title:s,"aria-label":f.formatMessage({id:"wizard.closeAriaLabel",defaultMessage:"Close add source wizard"}),header:i.createElement(l.Title,{headingLevel:"h1",size:"2xl"},i.createElement(d,{size:"sm",className:"ins-c-source__warning-icon"}),s),isOpen:a,onClose:n,actions:[i.createElement(o.Button,{key:"confirm",variant:"primary",id:"on-exit-button",onClick:t},u),i.createElement(o.Button,{key:"cancel",variant:"link",id:"on-stay-button",onClick:n},p)]},m)};u.propTypes={onExit:s.func.isRequired,onStay:s.func.isRequired,isOpen:s.bool.isRequired,title:s.node,exitTitle:s.node,stayTitle:s.node,description:s.node},u.defaultProps={title:i.createElement(r.FormattedMessage,{id:"wizard.closeTitle",defaultMessage:"Exit source creation?"}),exitTitle:i.createElement(r.FormattedMessage,{id:"wizard.exitText",defaultMessage:"Exit"}),stayTitle:i.createElement(r.FormattedMessage,{id:"wizard.stayText",defaultMessage:"Stay"}),description:i.createElement(r.FormattedMessage,{id:"wizard.closeWarning",defaultMessage:"All inputs will be discarded."})},t.default=u},942:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(2);a.__exportStar(n(456),t),a.__exportStar(n(696),t),a.__exportStar(n(694),t),a.__exportStar(n(695),t),a.__exportStar(n(698),t),a.__exportStar(n(697),t),a.__exportStar(n(693),t)},943:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WizardFooterInternal=void 0;const a=n(2),i=a.__importStar(n(0)),o=n(6),s=a.__importDefault(n(453)),r=n(72);t.WizardFooterInternal=({onNext:e,onBack:t,onClose:n,isValid:a,firstStep:l,activeStep:c,nextButtonText:d,backButtonText:u,cancelButtonText:p})=>i.createElement("footer",{className:o.css(s.default.wizardFooter)},i.createElement(r.Button,{variant:r.ButtonVariant.primary,type:"submit",onClick:e,isDisabled:!a},d),!c.hideBackButton&&i.createElement(r.Button,{variant:r.ButtonVariant.secondary,onClick:t,className:o.css(l&&"pf-m-disabled")},u),!c.hideCancelButton&&i.createElement(r.Button,{variant:r.ButtonVariant.link,onClick:n},p)),t.WizardFooterInternal.displayName="WizardFooterInternal"},944:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WizardToggle=void 0;const a=n(2),i=a.__importStar(n(0)),o=n(6),s=a.__importDefault(n(453)),r=a.__importDefault(n(195)),l=a.__importDefault(n(199)),c=n(582);t.WizardToggle=({isNavOpen:e,onNavToggle:t,nav:n,steps:a,activeStep:d,children:u,hasNoBodyPadding:p=!1,"aria-label":m="Wizard Toggle",mainAriaLabelledBy:f=null,mainAriaLabel:h=null,isInPage:g=!0})=>{let v,y,S;for(let e=0;e<a.length;e++){if(d.id&&a[e].id===d.id||a[e].name===d.name){v=e+1,y=a[e].name;break}if(a[e].steps)for(const t of a[e].steps)if(d.id&&t.id===d.id||t.name===d.name){v=e+1,y=a[e].name,S=t.name;break}}return i.createElement(i.Fragment,null,i.createElement("button",{onClick:()=>t(!e),className:o.css(s.default.wizardToggle,e&&"pf-m-expanded"),"aria-label":m,"aria-expanded":e},i.createElement("ol",{className:o.css(s.default.wizardToggleList)},i.createElement("li",{className:o.css(s.default.wizardToggleListItem)},i.createElement("span",{className:o.css(s.default.wizardToggleNum)},v)," ",y,S&&i.createElement(r.default,{className:o.css(s.default.wizardToggleSeparator),"aria-hidden":"true"})),S&&i.createElement("li",{className:o.css(s.default.wizardToggleListItem)},S)),i.createElement("span",{className:o.css(s.default.wizardToggleIcon)},i.createElement(l.default,{"aria-hidden":"true"}))),i.createElement("div",{className:o.css(s.default.wizardOuterWrap)},i.createElement("div",{className:o.css(s.default.wizardInnerWrap)},n(e),i.createElement(c.WizardBody,{mainComponent:g?"div":"main","aria-label":h,"aria-labelledby":f,hasNoBodyPadding:p},d.component)),u))},t.WizardToggle.displayName="WizardToggle"},945:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WizardContextConsumer=t.WizardContextProvider=t.WizardContext=void 0;const a=n(2).__importStar(n(0));t.WizardContext=a.createContext({goToStepById:()=>null,goToStepByName:()=>null,onNext:()=>null,onBack:()=>null,onClose:()=>null,activeStep:{name:null}}),t.WizardContextProvider=t.WizardContext.Provider,t.WizardContextConsumer=t.WizardContext.Consumer}}]);
//# sourceMappingURL=../sourcemaps/vendors~addApplication~addSource.js.map