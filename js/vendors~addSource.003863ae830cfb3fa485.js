(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["vendors~addSource"],{

/***/ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/FinishedStep.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/FinishedStep.js ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(/*! ./_commonjsHelpers-32c5d30b.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/_commonjsHelpers-32c5d30b.js");var React=__webpack_require__(/*! react */ "./node_modules/react/index.js"),React__default=_interopDefault(React),Button_js=__webpack_require__(/*! @patternfly/react-core/dist/js/components/Button/Button.js */ "./node_modules/@patternfly/react-core/dist/js/components/Button/Button.js"),index=__webpack_require__(/*! ./index-980d4faa.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/index-980d4faa.js"),Bullseye_js=__webpack_require__(/*! @patternfly/react-core/dist/js/layouts/Bullseye/Bullseye.js */ "./node_modules/@patternfly/react-core/dist/js/layouts/Bullseye/Bullseye.js"),EmptyState_js=__webpack_require__(/*! @patternfly/react-core/dist/js/components/EmptyState/EmptyState.js */ "./node_modules/@patternfly/react-core/dist/js/components/EmptyState/EmptyState.js"),EmptyStateBody_js=__webpack_require__(/*! @patternfly/react-core/dist/js/components/EmptyState/EmptyStateBody.js */ "./node_modules/@patternfly/react-core/dist/js/components/EmptyState/EmptyStateBody.js"),EmptyStateSecondaryActions_js=__webpack_require__(/*! @patternfly/react-core/dist/js/components/EmptyState/EmptyStateSecondaryActions.js */ "./node_modules/@patternfly/react-core/dist/js/components/EmptyState/EmptyStateSecondaryActions.js"),Progress_js=__webpack_require__(/*! @patternfly/react-core/dist/js/components/Progress/Progress.js */ "./node_modules/@patternfly/react-core/dist/js/components/Progress/Progress.js"),EmptyStateIcon_js=__webpack_require__(/*! @patternfly/react-core/dist/js/components/EmptyState/EmptyStateIcon.js */ "./node_modules/@patternfly/react-core/dist/js/components/EmptyState/EmptyStateIcon.js"),Title_js=__webpack_require__(/*! @patternfly/react-core/dist/js/components/Title/Title.js */ "./node_modules/@patternfly/react-core/dist/js/components/Title/Title.js"),CheckCircleIcon=_interopDefault(__webpack_require__(/*! @patternfly/react-icons/dist/js/icons/check-circle-icon.js */ "./node_modules/@patternfly/react-icons/dist/js/icons/check-circle-icon.js")),FinishedStep=function FinishedStep(e){var t=e.onClose,s=e.successfulMessage,r=e.hideSourcesButton,a=e.returnButtonTitle,n=e.progressStep,o=e.progressTexts,c=e.title,i=e.linkText;return(React__default.createElement(Bullseye_js.Bullseye,null,React__default.createElement(EmptyState_js.EmptyState,{variant:EmptyState_js.EmptyStateVariant.full,className:"ins-c-sources__empty-state"},React__default.createElement(EmptyStateIcon_js.EmptyStateIcon,{icon:CheckCircleIcon,color:"var(--pf-global--success-color--200)",className:"pf-u-mb-0"}),React__default.createElement(Title_js.Title,{headingLevel:"h5",size:"lg",className:"pf-u-mt-xl"},c),React__default.createElement(EmptyStateBody_js.EmptyStateBody,null,React__default.createElement(Progress_js.Progress,{className:"pf-u-mb-md ins-c-sources__progress ins-c-sources__progress-success",value:n,min:0,title:" ",max:o.length-1,label:o[n],valueText:o[n],variant:"success"}),s),React__default.createElement(Button_js.Button,{variant:"primary",onClick:t,className:"pf-u-mt-xl"},a),!r&&React__default.createElement(EmptyStateSecondaryActions_js.EmptyStateSecondaryActions,null,React__default.createElement("a",{href:"/hybrid/settings/sources"},React__default.createElement(Button_js.Button,{variant:"link"},i))))))};FinishedStep.propTypes={onClose:index.PropTypes.func.isRequired,successfulMessage:index.PropTypes.node.isRequired,hideSourcesButton:index.PropTypes.bool,returnButtonTitle:index.PropTypes.node.isRequired,progressStep:index.PropTypes.number.isRequired,progressTexts:index.PropTypes.arrayOf(index.PropTypes.string).isRequired,title:index.PropTypes.node,linkText:index.PropTypes.node},FinishedStep.defaultProps={title:"Configuration successful",linkText:"Take me to sources"},exports.default=FinishedStep;


/***/ }),

/***/ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/addSourceWizard.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/addSourceWizard.js ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(/*! ./_commonjsHelpers-32c5d30b.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/_commonjsHelpers-32c5d30b.js");var sourceFormRenderer=__webpack_require__(/*! ./index-83a1a0c0.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/index-83a1a0c0.js"),createSource=__webpack_require__(/*! ./createSource-ed1b013c.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/createSource-ed1b013c.js");__webpack_require__(/*! ./unsupportedIterableToArray-abf8a1bc.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/unsupportedIterableToArray-abf8a1bc.js");var defineProperty=__webpack_require__(/*! ./defineProperty-cf06dcaa.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/defineProperty-cf06dcaa.js"),React=__webpack_require__(/*! react */ "./node_modules/react/index.js"),React__default=_interopDefault(React),Button_js=__webpack_require__(/*! @patternfly/react-core/dist/js/components/Button/Button.js */ "./node_modules/@patternfly/react-core/dist/js/components/Button/Button.js"),index=__webpack_require__(/*! ./index-980d4faa.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/index-980d4faa.js"),isEmpty=_interopDefault(__webpack_require__(/*! lodash/isEmpty */ "./node_modules/lodash/isEmpty.js")),Wizard_js=__webpack_require__(/*! @patternfly/react-core/dist/js/components/Wizard/Wizard.js */ "./node_modules/@patternfly/react-core/dist/js/components/Wizard/Wizard.js");__webpack_require__(/*! @data-driven-forms/react-form-renderer/dist/cjs/form-renderer */ "./node_modules/@data-driven-forms/react-form-renderer/dist/cjs/form-renderer.js"),__webpack_require__(/*! @data-driven-forms/react-form-renderer/dist/cjs/component-types */ "./node_modules/@data-driven-forms/react-form-renderer/dist/cjs/component-types.js"),__webpack_require__(/*! @data-driven-forms/react-form-renderer/dist/cjs/validator-types */ "./node_modules/@data-driven-forms/react-form-renderer/dist/cjs/validator-types.js"),__webpack_require__(/*! @data-driven-forms/react-form-renderer/dist/cjs/validator-mapper */ "./node_modules/@data-driven-forms/react-form-renderer/dist/cjs/validator-mapper.js"),__webpack_require__(/*! @data-driven-forms/pf4-component-mapper/dist/cjs/form-template */ "./node_modules/@data-driven-forms/pf4-component-mapper/dist/cjs/form-template.js"),__webpack_require__(/*! @data-driven-forms/pf4-component-mapper/dist/cjs/component-mapper */ "./node_modules/@data-driven-forms/pf4-component-mapper/dist/cjs/component-mapper.js"),__webpack_require__(/*! ./toConsumableArray-b422f1a8.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/toConsumableArray-b422f1a8.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/Text/TextContent.js */ "./node_modules/@patternfly/react-core/dist/js/components/Text/TextContent.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/Text/TextListItem.js */ "./node_modules/@patternfly/react-core/dist/js/components/Text/TextListItem.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/Text/TextList.js */ "./node_modules/@patternfly/react-core/dist/js/components/Text/TextList.js"),__webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js"),__webpack_require__(/*! @patternfly/react-icons/dist/js/icons/question-circle-icon.js */ "./node_modules/@patternfly/react-icons/dist/js/icons/question-circle-icon.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/Popover/Popover.js */ "./node_modules/@patternfly/react-core/dist/js/components/Popover/Popover.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/Text/Text.js */ "./node_modules/@patternfly/react-core/dist/js/components/Text/Text.js");var hardcodedSchemas=__webpack_require__(/*! ./hardcodedSchemas-c9ff661b.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/hardcodedSchemas-c9ff661b.js");__webpack_require__(/*! @patternfly/react-core/dist/js/components/ClipboardCopy/ClipboardCopy.js */ "./node_modules/@patternfly/react-core/dist/js/components/ClipboardCopy/ClipboardCopy.js"),__webpack_require__(/*! @data-driven-forms/react-form-renderer/dist/cjs/use-form-api */ "./node_modules/@data-driven-forms/react-form-renderer/dist/cjs/use-form-api.js"),__webpack_require__(/*! ./objectWithoutProperties-9e2b4e81.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/objectWithoutProperties-9e2b4e81.js"),__webpack_require__(/*! ./schemaBuilder-c526d855.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/schemaBuilder-c526d855.js"),__webpack_require__(/*! ./SourceWizardSummary.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/SourceWizardSummary.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/Card/Card.js */ "./node_modules/@patternfly/react-core/dist/js/components/Card/Card.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/Card/CardHeader.js */ "./node_modules/@patternfly/react-core/dist/js/components/Card/CardHeader.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/Card/CardBody.js */ "./node_modules/@patternfly/react-core/dist/js/components/Card/CardBody.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/Form/FormGroup.js */ "./node_modules/@patternfly/react-core/dist/js/components/Form/FormGroup.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/layouts/Grid/Grid.js */ "./node_modules/@patternfly/react-core/dist/js/layouts/Grid/Grid.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/layouts/Grid/GridItem.js */ "./node_modules/@patternfly/react-core/dist/js/layouts/Grid/GridItem.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/layouts/Bullseye/Bullseye.js */ "./node_modules/@patternfly/react-core/dist/js/layouts/Bullseye/Bullseye.js"),__webpack_require__(/*! @data-driven-forms/react-form-renderer/dist/cjs/use-field-api */ "./node_modules/@data-driven-forms/react-form-renderer/dist/cjs/use-field-api.js"),__webpack_require__(/*! ./CardSelect.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/CardSelect.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/Radio/Radio.js */ "./node_modules/@patternfly/react-core/dist/js/components/Radio/Radio.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/Form/FormHelperText.js */ "./node_modules/@patternfly/react-core/dist/js/components/Form/FormHelperText.js"),__webpack_require__(/*! ./AuthSelect.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/AuthSelect.js"),__webpack_require__(/*! @data-driven-forms/pf4-component-mapper/dist/cjs/select */ "./node_modules/@data-driven-forms/pf4-component-mapper/dist/cjs/select.js"),__webpack_require__(/*! ./asyncToGenerator-a32dc547.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/asyncToGenerator-a32dc547.js"),__webpack_require__(/*! awesome-debounce-promise */ "./node_modules/awesome-debounce-promise/dist/index.es.js");var SourceAddSchema=__webpack_require__(/*! ./SourceAddSchema.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/SourceAddSchema.js");__webpack_require__(/*! @redhat-cloud-services/frontend-components-utilities/files/cjs/interceptors */ "./node_modules/@redhat-cloud-services/frontend-components-utilities/files/cjs/interceptors.js");var index$1=__webpack_require__(/*! ./index-0b037bc1.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/index-0b037bc1.js");__webpack_require__(/*! ./handleError.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/handleError.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/EmptyState/EmptyState.js */ "./node_modules/@patternfly/react-core/dist/js/components/EmptyState/EmptyState.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/EmptyState/EmptyStateBody.js */ "./node_modules/@patternfly/react-core/dist/js/components/EmptyState/EmptyStateBody.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/EmptyState/EmptyStateSecondaryActions.js */ "./node_modules/@patternfly/react-core/dist/js/components/EmptyState/EmptyStateSecondaryActions.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/Spinner/Spinner.js */ "./node_modules/@patternfly/react-core/dist/js/components/Spinner/Spinner.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/Progress/Progress.js */ "./node_modules/@patternfly/react-core/dist/js/components/Progress/Progress.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/EmptyState/EmptyStateIcon.js */ "./node_modules/@patternfly/react-core/dist/js/components/EmptyState/EmptyStateIcon.js");var LoadingStep=__webpack_require__(/*! ./LoadingStep.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/LoadingStep.js"),filterApps=__webpack_require__(/*! ./filterApps.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/filterApps.js");__webpack_require__(/*! @patternfly/react-core/dist/js/components/Title/Title.js */ "./node_modules/@patternfly/react-core/dist/js/components/Title/Title.js"),__webpack_require__(/*! @patternfly/react-icons/dist/js/icons/check-circle-icon.js */ "./node_modules/@patternfly/react-icons/dist/js/icons/check-circle-icon.js");var FinishedStep=__webpack_require__(/*! ./FinishedStep.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/FinishedStep.js");__webpack_require__(/*! @patternfly/react-icons/dist/js/icons/times-circle-icon.js */ "./node_modules/@patternfly/react-icons/dist/js/icons/times-circle-icon.js");var ErroredStep=__webpack_require__(/*! ./ErroredStep.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/ErroredStep.js");__webpack_require__(/*! ./costManagementAuthentication.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/costManagementAuthentication.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/Modal/Modal.js */ "./node_modules/@patternfly/react-core/dist/js/components/Modal/Modal.js"),__webpack_require__(/*! @patternfly/react-icons/dist/js/icons/exclamation-triangle-icon.js */ "./node_modules/@patternfly/react-icons/dist/js/icons/exclamation-triangle-icon.js");var CloseModal=__webpack_require__(/*! ./CloseModal.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/CloseModal.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,s)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){defineProperty._defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var initialValues={schema:{},sourceTypes:[],isLoading:!0},reducer=function reducer(e,r){var t=r.type,s=r.sourceTypes,n=r.applicationTypes,i=r.container,o=r.disableAppSelection;switch(t){case"loaded":return _objectSpread({},e,{schema:SourceAddSchema.default(s.filter((function(e){return e.schema})),n.filter(filterApps.default),o,i),isLoading:!1,sourceTypes:s})}},SourceAddModal=function SourceAddModal(e){var r=e.sourceTypes,t=e.applicationTypes,s=e.disableAppSelection,n=e.isCancelling,i=e.onCancel,o=e.values,a=e.onSubmit,c=React.useReducer(reducer,initialValues),p=createSource._slicedToArray(c,2),d=p[0],u=d.schema,l=d.sourceTypes,y=d.isLoading,f=p[1],m=React.useRef(!1),S=React.useRef(document.createElement("div"));return React.useEffect((function(){m.current=!0;var e=[];return r||e.push(index$1.doLoadSourceTypes()),t||e.push(index$1.doLoadApplicationTypes()),Promise.all(e).then((function(e){var n=e.find((function(e){return e.hasOwnProperty("sourceTypes")})),i=e.find((function(e){return e.hasOwnProperty("applicationTypes")}));m.current&&f({type:"loaded",sourceTypes:r||n.sourceTypes,applicationTypes:t||i.applicationTypes,disableAppSelection:s,container:S.current})})),function(){m.current=!1}}),[]),React.useEffect((function(){S.current.hidden=n}),[n]),y?React__default.createElement(Wizard_js.Wizard,{isOpen:!0,onClose:i,title:hardcodedSchemas.WIZARD_TITLE,description:hardcodedSchemas.WIZARD_DESCRIPTION,steps:[{name:"Loading",component:React__default.createElement(LoadingStep.default,{onClose:function onClose(){return i()}}),isFinishedStep:!0}]}):React__default.createElement(sourceFormRenderer.SourcesFormRenderer,{initialValues:o,schema:u,onSubmit:function onSubmit(e){return a(e,l)},onCancel:i})};SourceAddModal.propTypes={onCancel:index.PropTypes.func.isRequired,onSubmit:index.PropTypes.func.isRequired,sourceTypes:index.PropTypes.arrayOf(index.PropTypes.shape({id:index.PropTypes.string.isRequired,name:index.PropTypes.string.isRequired,product_name:index.PropTypes.string.isRequired,schema:index.PropTypes.shape({authentication:index.PropTypes.array,endpoint:index.PropTypes.object})})),applicationTypes:index.PropTypes.arrayOf(index.PropTypes.shape({id:index.PropTypes.string.isRequired,name:index.PropTypes.string.isRequired,display_name:index.PropTypes.string.isRequired})),values:index.PropTypes.object,disableAppSelection:index.PropTypes.bool,isCancelling:index.PropTypes.bool},SourceAddModal.defaultProps={values:{},disableAppSelection:!1};var FinalWizard=function FinalWizard(e){var r=e.afterSubmit,t=e.afterError,s=e.isFinished,n=e.isErrored,i=e.onRetry,o=e.successfulMessage,a=e.hideSourcesButton,c=e.returnButtonTitle,p=e.errorMessage,d=e.progressStep,u=e.progressTexts;return(React__default.createElement(Wizard_js.Wizard,{isOpen:!0,onClose:s?r:t,title:hardcodedSchemas.WIZARD_TITLE,description:hardcodedSchemas.WIZARD_DESCRIPTION,steps:[{name:"Finish",component:s?React__default.createElement(FinishedStep.default,{onClose:r,successfulMessage:o,hideSourcesButton:a,returnButtonTitle:c,progressStep:d,progressTexts:u}):n?React__default.createElement(ErroredStep.default,{onRetry:i,onClose:t,returnButtonTitle:c,message:p,progressStep:d,progressTexts:u}):React__default.createElement(LoadingStep.default,{customText:"Source is being created",progressStep:d,progressTexts:u}),isFinishedStep:!0}]}))};FinalWizard.propTypes={afterSubmit:index.PropTypes.func.isRequired,afterError:index.PropTypes.func.isRequired,onRetry:index.PropTypes.func.isRequired,isFinished:index.PropTypes.bool.isRequired,isErrored:index.PropTypes.bool.isRequired,successfulMessage:index.PropTypes.node.isRequired,hideSourcesButton:index.PropTypes.bool,returnButtonTitle:index.PropTypes.node.isRequired,errorMessage:index.PropTypes.node,progressStep:index.PropTypes.number.isRequired,progressTexts:index.PropTypes.arrayOf(index.PropTypes.string).isRequired};var createProgressText=function createProgressText(e){var r=[],t=1,s=e.endpoint&&e.application&&e.application.application_type_id;return r.push("Step 1: sending source data"),s?r.push("Step ".concat(++t,": sending endpoint and application data")):!e.endpoint||e.application&&e.application.application_type_id?!e.endpoint&&e.application&&e.application.application_type_id&&r.push("Step ".concat(++t,": sending application data")):r.push("Step ".concat(++t,": sending endpoint data")),e.endpoint&&r.push("Step ".concat(++t,": sending authentication data")),e.credentials||e.billing_source?r.push("Step ".concat(++t,": sending cost management data and connecting authentication and application")):s&&r.push("Step ".concat(++t,": connecting authentication and application")),r.push("Completed"),r};function ownKeys$1(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,s)}return t}function _objectSpread$1(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys$1(Object(t),!0).forEach((function(r){defineProperty._defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys$1(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var prepareInitialValues=function prepareInitialValues(e){return{isSubmitted:!1,isFinished:!1,isErrored:!1,isCancelling:!1,values:e,createdSource:{},error:void 0,progressStep:0,progressTexts:[]}},reducer$1=function reducer(e,r){var t=r.type,s=r.values,n=r.data,i=r.error,o=r.initialValues;switch(t){case"reset":return prepareInitialValues(o);case"prepareSubmitState":return _objectSpread$1({},e,{isSubmitted:!0,values:s,progressTexts:createProgressText(s),progressStep:0});case"increaseProgressStep":return _objectSpread$1({},e,{progressStep:e.progressStep+1});case"setSubmitted":return _objectSpread$1({},e,{isFinished:!0,createdSource:n});case"setErrored":return _objectSpread$1({},e,{isErrored:!0,error:i.toString()});case"onRetry":return _objectSpread$1({},e,{isErrored:!1,isSubmitted:!1,error:void 0});case"onStay":return _objectSpread$1({},e,{isCancelling:!1});case"showCancelModal":return _objectSpread$1({},e,{isCancelling:!0,values:s})}},AddSourceWizard=function AddSourceWizard(e){var r=e.successfulMessage,t=e.isOpen,s=e.sourceTypes,n=e.applicationTypes,i=e.disableAppSelection,o=e.hideSourcesButton,a=e.returnButtonTitle,c=e.initialValues,p=e.onClose,d=e.afterSuccess,u=React.useReducer(reducer$1,prepareInitialValues(c)),l=createSource._slicedToArray(u,2),y=l[0],f=y.isErrored,m=y.isFinished,S=y.isSubmitted,j=y.values,T=y.error,b=y.progressStep,g=y.progressTexts,P=y.isCancelling,x=y.createdSource,h=l[1];return t?S?React__default.createElement(FinalWizard,{afterSubmit:function afterSubmit(){p(void 0,x),h({type:"reset",initialValues:c})},afterError:function afterError(){return p({})},isFinished:m,isErrored:f,onRetry:function onRetry(){return h({type:"onRetry"})},successfulMessage:r,hideSourcesButton:o,returnButtonTitle:a,errorMessage:T,progressStep:b,progressTexts:g}):React__default.createElement(React__default.Fragment,null,React__default.createElement(CloseModal.default,{isOpen:P,onExit:function onExit(){return p(j)},onStay:function onStay(){return h({type:"onStay"})}}),React__default.createElement(SourceAddModal,{isCancelling:P,values:j,onSubmit:function onSubmit(e,r){return h({type:"prepareSubmitState",values:e}),createSource.doCreateSource(e,r,(function(){return h({type:"increaseProgressStep"})})).then((function(e){d&&d(e),h({type:"setSubmitted",data:e})})).catch((function(e){h({type:"setErrored",error:e})}))},onCancel:function onCancelBeforeExit(e){return isEmpty(e)?p({}):h({type:"showCancelModal",values:e})},sourceTypes:s,applicationTypes:n,disableAppSelection:i})):null};AddSourceWizard.propTypes={afterSuccess:index.PropTypes.func,sourceTypes:index.PropTypes.arrayOf(index.PropTypes.shape({id:index.PropTypes.string.isRequired,name:index.PropTypes.string.isRequired,product_name:index.PropTypes.string.isRequired,schema:index.PropTypes.shape({authentication:index.PropTypes.array,endpoint:index.PropTypes.object})})),applicationTypes:index.PropTypes.arrayOf(index.PropTypes.shape({id:index.PropTypes.string.isRequired,name:index.PropTypes.string.isRequired,display_name:index.PropTypes.string.isRequired})),onClose:index.PropTypes.func.isRequired,isOpen:index.PropTypes.bool.isRequired,successfulMessage:index.PropTypes.node,initialValues:index.PropTypes.shape(defineProperty._defineProperty({},index.PropTypes.string,index.PropTypes.oneOf([index.PropTypes.string,index.PropTypes.array,index.PropTypes.number,index.PropTypes.bool]))),disableAppSelection:index.PropTypes.bool,hideSourcesButton:index.PropTypes.bool,returnButtonTitle:index.PropTypes.node},AddSourceWizard.defaultProps={successfulMessage:"Your source has been successfully added.",initialValues:{},returnButtonTitle:"Go back to sources"};var AddSourceButton=function AddSourceButton(e){var r=React.useState(!1),t=createSource._slicedToArray(r,2),s=t[0],n=t[1];return(React__default.createElement(React__default.Fragment,null,React__default.createElement(Button_js.Button,{variant:"primary",onClick:function onClick(){return n(!0)}},hardcodedSchemas.WIZARD_TITLE),React__default.createElement(AddSourceWizard,sourceFormRenderer._extends({isOpen:s,onClose:function onClose(){return n(!1)}},e))))};exports.AddSourceButton=AddSourceButton,exports.AddSourceWizard=AddSourceWizard;


/***/ }),

/***/ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/createSource-ed1b013c.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/createSource-ed1b013c.js ***!
  \******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var unsupportedIterableToArray=__webpack_require__(/*! ./unsupportedIterableToArray-abf8a1bc.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/unsupportedIterableToArray-abf8a1bc.js"),defineProperty=__webpack_require__(/*! ./defineProperty-cf06dcaa.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/defineProperty-cf06dcaa.js"),asyncToGenerator=__webpack_require__(/*! ./asyncToGenerator-a32dc547.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/asyncToGenerator-a32dc547.js"),index=__webpack_require__(/*! ./index-0b037bc1.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/index-0b037bc1.js"),handleError=__webpack_require__(/*! ./handleError.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/handleError.js"),costManagementAuthentication=__webpack_require__(/*! ./costManagementAuthentication.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/costManagementAuthentication.js");function _arrayWithHoles(e){if(Array.isArray(e))return e}var arrayWithHoles=_arrayWithHoles;function _iterableToArrayLimit(e,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(t.push(i.value),!r||t.length!==r);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return t}}var iterableToArrayLimit=_iterableToArrayLimit;function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var nonIterableRest=_nonIterableRest;function _slicedToArray(e,r){return arrayWithHoles(e)||iterableToArrayLimit(e,r)||unsupportedIterableToArray.unsupportedIterableToArray(e,r)||nonIterableRest()}var slicedToArray=_slicedToArray;function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){defineProperty._defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var parseUrl=function parseUrl(e){if(!e)return{};try{var r=new URL(e);return{scheme:r.protocol.replace(/:$/,""),host:r.hostname,port:r.port,path:r.pathname}}catch(e){return console.log(e),{}}},urlOrHost=function urlOrHost(e){return e.url?parseUrl(e.url):e},handleErrorWrapper=function handleErrorWrapper(e){return function(){var r=asyncToGenerator._asyncToGenerator(asyncToGenerator._regeneratorRuntime.mark((function _callee(r){return asyncToGenerator._regeneratorRuntime.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,handleError.handleError(r,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),_callee)})));return function(e){return r.apply(this,arguments)}}()},doCreateSource=function(){var e=asyncToGenerator._asyncToGenerator(asyncToGenerator._regeneratorRuntime.mark((function _callee2(e,r){var t,n,o,a,i,c,s,u,p,l,d,y,h,b,f,_,m,v,A,j,T,g,S,O,x,w,P,E=arguments;return asyncToGenerator._regeneratorRuntime.wrap((function _callee2$(I){for(;;)switch(I.prev=I.next){case 0:return t=E.length>2&&void 0!==E[2]?E[2]:function(){},I.prev=1,o=r.find((function(r){return r.name===e.source_type})).id,I.next=5,index.getSourcesApi().createSource(_objectSpread({},e.source,{source_type_id:o}));case 5:return n=I.sent,t(),a=[],e.endpoint?(i=urlOrHost(e),c=i.scheme,s=i.host,u=i.port,p=i.path,l=parseInt(u,10),d=_objectSpread({},e.endpoint,{default:!0,source_id:n.id,scheme:c,host:s,port:isNaN(l)?void 0:l,path:p}),a.push(index.getSourcesApi().createEndpoint(d))):a.push(Promise.resolve(void 0)),e.application&&e.application.application_type_id?(y=_objectSpread({},e.application,{source_id:n.id}),a.push(index.getSourcesApi().createApplication(y))):a.push(Promise.resolve(void 0)),I.next=12,Promise.all(a);case 12:if(h=I.sent,b=slicedToArray(h,2),f=b[0],_=b[1],(f||_)&&t(),!f){I.next=23;break}return v=_objectSpread({},e.authentication,{resource_id:f.id,resource_type:"Endpoint"}),I.next=21,index.getSourcesApi().createAuthentication(v);case 21:m=I.sent,t();case 23:return A=[],e.credentials||e.billing_source?(j=e.credentials,T=e.billing_source,g={},g=j?{authentication:{credentials:j}}:{},g=T?_objectSpread({},g,{billing_source:T}):g,A.push(costManagementAuthentication.patchSource(_objectSpread({id:n.id},g)))):a.push(Promise.resolve(void 0)),m&&_?(S={application_id:_.id,authentication_id:m.id},A.push(index.getSourcesApi().createAuthApp(S))):a.push(Promise.resolve(void 0)),I.next=28,Promise.all(A);case 28:return O=I.sent,x=slicedToArray(O,2),w=x[0],P=x[1],(w||P)&&t(),I.abrupt("return",_objectSpread({},n,{endpoint:[f],applications:[_]}));case 36:return I.prev=36,I.t0=I.catch(1),I.next=40,handleError.handleError(I.t0,n?n.id:void 0);case 40:throw I.sent;case 42:case"end":return I.stop()}}),_callee2,null,[[1,36]])})));return function doCreateSource(r,t){return e.apply(this,arguments)}}();exports._slicedToArray=slicedToArray,exports.doCreateSource=doCreateSource,exports.handleErrorWrapper=handleErrorWrapper,exports.parseUrl=parseUrl,exports.urlOrHost=urlOrHost;


/***/ })

}]);
//# sourceMappingURL=../sourcemaps/vendors~addSource.js.map