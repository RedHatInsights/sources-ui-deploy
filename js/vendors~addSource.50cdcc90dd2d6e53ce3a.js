(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{495:function(e,t,r){"use strict";var n=r(442).createCommonjsModule((function(e){var t=function(e){var t,r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),o=new M(n||[]);return i._invoke=function(e,t,r){var n=l;return function(a,i){if(n===p)throw new Error("Generator is already running");if(n===f){if("throw"===a)throw i;return B()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var s=_(o,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var c=u(e,t,r);if("normal"===c.type){if(n=r.done?f:d,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=f,r.method="throw",r.arg=c.arg)}}}(e,r,o),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l="suspendedStart",d="suspendedYield",p="executing",f="completed",m={};function h(){}function y(){}function g(){}var v={};v[i]=function(){return this};var b=Object.getPrototypeOf,S=b&&b(b(C([])));S&&S!==r&&n.call(S,i)&&(v=S);var E=g.prototype=h.prototype=Object.create(v);function T(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function w(e,t){var r;this._invoke=function(a,i){function o(){return new t((function(r,o){!function r(a,i,o,s){var c=u(e[a],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,s)}))}s(c.arg)}(a,i,r,o)}))}return r=r?r.then(o,o):o()}}function _(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method))return m;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var a=u(n,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function C(e){if(e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:B}}function B(){return{value:t,done:!0}}return y.prototype=E.constructor=g,g.constructor=y,g[s]=y.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},T(w.prototype),w.prototype[o]=function(){return this},e.AsyncIterator=w,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var o=new w(c(t,r,n,a),i);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(E),E[s]="Generator",E[i]=function(){return this},E.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=C,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}));function a(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}var i=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,c,"next",e)}function c(e){a(o,n,i,s,c,"throw",e)}s(void 0)}))}};t._asyncToGenerator=i,t._regeneratorRuntime=n},574:function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0}),r(442),r(412),r(423);var a=r(422),i=r(0),o=n(i),s=n(r(12)),c=r(207),u=n(r(406)),l=n(r(405)),d=r(443),p=r(209);r(426),r(427),r(410),r(421),r(444),r(428);var f=r(208),m=r(445);r(446);var h=n(r(404));r(414),r(411);var y=r(413),g=r(456),v=r(495),b=n(r(529)),S=r(476);r(221),r(440);var E=r(474),T=function(e){var t=e.name,r=h();return i.useEffect((function(){return setTimeout((function(){return r.change(t,"1")})),function(){return r.change(t,"")}}),[]),null};function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){a._defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}T.propTypes={name:s.string.isRequired};var x,O=(x=v._asyncToGenerator(v._regeneratorRuntime.mark((function e(t){var r,n,a,i=arguments;return v._regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:void 0,n=i.length>2?i[2]:void 0,t){e.next=4;break}return e.abrupt("return",void 0);case 4:return e.prev=4,e.next=7,y.findSource(t);case 7:a=e.sent,e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(4),console.error(S.handleError(e.t0)),e.abrupt("return",void 0);case 14:if(!a.data.sources.find((function(e){return e.id!==r}))){e.next=16;break}throw n.formatMessage({defaultMessage:"That name is taken. Try another.",id:"wizard.nameTaken"});case 16:return e.abrupt("return",void 0);case 17:case"end":return e.stop()}}),e,null,[[4,10]])}))),function(e){return x.apply(this,arguments)}),M=!0,C=function(e){return M=e},B=function(){return M},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onlyResolvesLast:!1};return b(e,t,r)}(O),k=function(e){return B()?(C(!1),function(t,r){return t?O(t,r,e):void 0}):A},N=function(e){return d._toConsumableArray(e.sort((function(e,t){return e.product_name.localeCompare(t.product_name)})).map((function(e){return{value:e.name,label:e.product_name}})))},z=function(e,t){return[{label:t.formatMessage({id:"wizard.none",defaultMessage:"None"}),key:"none"}].concat(d._toConsumableArray(e.sort((function(e,t){return e.display_name.localeCompare(t.display_name)})).map((function(e){return{value:e.id,label:e.display_name}}))))},P=function(e){return function(t,r){if(!t.value)return t;var n=r.getState().values.source_type,a=e.find((function(e){return e.display_name===t.label})),i=!n||a.supported_source_types.includes(n);return _({},t,{isDisabled:!i})}},j=function(e,t){return function(r,n){var a=n.getState().values.application?n.getState().values.application.application_type_id:void 0,i=e.find((function(e){return e.id===a})),o=!i||i.supported_source_types.includes(t.find((function(e){return e.product_name===r.label})).name);return _({},r,{isDisabled:!o})}},I=function(e){return function(t){var r=e.find((function(e){return e.name===t}));return r&&r.icon_url?function(){return o.createElement("img",{src:r.icon_url,alt:r.product_name,className:"ins-c-sources__wizard--icon"})}:null}},L=function(e){var t=e.values,r=t.application,n=t.source_type,a=r&&r.application_type_id;return a?"".concat(n,"-").concat(a):n},R=function(e,t,r,n){return{title:n.formatMessage({id:"wizard.chooseAppAndType",defaultMessage:"Application and source type"}),name:"types_step",nextStep:L,fields:[{component:"enhanced-select",name:"application.application_type_id",label:n.formatMessage({id:"wizard.selectYourApplication",defaultMessage:"A. Select application"}),options:z(t,n),mutator:P(t),description:n.formatMessage({id:"wizard.selectAppWarning",defaultMessage:"Selecting an application will limit the available source types. You can attach an application to this source using the dropdown below, or by clicking ‘Manage applications’ after source creation."}),isDisabled:r,placeholder:n.formatMessage({id:"wizard.chooseApp",defaultMessage:"Choose application"})},{component:"card-select",name:"source_type",isRequired:!0,label:n.formatMessage({id:"wizard.selectYourSourceType",defaultMessage:"B. Select source type"}),iconMapper:I(e),validate:[{type:l.REQUIRED}],options:N(e),mutator:j(t,e)},{component:"description",name:"fixasyncvalidation",Content:T}]}},D=function(){var e=c.useIntl();return o.createElement(p.TextContent,{key:"step1"},o.createElement(f.Text,{component:f.TextVariants.p},e.formatMessage({id:"wizard.nameDescription",defaultMessage:"To import data for an application, you need to connect to a data source. Enter a name, then proceed to select your application and source type."})))},F=function(e){return{title:e.formatMessage({id:"wizard.name",defaultMessage:"Name"}),name:"name_step",nextStep:"types_step",fields:[{component:"description",name:"description-summary",Content:D},{component:u.TEXT_FIELD,name:"source.name",type:"text",label:e.formatMessage({id:"wizard.name",defaultMessage:"Name"}),placeholder:"Source_1",isRequired:!0,validate:[function(t){return k(e)(t,void 0,e)},{type:l.REQUIRED}],resolveProps:E.default}]}},W=function(){var e=c.useIntl();return o.createElement(p.TextContent,null,o.createElement(f.Text,{component:f.TextVariants.p},e.formatMessage({id:"wizard.summaryDescription",defaultMessage:"Review the information below and click Add to add your source. Use the Back button to make changes."})))},q=function(e,t,r){return{fields:[{component:"description",name:"description-summary",Content:W},{name:"summary",component:"summary",sourceTypes:e,applicationTypes:t}],name:"summary",title:r.formatMessage({id:"wizard.reviewDetails",defaultMessage:"Review details"})}};t.NameDescription=D,t.SummaryDescription=W,t.appMutator=P,t.asyncValidator=O,t.asyncValidatorDebounced=A,t.asyncValidatorDebouncedWrapper=k,t.default=function(e,t,r,n,a){return C(!0),{fields:[{component:u.WIZARD,name:"wizard",title:m.WIZARD_TITLE,inModal:!0,description:m.WIZARD_DESCRIPTION,buttonLabels:{submit:a.formatMessage({id:"sources.add",defaultMessage:"Add"}),back:a.formatMessage({id:"wizard.back",defaultMessage:"Back"}),cancel:a.formatMessage({id:"wizard.cancel",defaultMessage:"Cancel"}),next:a.formatMessage({id:"wizard.next",defaultMessage:"Next"})},container:n,showTitles:!0,crossroads:["application.application_type_id","source_type","auth_select"],fields:[F(a),R(e,t,r,a)].concat(d._toConsumableArray(g.schemaBuilder(e,t)),[q(e,t,a)])}]}},t.getFirstValidated=B,t.iconMapper=I,t.nextStep=L,t.setFirstValidated=C,t.sourceTypeMutator=j},577:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TOPOLOGY_INV_NAME="/insights/platform/topological-inventory",t.default=function(e){return"/insights/platform/topological-inventory"!==e.name}},578:function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(0)),i=r(127),o=n(r(12)),s=r(207),c=r(211),u=r(457),l=n(r(213)),d=function(e){var t=e.onExit,r=e.onStay,n=e.isOpen,o=e.title,d=e.exitTitle,p=e.stayTitle,f=e.description,m=s.useIntl();return a.createElement(u.Modal,{variant:"small",title:o,"aria-label":m.formatMessage({id:"wizard.closeAriaLabel",defaultMessage:"Close add source wizard"}),header:a.createElement(c.Title,{headingLevel:"h1",size:"2xl"},a.createElement(l,{size:"sm",className:"ins-c-source__warning-icon"}),o),isOpen:n,onClose:r,actions:[a.createElement(i.Button,{key:"confirm",variant:"primary",id:"on-exit-button",onClick:t},d),a.createElement(i.Button,{key:"cancel",variant:"link",id:"on-stay-button",onClick:r},p)]},f)};d.propTypes={onExit:o.func.isRequired,onStay:o.func.isRequired,isOpen:o.bool.isRequired,title:o.node,exitTitle:o.node,stayTitle:o.node,description:o.node},d.defaultProps={title:a.createElement(s.FormattedMessage,{id:"wizard.closeTitle",defaultMessage:"Exit source creation?"}),exitTitle:a.createElement(s.FormattedMessage,{id:"wizard.exitText",defaultMessage:"Exit"}),stayTitle:a.createElement(s.FormattedMessage,{id:"wizard.stayText",defaultMessage:"Stay"}),description:a.createElement(s.FormattedMessage,{id:"wizard.closeWarning",defaultMessage:"All inputs will be discarded."})},t.default=d},579:function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(0)),i=r(127),o=n(r(12)),s=r(207),c=r(212),u=r(424),l=r(451),d=r(416),p=r(211),f=r(430),m=n(r(233)),h=function(e){var t=e.onClose,r=e.successfulMessage,n=e.hideSourcesButton,o=e.returnButtonTitle,s=e.title,h=e.linkText,y=e.secondaryActions;return a.createElement(c.Bullseye,null,a.createElement(u.EmptyState,{variant:u.EmptyStateVariant.full,className:"pf-u-mt-4xl"},a.createElement(d.EmptyStateIcon,{icon:m,color:"var(--pf-global--success-color--100)",className:"pf-u-mb-0"}),a.createElement(p.Title,{headingLevel:"h2",size:"xl",className:"pf-u-mt-xl"},s),a.createElement(f.EmptyStateBody,{className:"ins-c-sources__wizard--step-text"},r),a.createElement(i.Button,{variant:"primary",onClick:t,className:"pf-u-mt-xl"},o),!n&&a.createElement(l.EmptyStateSecondaryActions,null,a.createElement("a",{href:"/hybrid/settings/sources"},a.createElement(i.Button,{variant:"link"},h))),y&&a.createElement(l.EmptyStateSecondaryActions,null,y)))};h.propTypes={onClose:o.func.isRequired,successfulMessage:o.node.isRequired,hideSourcesButton:o.bool,returnButtonTitle:o.node.isRequired,title:o.node,linkText:o.node,secondaryActions:o.node},h.defaultProps={title:a.createElement(s.FormattedMessage,{id:"wizard.succConfiguration",defaultMessage:"Configuration successful"}),linkText:a.createElement(s.FormattedMessage,{id:"wizard.toSources",defaultMessage:"Take me to sources"})},t.default=h},580:function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(0)),i=r(127),o=n(r(12)),s=r(207),c=r(212),u=r(424),l=r(451),d=r(416),p=r(211),f=r(430),m=n(r(488)),h=function(e){var t=e.onClose,r=e.returnButtonTitle,n=e.title,o=e.secondaryActions,h=s.useIntl();return a.createElement(c.Bullseye,null,a.createElement(u.EmptyState,{variant:u.EmptyStateVariant.full,className:"pf-u-mt-4xl"},a.createElement(d.EmptyStateIcon,{icon:m,color:"var(--pf-global--Color--200)",className:"pf-u-mb-0"}),a.createElement(p.Title,{headingLevel:"h2",size:"xl",className:"pf-u-mt-xl"},n),a.createElement(f.EmptyStateBody,null,h.formatMessage({id:"wizard.uncompleteConfigurationDescription",defaultMessage:"We are still working to confirm credentials and app settings.{newLine}To track progress, check the Status column in the Sources table."},{newLine:a.createElement("br",{key:"br"})})),a.createElement(i.Button,{variant:"primary",onClick:t,className:"pf-u-mt-xl"},r),o&&a.createElement(l.EmptyStateSecondaryActions,null,o)))};h.propTypes={onClose:o.func.isRequired,returnButtonTitle:o.node.isRequired,title:o.node,secondaryActions:o.node},h.defaultProps={title:a.createElement(s.FormattedMessage,{id:"wizard.uncompleteConfigurationTitle",defaultMessage:"Configuration not yet complete"})},t.default=h},581:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Wizard=void 0;const n=r(1),a=n.__importStar(r(0)),i=r(57),o=r(4),s=n.__importDefault(r(437)),c=r(477),u=r(582),l=r(583),d=r(514),p=r(517),f=r(584),m=r(515);class h extends a.Component{constructor(e){super(e),this.handleKeyClicks=e=>{e.keyCode===i.KEY_CODES.ESCAPE_KEY&&(this.state.isNavOpen?this.setState({isNavOpen:!this.state.isNavOpen}):this.props.isOpen&&this.props.onClose())},this.onNext=()=>{const{onNext:e,onClose:t,onSave:r}=this.props,{currentStep:n}=this.state,a=this.getFlattenedSteps();if(n>=a.length)return r?r():t();{const t=n+1;this.setState({currentStep:t});const{id:r,name:i}=a[n-1],{id:o,name:s}=a[t-1];return e&&e({id:o,name:s},{prevId:r,prevName:i})}},this.onBack=()=>{const{onBack:e}=this.props,{currentStep:t}=this.state,r=this.getFlattenedSteps();if(!(r.length<t)){const n=t-1<=0?0:t-1;this.setState({currentStep:n});const{id:a,name:i}=r[n],{id:o,name:s}=r[n-1];return e&&e({id:o,name:s},{prevId:a,prevName:i})}{const e=r.length;this.setState({currentStep:e})}},this.goToStep=e=>{const{onGoToStep:t}=this.props,{currentStep:r}=this.state,n=this.getFlattenedSteps(),a=n.length;e<1?e=1:e>a&&(e=a),this.setState({currentStep:e,isNavOpen:!1});const{id:i,name:o}=n[r-1],{id:s,name:c}=n[e-1];return t&&t({id:s,name:c},{prevId:i,prevName:o})},this.goToStepById=e=>{const t=this.getFlattenedSteps();let r;for(let n=0;n<t.length;n++)if(t[n].id===e){r=n+1;break}r&&this.setState({currentStep:r})},this.goToStepByName=e=>{const t=this.getFlattenedSteps();let r;for(let n=0;n<t.length;n++)if(t[n].name===e){r=n+1;break}r&&this.setState({currentStep:r})},this.getFlattenedSteps=()=>{const{steps:e}=this.props,t=[];for(const r of e)if(r.steps)for(const e of r.steps)t.push(e);else t.push(r);return t},this.getFlattenedStepsIndex=(e,t)=>{for(let r=0;r<e.length;r++)if(e[r].name===t)return r+1;return 0},this.initSteps=e=>{for(let t=0;t<e.length;t++){if(e[t].steps)for(let r=0;r<e[t].steps.length;r++)e[t].steps[r]=Object.assign({canJumpTo:!0},e[t].steps[r]);e[t]=Object.assign({canJumpTo:!0},e[t])}return e},this.getElement=e=>"function"==typeof e?e():e||document.body;const t=h.currentId++;this.titleId=e.titleId||"pf-wizard-title-"+t,this.descriptionId=e.descriptionId||"pf-wizard-description-"+t,this.state={currentStep:this.props.startAtStep&&Number.isInteger(this.props.startAtStep)?this.props.startAtStep:1,isNavOpen:!1}}componentDidMount(){const e="undefined"!=typeof document?document.body:null;e&&e.addEventListener("keydown",this.handleKeyClicks,!1)}componentWillUnmount(){const e="undefined"!=typeof document&&document.body||null;e&&e.removeEventListener("keydown",this.handleKeyClicks,!1)}render(){const e=this.props,{width:t,height:r,title:i,description:h,onClose:y,onSave:g,onBack:v,onNext:b,onGoToStep:S,className:E,steps:T,startAtStep:w,nextButtonText:_="Next",backButtonText:x="Back",cancelButtonText:O="Cancel",hideClose:M,closeButtonAriaLabel:C="Close",navAriaLabel:B,navAriaLabelledBy:A,mainAriaLabel:k,mainAriaLabelledBy:N,hasNoBodyPadding:z,footer:P,appendTo:j,isOpen:I,titleId:L,descriptionId:R}=e,D=n.__rest(e,["width","height","title","description","onClose","onSave","onBack","onNext","onGoToStep","className","steps","startAtStep","nextButtonText","backButtonText","cancelButtonText","hideClose","closeButtonAriaLabel","navAriaLabel","navAriaLabelledBy","mainAriaLabel","mainAriaLabelledBy","hasNoBodyPadding","footer","appendTo","isOpen","titleId","descriptionId"]),{currentStep:F}=this.state,W=this.getFlattenedSteps(),q=W.length<F?W.length:F,V=W[q-1],G=this.initSteps(T),Y=V===W[0],U=!V||void 0===V.enableNext||V.enableNext,Z={goToStepById:this.goToStepById,goToStepByName:this.goToStepByName,onNext:this.onNext,onBack:this.onBack,onClose:y,activeStep:V},J=a.createElement(f.WizardContextProvider,{value:Z},a.createElement("div",Object.assign({},D,{className:o.css(s.default.wizard,V&&V.isFinishedStep&&"pf-m-finished",E)},r&&{style:{height:r}}),i&&a.createElement(m.WizardHeader,{titleId:this.titleId,descriptionId:this.descriptionId,onClose:y,title:i,description:h,closeButtonAriaLabel:C,hideClose:M}),a.createElement(l.WizardToggle,{mainAriaLabel:k,isInPage:void 0===I,mainAriaLabelledBy:(i||N)&&(N||this.titleId),isNavOpen:this.state.isNavOpen,onNavToggle:e=>this.setState({isNavOpen:e}),nav:e=>{const t={isOpen:e,"aria-label":B,"aria-labelledby":(i||A)&&(A||this.titleId)};return a.createElement(d.WizardNav,Object.assign({},t),G.map((e,r)=>{if(e.isFinishedStep)return;let n,i;if(e.steps){let o=!1,s=!1;for(const t of e.steps)V.name===t.name&&(o=!0),t.canJumpTo&&(s=!0);return i=this.getFlattenedStepsIndex(W,e.steps[0].name),a.createElement(p.WizardNavItem,{key:r,content:e.name,isCurrent:o,isDisabled:!s,step:i,onNavItemClick:this.goToStep},a.createElement(d.WizardNav,Object.assign({},t,{returnList:!0}),e.steps.map((e,t)=>{if(!e.isFinishedStep)return i=this.getFlattenedStepsIndex(W,e.name),n=e.canJumpTo,a.createElement(p.WizardNavItem,{key:"child_"+t,content:e.name,isCurrent:V.name===e.name,isDisabled:!n,step:i,onNavItemClick:this.goToStep})})))}return i=this.getFlattenedStepsIndex(W,e.name),n=e.canJumpTo,a.createElement(p.WizardNavItem,Object.assign({},e.stepNavItemProps,{key:r,content:e.name,isCurrent:V.name===e.name,isDisabled:!n,step:i,onNavItemClick:this.goToStep}))}))},steps:T,activeStep:V,hasNoBodyPadding:z},P||a.createElement(u.WizardFooterInternal,{onNext:this.onNext,onBack:this.onBack,onClose:y,isValid:U,firstStep:Y,activeStep:V,nextButtonText:V&&V.nextButtonText||_,backButtonText:x,cancelButtonText:O}))));return void 0!==I?a.createElement(c.Modal,{isOpen:I,variant:c.ModalVariant.large,"aria-labelledby":this.titleId,"aria-describedby":this.descriptionId,showClose:!1,hasNoBodyWrapper:!0},J):J}}t.Wizard=h,h.displayName="Wizard",h.currentId=0,h.defaultProps={title:null,description:"",className:"",startAtStep:1,nextButtonText:"Next",backButtonText:"Back",cancelButtonText:"Cancel",hideClose:!1,closeButtonAriaLabel:"Close",navAriaLabel:null,navAriaLabelledBy:null,mainAriaLabel:null,mainAriaLabelledBy:null,hasNoBodyPadding:!1,onBack:null,onNext:null,onGoToStep:null,width:null,height:null,footer:null,onClose:()=>{},appendTo:null,isOpen:void 0}},582:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WizardFooterInternal=void 0;const n=r(1),a=n.__importStar(r(0)),i=r(4),o=n.__importDefault(r(437)),s=r(128);t.WizardFooterInternal=({onNext:e,onBack:t,onClose:r,isValid:n,firstStep:c,activeStep:u,nextButtonText:l,backButtonText:d,cancelButtonText:p})=>a.createElement("footer",{className:i.css(o.default.wizardFooter)},a.createElement(s.Button,{variant:s.ButtonVariant.primary,type:"submit",onClick:e,isDisabled:!n},l),!u.hideBackButton&&a.createElement(s.Button,{variant:s.ButtonVariant.secondary,onClick:t,className:i.css(c&&"pf-m-disabled")},d),!u.hideCancelButton&&a.createElement(s.Button,{variant:s.ButtonVariant.link,onClick:r},p)),t.WizardFooterInternal.displayName="WizardFooterInternal"},583:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WizardToggle=void 0;const n=r(1),a=n.__importStar(r(0)),i=r(4),o=n.__importDefault(r(437)),s=n.__importDefault(r(216)),c=n.__importDefault(r(214)),u=r(516);t.WizardToggle=({isNavOpen:e,onNavToggle:t,nav:r,steps:n,activeStep:l,children:d,hasNoBodyPadding:p=!1,"aria-label":f="Wizard Toggle",mainAriaLabelledBy:m=null,mainAriaLabel:h=null,isInPage:y=!0})=>{let g,v,b;for(let e=0;e<n.length;e++){if(l.id&&n[e].id===l.id||n[e].name===l.name){g=e+1,v=n[e].name;break}if(n[e].steps)for(const t of n[e].steps)if(l.id&&t.id===l.id||t.name===l.name){g=e+1,v=n[e].name,b=t.name;break}}return a.createElement(a.Fragment,null,a.createElement("button",{onClick:()=>t(!e),className:i.css(o.default.wizardToggle,e&&"pf-m-expanded"),"aria-label":f,"aria-expanded":e},a.createElement("ol",{className:i.css(o.default.wizardToggleList)},a.createElement("li",{className:i.css(o.default.wizardToggleListItem)},a.createElement("span",{className:i.css(o.default.wizardToggleNum)},g)," ",v,b&&a.createElement(s.default,{className:i.css(o.default.wizardToggleSeparator),"aria-hidden":"true"})),b&&a.createElement("li",{className:i.css(o.default.wizardToggleListItem)},b)),a.createElement("span",{className:i.css(o.default.wizardToggleIcon)},a.createElement(c.default,{"aria-hidden":"true"}))),a.createElement("div",{className:i.css(o.default.wizardOuterWrap)},a.createElement("div",{className:i.css(o.default.wizardInnerWrap)},r(e),a.createElement(u.WizardBody,{mainComponent:y?"div":"main","aria-label":h,"aria-labelledby":m,hasNoBodyPadding:p},l.component)),d))},t.WizardToggle.displayName="WizardToggle"},584:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WizardContextConsumer=t.WizardContextProvider=void 0;const n=r(1).__importStar(r(0)).createContext({goToStepById:()=>null,goToStepByName:()=>null,onNext:()=>null,onBack:()=>null,onClose:()=>null,activeStep:{name:null}});t.WizardContextProvider=n.Provider,t.WizardContextConsumer=n.Consumer},585:function(e,t,r){var n=r(555),a=r(463),i=r(504),o=r(432),s=r(461),c=r(462),u=r(484),l=r(485),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(o(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||l(e)||i(e)))return!e.length;var t=a(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!n(e).length;for(var r in e)if(d.call(e,r))return!1;return!0}},920:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,r;return(null===(t=e.schema)||void 0===t?void 0:t.authentication)&&(null===(r=e.schema)||void 0===r?void 0:r.endpoint)}},921:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(442),r(412);var n=r(423),a=r(422);r(410),r(414),r(411);var i=r(413),o=r(495),s=r(476),c=r(527),u=r(526);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){a._defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p,f=function(e){if(!e)return{};try{var t=new URL(e);return{scheme:t.protocol.replace(/:$/,""),host:t.hostname,port:t.port,path:t.pathname}}catch(e){return console.log(e),{}}},m=function(e){return e.url?f(e.url):e},h=(p=o._asyncToGenerator(o._regeneratorRuntime.mark((function e(t,r){var a,l,p,f,h,y,g,v,b,S,E,T,w,_,x,O,M,C,B,A,k,N,z,P,j,I,L,R=arguments;return o._regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=R.length>2&&void 0!==R[2]?R[2]:[],e.prev=1,h=r.find((function(e){return e.name===t.source_type})).id,e.next=5,i.getSourcesApi().createSource(d({},t.source,{source_type_id:h}));case 5:return l=e.sent,y=[],t.endpoint?(g=m(t),v=g.scheme,b=g.host,S=g.port,E=g.path,T=parseInt(S,10),w=d({},t.endpoint,{default:!0,source_id:l.id,scheme:v,host:b,port:isNaN(T)?void 0:T,path:E}),y.push(i.getSourcesApi().createEndpoint(w))):y.push(Promise.resolve(void 0)),t.application&&t.application.application_type_id?(_=d({},t.application,{source_id:l.id}),y.push(i.getSourcesApi().createApplication(_))):y.push(Promise.resolve(void 0)),e.next=11,Promise.all(y);case 11:if(x=e.sent,O=n._slicedToArray(x,2),M=O[0],C=O[1],!(M||t.authentication&&(null===(p=C)||void 0===p?void 0:p.id))){e.next=20;break}return k=d({},t.authentication,{resource_id:(null==M?void 0:M.id)||(null===(A=C)||void 0===A?void 0:A.id),resource_type:(null==M?void 0:M.id)?"Endpoint":"Application"}),e.next=19,i.getSourcesApi().createAuthentication(k);case 19:B=e.sent;case 20:return N=[],t.credentials||t.billing_source?(z=t.credentials,P=t.billing_source,j={},j=z?{authentication:{credentials:z}}:{},j=P?d({},j,{billing_source:P}):j,N.push(c.patchSource(d({id:l.id},j)))):y.push(Promise.resolve(void 0)),B&&C?(I={application_id:C.id,authentication_id:B.id},N.push(i.getSourcesApi().createAuthApp(I))):y.push(Promise.resolve(void 0)),e.next=25,Promise.all(N);case 25:if((null===(f=l)||void 0===f?void 0:f.id)&&i.getSourcesApi().checkAvailabilitySource(l.id),!C){e.next=31;break}return L=a.includes(C.application_type_id)?1e4:0,e.next=30,u.checkAppAvailability(C.id,L);case 30:C=e.sent;case 31:return e.abrupt("return",d({},l,{endpoint:[M],applications:[C]}));case 34:return e.prev=34,e.t0=e.catch(1),e.next=38,s.handleError(e.t0,l?l.id:void 0);case 38:throw e.sent;case 40:case"end":return e.stop()}}),e,null,[[1,34]])}))),function(e,t){return p.apply(this,arguments)});t.doCreateSource=h,t.handleErrorWrapper=function(e){return t=o._asyncToGenerator(o._regeneratorRuntime.mark((function t(r){return o._regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.handleError(r,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)};var t},t.parseUrl=f,t.urlOrHost=m},928:function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0}),r(442);var a=r(571),i=r(412),o=r(423),s=r(422),c=r(0),u=n(c),l=r(127),d=n(r(12)),p=n(r(585)),f=r(207),m=r(581);r(467),r(406),r(405),r(493),r(449),r(472),r(443),r(209),r(426),r(427),r(218),r(410),r(421),r(444),r(428);var h=r(208),y=r(445);r(446),r(404),r(414);var g=r(411),v=r(413);r(456),r(518),r(229),r(230),r(409),r(418),r(419),r(212),r(521),r(408),r(520),r(436),r(522),r(523),r(495),r(529);var b=r(574);r(476),r(221),r(440),r(474),r(424),r(451),r(416),r(211);var S=r(575),E=r(577),T=r(920),w=r(97);r(430),r(233);var _=r(579);r(234);var x=r(576);r(488);var O=r(580);r(527),r(526);var M=r(921);r(457),r(213);var C=r(578);function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var A={schema:{},sourceTypes:[],isLoading:!0},k=function(e,t){var r=t.type,n=t.sourceTypes,a=t.applicationTypes,i=t.container,o=t.disableAppSelection,c=t.intl;switch(r){case"loaded":return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){s._defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{schema:b.default(n.filter(T.default),a.filter(E.default),o,i,c),isLoading:!1,sourceTypes:n})}},N=function(e){var t=e.sourceTypes,r=e.applicationTypes,n=e.disableAppSelection,i=e.isCancelling,s=e.onCancel,l=e.values,d=e.onSubmit,p=c.useReducer(k,A),h=o._slicedToArray(p,2),g=h[0],b=g.schema,E=g.sourceTypes,T=g.isLoading,w=h[1],_=c.useRef(!1),x=c.useRef(document.createElement("div")),O=f.useIntl();return c.useEffect((function(){_.current=!0;var e=[];return t||e.push(v.doLoadSourceTypes()),r||e.push(v.doLoadApplicationTypes()),Promise.all(e).then((function(e){var a=e.find((function(e){return e.hasOwnProperty("sourceTypes")})),i=e.find((function(e){return e.hasOwnProperty("applicationTypes")}));_.current&&w({type:"loaded",sourceTypes:t||a.sourceTypes,applicationTypes:r||i.applicationTypes,disableAppSelection:n,container:x.current,intl:O})})),function(){_.current=!1}}),[]),c.useEffect((function(){x.current.hidden=i}),[i]),T?u.createElement(m.Wizard,{isOpen:!0,onClose:s,title:y.WIZARD_TITLE,description:y.WIZARD_DESCRIPTION,steps:[{name:"Loading",component:u.createElement(S.default,{onClose:function(){return s()}}),isFinishedStep:!0}]}):u.createElement(a.SourcesFormRenderer,{initialValues:l,schema:b,onSubmit:function(e){return d(e,E)},onCancel:s})};N.propTypes={onCancel:d.func.isRequired,onSubmit:d.func.isRequired,sourceTypes:d.arrayOf(d.shape({id:d.string.isRequired,name:d.string.isRequired,product_name:d.string.isRequired,schema:d.shape({authentication:d.array,endpoint:d.object})})),applicationTypes:d.arrayOf(d.shape({id:d.string.isRequired,name:d.string.isRequired,display_name:d.string.isRequired})),values:d.object,disableAppSelection:d.bool,isCancelling:d.bool},N.defaultProps={values:{},disableAppSelection:!1};var z=function(e){var t,r=e.afterSubmit,n=e.afterError,a=e.isFinished,i=e.isErrored,s=e.successfulMessage,d=e.hideSourcesButton,p=e.returnButtonTitle,g=e.reset,b=e.createdSource,E=void 0===b?{}:b,T=e.tryAgain,M=e.afterSuccess,C=c.useState(),B=o._slicedToArray(C,2),A=B[0],k=B[1],N=c.useState(),z=o._slicedToArray(N,2),P=z[0],j=z[1],I=f.useIntl();if(P)t=u.createElement(_.default,{onClose:r,title:I.formatMessage({id:"wizard.removeSourceSuccessTitle",defaultMessage:"Removing successful"}),successfulMessage:I.formatMessage({id:"wizard.removeSourceSuccessDescription",defaultMessage:"Source was successfully removed."}),hideSourcesButton:d,returnButtonTitle:p,secondaryActions:u.createElement(l.Button,{variant:"link",onClick:g},I.formatMessage({id:"wizard.addAnotherSource",defaultMessage:"Add another source"}))});else if(A)t=u.createElement(S.default,{customText:I.formatMessage({id:"wizard.removingSource",defaultMessage:"Removing source"})});else if(a){var L,R;if("available"===(null===(L=E.applications[0])||void 0===L?void 0:L.availability_status))t=u.createElement(_.default,{onClose:r,successfulMessage:s,hideSourcesButton:d,returnButtonTitle:p,secondaryActions:u.createElement(l.Button,{variant:"link",onClick:g},I.formatMessage({id:"wizard.addAnotherSource",defaultMessage:"Add another source"}))});else if("unavailable"===(null===(R=E.applications[0])||void 0===R?void 0:R.availability_status)){var D;t=u.createElement(x.default,{onClose:r,secondaryActions:u.createElement(l.Button,{variant:"link",onClick:function(){return k(!0),v.getSourcesApi().removeSource(E.id).then((function(){M&&M(),j(!0)})).catch((function(){return k(!1)}))}},I.formatMessage({id:"wizard.removeSource",defaultMessage:"Remove source"})),Component:function(){return u.createElement(w.Link,{to:"/sources/edit/".concat(E.id)},u.createElement(l.Button,{variant:"primary",className:"pf-u-mt-xl"},I.formatMessage({id:"wizard.editSource",defaultMessage:"Edit source"})))},message:(null===(D=E.applications[0])||void 0===D?void 0:D.availability_status_error)||I.formatMessage({id:"wizard.unknownError",defaultMessage:"Unknown error"}),title:I.formatMessage({id:"wizard.configurationUnsuccessful",defaultMessage:"Configuration unsuccessful"})})}else t=E.applications[0]?u.createElement(O.default,{onClose:r,returnButtonTitle:p,secondaryActions:u.createElement(l.Button,{variant:"link",onClick:g},I.formatMessage({id:"wizard.addAnotherSource",defaultMessage:"Add another source"}))}):u.createElement(_.default,{onClose:r,successfulMessage:s,hideSourcesButton:d,returnButtonTitle:p,secondaryActions:u.createElement(l.Button,{variant:"link",onClick:g},I.formatMessage({id:"wizard.addAnotherSource",defaultMessage:"Add another source"}))})}else t=i?u.createElement(x.default,{onClose:n,primaryAction:T,secondaryActions:u.createElement(h.Text,{component:"a",target:"_blank",href:"https://access.redhat.com/support/cases/#/case/new/open-case?caseCreate=true",rel:"noopener noreferrer"},I.formatMessage({id:"wizard.openTicket",defaultMessage:"Open a support case"})),returnButtonTitle:I.formatMessage({id:"wizard.retryText",defaultMessage:"Retry"})}):u.createElement(S.default,{customText:I.formatMessage({id:"wizard.loadingText",defaultMessage:"Validating source credentials"}),onClose:n,cancelTitle:I.formatMessage({id:"wizard.close",defaultMessage:"Close"})});return u.createElement(m.Wizard,{isOpen:!0,onClose:a?r:n,title:y.WIZARD_TITLE,description:y.WIZARD_DESCRIPTION,steps:[{name:"Finish",component:t,isFinishedStep:!0}]})};function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){s._defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}z.propTypes={afterSubmit:d.func.isRequired,afterError:d.func.isRequired,isFinished:d.bool.isRequired,isErrored:d.bool.isRequired,successfulMessage:d.node.isRequired,hideSourcesButton:d.bool,returnButtonTitle:d.node.isRequired,errorMessage:d.node,reset:d.func,createdSource:d.object,tryAgain:d.func,afterSuccess:d.func};var I=function(e){return{isSubmitted:!1,isFinished:!1,isErrored:!1,isCancelling:!1,values:e,createdSource:{},error:void 0}},L=function(e,t){var r=t.type,n=t.values,a=t.data,i=t.error,o=t.initialValues,s=t.sourceTypes;switch(r){case"reset":return I(o);case"prepareSubmitState":return j({},e,{isFinished:!1,isErrored:!1,error:void 0,isSubmitted:!0,values:n,sourceTypes:s});case"setSubmitted":return j({},e,{isFinished:!0,createdSource:a});case"setErrored":return j({},e,{isErrored:!0,error:i.toString()});case"onStay":return j({},e,{isCancelling:!1});case"showCancelModal":return j({},e,{isCancelling:!0,values:n})}},R=function(e){var t=e.successfulMessage,r=e.isOpen,n=e.sourceTypes,a=e.applicationTypes,s=e.disableAppSelection,l=e.hideSourcesButton,d=e.returnButtonTitle,f=e.initialValues,m=e.onClose,h=e.afterSuccess,y=c.useReducer(L,I(f)),v=o._slicedToArray(y,2),b=v[0],S=b.isErrored,E=b.isFinished,T=b.isSubmitted,w=b.values,_=b.error,x=b.isCancelling,O=b.createdSource,B=i._objectWithoutProperties(b,["isErrored","isFinished","isSubmitted","values","error","isCancelling","createdSource"]),A=v[1],k=function(e,t){return A({type:"prepareSubmitState",values:e,sourceTypes:t}),M.doCreateSource(e,t,g.timeoutedApps(a)).then((function(e){h&&h(e),A({type:"setSubmitted",data:e})})).catch((function(e){A({type:"setErrored",error:e})}))};return r?T?u.createElement(z,{afterSubmit:function(){m(void 0,O),A({type:"reset",initialValues:f})},afterError:function(){return m({})},isFinished:E,isErrored:S,successfulMessage:t,hideSourcesButton:l,returnButtonTitle:d,errorMessage:_,reset:function(){return A({type:"reset",initialValues:f})},createdSource:O,tryAgain:function(){return k(w,B.sourceTypes)},afterSuccess:h}):u.createElement(u.Fragment,null,u.createElement(C.default,{isOpen:x,onExit:function(){return m(w)},onStay:function(){return A({type:"onStay"})}}),u.createElement(N,{isCancelling:x,values:w,onSubmit:k,onCancel:function(e){return p(e)?m({}):A({type:"showCancelModal",values:e})},sourceTypes:n,applicationTypes:a,disableAppSelection:s})):null};R.propTypes={afterSuccess:d.func,sourceTypes:d.arrayOf(d.shape({id:d.string.isRequired,name:d.string.isRequired,product_name:d.string.isRequired,schema:d.shape({authentication:d.array,endpoint:d.object})})),applicationTypes:d.arrayOf(d.shape({id:d.string.isRequired,name:d.string.isRequired,display_name:d.string.isRequired})),onClose:d.func.isRequired,isOpen:d.bool.isRequired,successfulMessage:d.node,initialValues:d.shape(s._defineProperty({},d.string,d.oneOf([d.string,d.array,d.number,d.bool]))),disableAppSelection:d.bool,hideSourcesButton:d.bool,returnButtonTitle:d.node},R.defaultProps={successfulMessage:u.createElement(f.FormattedMessage,{id:"wizard.successfulMessage",defaultMessage:"Your source was successfully added."}),initialValues:{},returnButtonTitle:u.createElement(f.FormattedMessage,{id:"wizard.goBackToSources",defaultMessage:"Go back to Sources"})};t.AddSourceButton=function(e){var t=c.useState(!1),r=o._slicedToArray(t,2),n=r[0],i=r[1];return u.createElement(u.Fragment,null,u.createElement(l.Button,{variant:"primary",onClick:function(){return i(!0)}},y.WIZARD_TITLE),u.createElement(R,a._extends({isOpen:n,onClose:function(){return i(!1)}},e)))},t.AddSourceWizard=R}}]);
//# sourceMappingURL=../sourcemaps/vendors~addSource.js.map