(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["vendors~addSource"],{

/***/ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/addSourceWizard.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/addSourceWizard.js ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(/*! ./_commonjsHelpers-32c5d30b.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/_commonjsHelpers-32c5d30b.js");var e=__webpack_require__(/*! ./CardSelect-2c5c74d8.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/CardSelect-2c5c74d8.js"),r=__webpack_require__(/*! ./objectWithoutProperties-9e2b4e81.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/objectWithoutProperties-9e2b4e81.js"),t=__webpack_require__(/*! ./slicedToArray-a77d6bb6.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/slicedToArray-a77d6bb6.js"),s=__webpack_require__(/*! ./defineProperty-cf06dcaa.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/defineProperty-cf06dcaa.js"),i=__webpack_require__(/*! react */ "./node_modules/react/index.js"),n=_interopDefault(i),o=__webpack_require__(/*! @patternfly/react-core/dist/js/components/Button/Button.js */ "./node_modules/@patternfly/react-core/dist/js/components/Button/Button.js"),a=_interopDefault(__webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js")),c=_interopDefault(__webpack_require__(/*! lodash/isEmpty */ "./node_modules/lodash/isEmpty.js")),u=__webpack_require__(/*! react-intl */ "./node_modules/react-intl/lib/index.js"),d=__webpack_require__(/*! @patternfly/react-core/dist/js/components/Wizard/Wizard.js */ "./node_modules/@patternfly/react-core/dist/js/components/Wizard/Wizard.js");__webpack_require__(/*! @data-driven-forms/react-form-renderer/dist/cjs/form-renderer */ "./node_modules/@data-driven-forms/react-form-renderer/dist/cjs/form-renderer.js"),__webpack_require__(/*! @data-driven-forms/react-form-renderer/dist/cjs/component-types */ "./node_modules/@data-driven-forms/react-form-renderer/dist/cjs/component-types.js"),__webpack_require__(/*! @data-driven-forms/react-form-renderer/dist/cjs/validator-types */ "./node_modules/@data-driven-forms/react-form-renderer/dist/cjs/validator-types.js"),__webpack_require__(/*! @data-driven-forms/react-form-renderer/dist/cjs/validator-mapper */ "./node_modules/@data-driven-forms/react-form-renderer/dist/cjs/validator-mapper.js"),__webpack_require__(/*! @data-driven-forms/pf4-component-mapper/dist/cjs/form-template */ "./node_modules/@data-driven-forms/pf4-component-mapper/dist/cjs/form-template.js"),__webpack_require__(/*! @data-driven-forms/pf4-component-mapper/dist/cjs/component-mapper */ "./node_modules/@data-driven-forms/pf4-component-mapper/dist/cjs/component-mapper.js"),__webpack_require__(/*! ./toConsumableArray-b90a35b5.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/toConsumableArray-b90a35b5.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/Alert/Alert.js */ "./node_modules/@patternfly/react-core/dist/js/components/Alert/Alert.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/DescriptionList/DescriptionListGroup.js */ "./node_modules/@patternfly/react-core/dist/js/components/DescriptionList/DescriptionListGroup.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/DescriptionList/DescriptionListTerm.js */ "./node_modules/@patternfly/react-core/dist/js/components/DescriptionList/DescriptionListTerm.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/DescriptionList/DescriptionListDescription.js */ "./node_modules/@patternfly/react-core/dist/js/components/DescriptionList/DescriptionListDescription.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/DescriptionList/DescriptionList.js */ "./node_modules/@patternfly/react-core/dist/js/components/DescriptionList/DescriptionList.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/Label/Label.js */ "./node_modules/@patternfly/react-core/dist/js/components/Label/Label.js"),__webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/Form/FormHelperText.js */ "./node_modules/@patternfly/react-core/dist/js/components/Form/FormHelperText.js"),__webpack_require__(/*! @patternfly/react-icons/dist/js/icons/question-circle-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/question-circle-icon.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/Popover/Popover.js */ "./node_modules/@patternfly/react-core/dist/js/components/Popover/Popover.js");var l=__webpack_require__(/*! @patternfly/react-core/dist/js/components/Text/Text.js */ "./node_modules/@patternfly/react-core/dist/js/components/Text/Text.js");__webpack_require__(/*! @patternfly/react-core/dist/js/components/Text/TextContent.js */ "./node_modules/@patternfly/react-core/dist/js/components/Text/TextContent.js"),__webpack_require__(/*! ./hardcodedSchemas.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/hardcodedSchemas.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/Text/TextList.js */ "./node_modules/@patternfly/react-core/dist/js/components/Text/TextList.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/Text/TextListItem.js */ "./node_modules/@patternfly/react-core/dist/js/components/Text/TextListItem.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/ClipboardCopy/ClipboardCopy.js */ "./node_modules/@patternfly/react-core/dist/js/components/ClipboardCopy/ClipboardCopy.js");var p=__webpack_require__(/*! ./stringConstants-ac30ec98.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/stringConstants-ac30ec98.js");__webpack_require__(/*! @data-driven-forms/react-form-renderer/dist/cjs/use-form-api */ "./node_modules/@data-driven-forms/react-form-renderer/dist/cjs/use-form-api.js"),__webpack_require__(/*! @redhat-cloud-services/frontend-components-utilities/files/cjs/interceptors */ "./node_modules/@redhat-cloud-services/frontend-components-utilities/files/cjs/interceptors.js");var f=__webpack_require__(/*! ./constants.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/constants.js"),m=__webpack_require__(/*! ./index-1eff31c6.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/index-1eff31c6.js");__webpack_require__(/*! @patternfly/react-core/dist/js/components/Hint/Hint.js */ "./node_modules/@patternfly/react-core/dist/js/components/Hint/Hint.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/Hint/HintTitle.js */ "./node_modules/@patternfly/react-core/dist/js/components/Hint/HintTitle.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/Hint/HintBody.js */ "./node_modules/@patternfly/react-core/dist/js/components/Hint/HintBody.js"),__webpack_require__(/*! ./schemaBuilder-49d81cb7.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/schemaBuilder-49d81cb7.js"),__webpack_require__(/*! ./SourceWizardSummary.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/SourceWizardSummary.js");var y=__webpack_require__(/*! ./sourceFormRenderer.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/sourceFormRenderer.js");__webpack_require__(/*! @patternfly/react-core/dist/js/components/Form/FormGroup.js */ "./node_modules/@patternfly/react-core/dist/js/components/Form/FormGroup.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/layouts/Grid/Grid.js */ "./node_modules/@patternfly/react-core/dist/js/layouts/Grid/Grid.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/layouts/Grid/GridItem.js */ "./node_modules/@patternfly/react-core/dist/js/layouts/Grid/GridItem.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/Tile/Tile.js */ "./node_modules/@patternfly/react-core/dist/js/components/Tile/Tile.js"),__webpack_require__(/*! @data-driven-forms/react-form-renderer/dist/cjs/use-field-api */ "./node_modules/@data-driven-forms/react-form-renderer/dist/cjs/use-field-api.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/Radio/Radio.js */ "./node_modules/@patternfly/react-core/dist/js/components/Radio/Radio.js"),__webpack_require__(/*! ./AuthSelect.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/AuthSelect.js"),__webpack_require__(/*! @data-driven-forms/pf4-component-mapper/dist/cjs/radio */ "./node_modules/@data-driven-forms/pf4-component-mapper/dist/cjs/radio.js"),__webpack_require__(/*! ./asyncToGenerator-a32dc547.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/asyncToGenerator-a32dc547.js"),__webpack_require__(/*! awesome-debounce-promise */ "./node_modules/awesome-debounce-promise/dist/index.es.js");var j=__webpack_require__(/*! ./SourceAddSchema.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/SourceAddSchema.js");__webpack_require__(/*! ./handleError.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/handleError.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/Spinner/Spinner.js */ "./node_modules/@patternfly/react-core/dist/js/components/Spinner/Spinner.js"),__webpack_require__(/*! @data-driven-forms/react-form-renderer/dist/cjs/form-spy */ "./node_modules/@data-driven-forms/react-form-renderer/dist/cjs/form-spy.js"),__webpack_require__(/*! ./validated.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/validated.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/layouts/Flex/Flex.js */ "./node_modules/@patternfly/react-core/dist/js/layouts/Flex/Flex.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/layouts/Flex/FlexItem.js */ "./node_modules/@patternfly/react-core/dist/js/layouts/Flex/FlexItem.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/layouts/Stack/Stack.js */ "./node_modules/@patternfly/react-core/dist/js/layouts/Stack/Stack.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/layouts/Stack/StackItem.js */ "./node_modules/@patternfly/react-core/dist/js/layouts/Stack/StackItem.js"),__webpack_require__(/*! @patternfly/react-icons/dist/js/icons/check-circle-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/check-circle-icon.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/EmptyState/EmptyState.js */ "./node_modules/@patternfly/react-core/dist/js/components/EmptyState/EmptyState.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/EmptyState/EmptyStateSecondaryActions.js */ "./node_modules/@patternfly/react-core/dist/js/components/EmptyState/EmptyStateSecondaryActions.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/layouts/Bullseye/Bullseye.js */ "./node_modules/@patternfly/react-core/dist/js/layouts/Bullseye/Bullseye.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/EmptyState/EmptyStateIcon.js */ "./node_modules/@patternfly/react-core/dist/js/components/EmptyState/EmptyStateIcon.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/Title/Title.js */ "./node_modules/@patternfly/react-core/dist/js/components/Title/Title.js"),__webpack_require__(/*! @patternfly/react-core/dist/js/components/EmptyState/EmptyStateBody.js */ "./node_modules/@patternfly/react-core/dist/js/components/EmptyState/EmptyStateBody.js");var S=__webpack_require__(/*! ./LoadingStep.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/LoadingStep.js"),g=__webpack_require__(/*! ./filterApps.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/filterApps.js"),q=__webpack_require__(/*! ./filterTypes.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/filterTypes.js"),b=__webpack_require__(/*! ./FinishedStep-bc126f18.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/FinishedStep-bc126f18.js");__webpack_require__(/*! @patternfly/react-icons/dist/js/icons/exclamation-circle-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/exclamation-circle-icon.js");var T=__webpack_require__(/*! ./ErroredStep.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/ErroredStep.js");__webpack_require__(/*! @patternfly/react-icons/dist/js/icons/wrench-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/wrench-icon.js");var v=__webpack_require__(/*! ./TimeoutStep.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/TimeoutStep.js"),h=__webpack_require__(/*! ./AmazonFinishedStep.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/AmazonFinishedStep.js"),E=__webpack_require__(/*! ./computeSourceStatus.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/computeSourceStatus.js"),O=__webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/esm/react-router-dom.js");__webpack_require__(/*! ./getApplicationStatus.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/getApplicationStatus.js");var C=__webpack_require__(/*! ./createSource.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/createSource.js");__webpack_require__(/*! @patternfly/react-core/dist/js/components/Modal/Modal.js */ "./node_modules/@patternfly/react-core/dist/js/components/Modal/Modal.js"),__webpack_require__(/*! @patternfly/react-icons/dist/js/icons/exclamation-triangle-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/exclamation-triangle-icon.js");var A=__webpack_require__(/*! ./CloseModal.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/CloseModal.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,s)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){s._defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var w={schema:{},sourceTypes:[],isLoading:!0},M=function reducer(e,r){var t=r.type,s=r.sourceTypes,i=r.applicationTypes,n=r.container,o=r.disableAppSelection,a=r.intl,c=r.selectedType;switch(t){case"loaded":return _objectSpread({},e,{schema:j.default(s.filter(q.default).filter(q.filterVendorTypes),i.filter(g.default).filter(g.filterVendorAppTypes(s)),o,n,a,c),isLoading:!1,sourceTypes:s})}},_=function SourceAddModal(e){var r=e.sourceTypes,s=e.applicationTypes,o=e.disableAppSelection,a=e.isCancelling,c=e.onCancel,l=e.values,f=e.onSubmit,j=e.selectedType,g=i.useReducer(M,w),q=t._slicedToArray(g,2),b=q[0],T=b.schema,v=b.sourceTypes,h=b.isLoading,E=q[1],O=i.useRef(!1),C=i.useRef(document.createElement("div")),A=u.useIntl();return i.useEffect((function(){O.current=!0;var e=[];return r||e.push(m.doLoadSourceTypes()),s||e.push(m.doLoadApplicationTypes()),Promise.all(e).then((function(e){var t=e.find((function(e){return e.hasOwnProperty("sourceTypes")})),i=e.find((function(e){return e.hasOwnProperty("applicationTypes")}));O.current&&E({type:"loaded",sourceTypes:r||t.sourceTypes,applicationTypes:s||i.applicationTypes,disableAppSelection:o,container:C.current,intl:A,selectedType:j})})),function(){O.current=!1}}),[]),i.useEffect((function(){C.current.hidden=a}),[a]),h?n.createElement(d.Wizard,{isOpen:!0,onClose:c,title:p.WIZARD_TITLE(),description:p.WIZARD_DESCRIPTION(),steps:[{name:"Loading",component:n.createElement(S.default,{onClose:function onClose(){return c()}}),isFinishedStep:!0}]}):n.createElement(y.default,{initialValues:_objectSpread({},l,{},j&&{source_type:j}),schema:T,onSubmit:function onSubmit(e){return f(e,v)},onCancel:c})};_.propTypes={onCancel:a.func.isRequired,onSubmit:a.func.isRequired,sourceTypes:a.arrayOf(a.shape({id:a.string.isRequired,name:a.string.isRequired,product_name:a.string.isRequired,schema:a.shape({authentication:a.array,endpoint:a.object})})),applicationTypes:a.arrayOf(a.shape({id:a.string.isRequired,name:a.string.isRequired,display_name:a.string.isRequired})),values:a.object,disableAppSelection:a.bool,isCancelling:a.bool,selectedType:a.string},_.defaultProps={values:{},disableAppSelection:!1};var R=function EditLink(e){var r=e.id,t=u.useIntl().formatMessage({id:"wizard.editSource",defaultMessage:"Edit source"});return"sources"===insights.chrome.getApp()?n.createElement(O.Link,{to:"/sources/detail/".concat(r)},n.createElement(o.Button,{variant:"primary",className:"pf-u-mt-xl"},t)):n.createElement(o.Button,{variant:"primary",className:"pf-u-mt-xl",component:"a",target:"_blank",href:"".concat(b.computeSourcesUrl(),"/detail/").concat(r),rel:"noopener noreferrer"},t)};R.propTypes={id:a.string.isRequired};var B=function FinalWizard(e){var r,s,a,c,f,y,j=e.afterSubmit,g=e.afterError,q=e.isFinished,O=e.isErrored,C=e.successfulMessage,A=e.hideSourcesButton,w=e.returnButtonTitle,M=e.reset,_=e.createdSource,B=void 0===_?{}:_,P=e.tryAgain,x=e.afterSuccess,D=e.sourceTypes,F=i.useState(),k=t._slicedToArray(F,2),z=k[0],L=k[1],I=i.useState(),W=t._slicedToArray(I,2),V=W[0],$=W[1],G=u.useIntl(),H=n.createElement(o.Button,{variant:"link",onClick:M},G.formatMessage({id:"wizard.addAnotherSource",defaultMessage:"Add another source"}));if(V)y=n.createElement(b.FinishedStep,{onClose:j,title:G.formatMessage({id:"wizard.removeSourceSuccessTitle",defaultMessage:"Removing successful"}),successfulMessage:G.formatMessage({id:"wizard.removeSourceSuccessDescription",defaultMessage:"Source was successfully removed."}),hideSourcesButton:A,returnButtonTitle:w,secondaryActions:H});else if(z)y=n.createElement(S.default,{customText:G.formatMessage({id:"wizard.removingSource",defaultMessage:"Removing source"})});else if(q)switch(E.default(B)){case"unavailable":y=n.createElement(T.default,{onClose:j,secondaryActions:n.createElement(o.Button,{variant:"link",onClick:function removeSource(){return L(!0),m.getSourcesApi().removeSource(B.id).then((function(){x&&x(),$(!0)})).catch((function(){return L(!1)}))}},G.formatMessage({id:"wizard.removeSource",defaultMessage:"Remove source"})),Component:function Component(){return n.createElement(R,{id:B.id})},message:(null===(r=B.applications)||void 0===r||null===(s=r[0])||void 0===s?void 0:s.availability_status_error)||(null===(a=B.endpoint)||void 0===a||null===(c=a[0])||void 0===c?void 0:c.availability_status_error)||G.formatMessage({id:"wizard.unknownError",defaultMessage:"Unknown error"}),title:G.formatMessage({id:"wizard.configurationUnsuccessful",defaultMessage:"Configuration unsuccessful"})});break;case"timeout":y=n.createElement(v.default,{onClose:j,returnButtonTitle:w,secondaryActions:H});break;default:y=B.source_type_id===(null===(f=D.find((function(e){return"amazon"===e.name})))||void 0===f?void 0:f.id)?n.createElement(h.default,{onClose:j}):n.createElement(b.FinishedStep,{onClose:j,successfulMessage:C,hideSourcesButton:A,returnButtonTitle:w,secondaryActions:H})}else y=O?n.createElement(T.default,{onClose:g,primaryAction:P,secondaryActions:n.createElement(l.Text,{component:"a",target:"_blank",href:"https://access.redhat.com/support/cases/#/case/new/open-case?caseCreate=true",rel:"noopener noreferrer"},G.formatMessage({id:"wizard.openTicket",defaultMessage:"Open a support case"})),returnButtonTitle:G.formatMessage({id:"wizard.retryText",defaultMessage:"Retry"})}):n.createElement(S.default,{customText:G.formatMessage({id:"wizard.loadingText",defaultMessage:"Validating credentials"}),description:G.formatMessage({id:"wizard.loadingDescription",defaultMessage:"This could take a minute. If you prefer not to wait, close this dialog and the process will continue."}),onClose:g,cancelTitle:G.formatMessage({id:"wizard.close",defaultMessage:"Close"})});return n.createElement(d.Wizard,{isOpen:!0,onClose:q?j:g,title:p.WIZARD_TITLE(),description:p.WIZARD_DESCRIPTION(),steps:[{name:"Finish",component:y,isFinishedStep:!0}]})};function ownKeys$1(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,s)}return t}function _objectSpread$1(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys$1(Object(t),!0).forEach((function(r){s._defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys$1(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}B.propTypes={afterSubmit:a.func.isRequired,afterError:a.func.isRequired,isFinished:a.bool.isRequired,isErrored:a.bool.isRequired,successfulMessage:a.node.isRequired,hideSourcesButton:a.bool,returnButtonTitle:a.node.isRequired,errorMessage:a.node,reset:a.func,createdSource:a.object,tryAgain:a.func,afterSuccess:a.func,sourceTypes:a.arrayOf(a.shape({id:a.string.isRequired,name:a.string.isRequired}))};var P=function prepareInitialValues(e){return{isSubmitted:!1,isFinished:!1,isErrored:!1,isCancelling:!1,values:e,createdSource:{},error:void 0}},x=function reducer(e,r){var t=r.type,s=r.values,i=r.data,n=r.error,o=r.initialValues,a=r.sourceTypes;switch(t){case"reset":return P(o);case"prepareSubmitState":return _objectSpread$1({},e,{isFinished:!1,isErrored:!1,error:void 0,isSubmitted:!0,values:s,sourceTypes:a});case"setSubmitted":return _objectSpread$1({},e,{isFinished:!0,createdSource:i});case"setErrored":return _objectSpread$1({},e,{isErrored:!0,error:n.toString()});case"onStay":return _objectSpread$1({},e,{isCancelling:!1});case"showCancelModal":return _objectSpread$1({},e,{isCancelling:!0,values:s})}},D=function AddSourceWizard(e){var s=e.successfulMessage,o=e.isOpen,a=e.sourceTypes,u=e.applicationTypes,d=e.disableAppSelection,l=e.hideSourcesButton,p=e.returnButtonTitle,m=e.initialValues,y=e.onClose,j=e.afterSuccess,S=e.selectedType,g=i.useReducer(x,P(m)),q=t._slicedToArray(g,2),b=q[0],T=b.isErrored,v=b.isFinished,h=b.isSubmitted,E=b.values,O=b.error,w=b.isCancelling,M=b.createdSource,R=r._objectWithoutProperties(b,["isErrored","isFinished","isSubmitted","values","error","isCancelling","createdSource"]),D=q[1],F=function onSubmit(e,r){return D({type:"prepareSubmitState",values:e,sourceTypes:r}),C.doCreateSource(e,r,f.timeoutedApps(u)).then((function(e){j&&j(e),D({type:"setSubmitted",data:e})})).catch((function(e){D({type:"setErrored",error:e})}))};return o?h?n.createElement(B,{afterSubmit:function afterSubmit(){y(void 0,M),D({type:"reset",initialValues:m})},afterError:function afterError(){return y({})},isFinished:v,isErrored:T,successfulMessage:s,hideSourcesButton:l,returnButtonTitle:p,errorMessage:O,reset:function reset(){return D({type:"reset",initialValues:m})},createdSource:M,tryAgain:function tryAgain(){return F(E,R.sourceTypes)},afterSuccess:j,sourceTypes:R.sourceTypes}):n.createElement(n.Fragment,null,n.createElement(A.default,{isOpen:w,onExit:function onExit(){return y(E)},onStay:function onStay(){return D({type:"onStay"})}}),n.createElement(_,{isCancelling:w,values:E,onSubmit:F,onCancel:function onCancelBeforeExit(e){return c(e)?y({}):D({type:"showCancelModal",values:e})},sourceTypes:a,applicationTypes:u,disableAppSelection:d,selectedType:S})):null};D.propTypes={afterSuccess:a.func,sourceTypes:a.arrayOf(a.shape({id:a.string.isRequired,name:a.string.isRequired,product_name:a.string.isRequired,schema:a.shape({authentication:a.array,endpoint:a.object})})),applicationTypes:a.arrayOf(a.shape({id:a.string.isRequired,name:a.string.isRequired,display_name:a.string.isRequired})),onClose:a.func.isRequired,isOpen:a.bool.isRequired,successfulMessage:a.node,initialValues:a.shape(s._defineProperty({},a.string,a.oneOf([a.string,a.array,a.number,a.bool]))),disableAppSelection:a.bool,hideSourcesButton:a.bool,returnButtonTitle:a.node,selectedType:a.string},D.defaultProps={successfulMessage:n.createElement(u.FormattedMessage,{id:"wizard.successfulMessage",defaultMessage:"Your source was successfully added."}),initialValues:{},returnButtonTitle:n.createElement(u.FormattedMessage,{id:"wizard.goBackToSources",defaultMessage:"Go back to Sources"})};exports.AddSourceButton=function AddSourceButton(r){var s=i.useState(!1),a=t._slicedToArray(s,2),c=a[0],u=a[1];return n.createElement(n.Fragment,null,n.createElement(o.Button,{variant:"primary",onClick:function onClick(){return u(!0)}},p.WIZARD_TITLE()),n.createElement(D,e._extends({isOpen:c,onClose:function onClose(){return u(!1)}},r)))},exports.AddSourceWizard=D;


/***/ }),

/***/ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/createSource.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/createSource.js ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(/*! ./_commonjsHelpers-32c5d30b.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/_commonjsHelpers-32c5d30b.js");var e=__webpack_require__(/*! ./slicedToArray-a77d6bb6.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/slicedToArray-a77d6bb6.js"),r=__webpack_require__(/*! ./defineProperty-cf06dcaa.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/defineProperty-cf06dcaa.js");__webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js"),__webpack_require__(/*! @redhat-cloud-services/frontend-components-utilities/files/cjs/interceptors */ "./node_modules/@redhat-cloud-services/frontend-components-utilities/files/cjs/interceptors.js"),__webpack_require__(/*! ./constants.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/constants.js");var t=__webpack_require__(/*! ./index-1eff31c6.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/index-1eff31c6.js"),n=__webpack_require__(/*! ./asyncToGenerator-a32dc547.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/asyncToGenerator-a32dc547.js"),o=__webpack_require__(/*! ./handleError.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/handleError.js"),i=__webpack_require__(/*! ./getApplicationStatus.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/getApplicationStatus.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){r._defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var c=function parseUrl(e){if(!e)return{};try{var r=new URL(e);return{scheme:r.protocol.replace(/:$/,""),host:r.hostname,port:r.port,path:r.pathname}}catch(e){return console.log(e),{}}},a=function urlOrHost(e){return e.url?c(e.url):e},s=function(){var r=n._asyncToGenerator(n._regeneratorRuntime.mark((function _callee2(r,c){var s,p,u,d,l,h,f,v,_,b,y,j,g,m,x,O,A,S,w,P,k,q,E,R,T,D=arguments;return n._regeneratorRuntime.wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return s=D.length>2&&void 0!==D[2]?D[2]:[],n.prev=1,l=c.find((function(e){return e.name===r.source_type})).id,n.next=5,t.getSourcesApi().createSource(_objectSpread({},r.source,{source_type_id:l}));case 5:return p=n.sent,h=[],r.endpoint?(f=a(r),v=f.scheme,_=f.host,b=f.port,y=f.path,j=parseInt(b,10),g=_objectSpread({},r.endpoint,{default:!0,source_id:p.id,scheme:v,host:_,port:isNaN(j)?void 0:j,path:y}),h.push(t.getSourcesApi().createEndpoint(g))):h.push(Promise.resolve(void 0)),r.application&&r.application.application_type_id?(m=_objectSpread({},r.application,{source_id:p.id}),h.push(t.getSourcesApi().createApplication(m))):h.push(Promise.resolve(void 0)),n.next=11,Promise.all(h);case 11:if(x=n.sent,O=e._slicedToArray(x,2),A=O[0],S=O[1],!(A||r.authentication&&(null===(u=S)||void 0===u?void 0:u.id))){n.next=20;break}return E=_objectSpread({},r.authentication,{resource_id:(null===(P=A)||void 0===P?void 0:P.id)||(null===(k=S)||void 0===k?void 0:k.id),resource_type:(null===(q=A)||void 0===q?void 0:q.id)?"Endpoint":"Application",source_id:p.id}),n.next=19,t.getSourcesApi().createAuthentication(E);case 19:w=n.sent;case 20:if(!w||!S){n.next=24;break}return R={application_id:S.id,authentication_id:w.id},n.next=24,t.getSourcesApi().createAuthApp(R);case 24:if((null===(d=p)||void 0===d?void 0:d.id)&&t.getSourcesApi().checkAvailabilitySource(p.id),!S){n.next=30;break}return T=s.includes(S.application_type_id)?1e4:0,n.next=29,i.checkAppAvailability(S.id,T);case 29:S=n.sent;case 30:if(!A){n.next=34;break}return n.next=33,i.checkAppAvailability(A.id,void 0,void 0,"getEndpoint");case 33:A=n.sent;case 34:return n.abrupt("return",_objectSpread({},p,{endpoint:[A],applications:[S]}));case 37:return n.prev=37,n.t0=n.catch(1),n.next=41,o.handleError(n.t0,p?p.id:void 0);case 41:throw n.sent;case 43:case"end":return n.stop()}}),_callee2,null,[[1,37]])})));return function doCreateSource(e,t){return r.apply(this,arguments)}}();exports.doCreateSource=s,exports.handleErrorWrapper=function handleErrorWrapper(e){return function(){var r=n._asyncToGenerator(n._regeneratorRuntime.mark((function _callee(r){return n._regeneratorRuntime.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.handleError(r,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),_callee)})));return function(e){return r.apply(this,arguments)}}()},exports.parseUrl=c,exports.urlOrHost=a;


/***/ }),

/***/ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/filterTypes.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/filterTypes.js ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(/*! react */ "./node_modules/react/index.js"),__webpack_require__(/*! react-intl */ "./node_modules/react-intl/lib/index.js");var e=__webpack_require__(/*! ./stringConstants-ac30ec98.js */ "./node_modules/@redhat-cloud-services/frontend-components-sources/cjs/stringConstants-ac30ec98.js");exports.default=function filterTypes(e){var r,t;return(null===(r=e.schema)||void 0===r?void 0:r.authentication)&&(null===(t=e.schema)||void 0===t?void 0:t.endpoint)},exports.filterVendorTypes=function filterVendorTypes(r){var t=r.vendor;return e.getActiveVendor()===e.CLOUD_VENDOR?t!==e.REDHAT_VENDOR:t===e.REDHAT_VENDOR};


/***/ })

}]);
//# sourceMappingURL=../sourcemaps/vendors~addSource.js.map