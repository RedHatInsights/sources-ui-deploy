{"version":3,"file":"js/932.0f84bb5c4092f135aa57.js","mappings":"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","sources":["webpack:///./src/api/checkSourceStatus.js","webpack:///./src/api/getApplicationStatus.js","webpack:///./src/api/delay.js","webpack:///./src/components/CloseModal.js","webpack:///./src/components/steps/AmazonFinishedStep.js","webpack:///./src/components/steps/ErroredStep.js","webpack:///./src/components/steps/FinishedStep.js","webpack:///./src/components/steps/LoadingStep.js","webpack:///./src/components/steps/TimeoutStep.js","webpack:///./src/utilities/computeSourceError.js","webpack:///./src/utilities/computeSourceStatus.js","webpack:///./src/utilities/computeSourcesUrl.js","webpack:///./src/utilities/filterApps.js"],"sourcesContent":["import { getSourcesApi } from './entities';\n\nexport const checkSourceStatus = (id) =>\n  getSourcesApi()\n    .checkAvailabilitySource(id)\n    .catch(() => {});\n\nexport default checkSourceStatus;\n","import { getSourcesApi } from './entities';\nimport { delay } from './delay';\n\nexport const checkAppAvailability = (id, timeout = 10000, interval = 1000, entity = 'showApplication', updatedTime) =>\n  new Promise((res, rej) => {\n    const start = Date.now();\n\n    const checkSource = () =>\n      // eslint-disable-next-line prettier/prettier\n      getSourcesApi()[entity](id)\n        .then((data) => {\n          const isTimeOuted = Date.now() - start >= timeout;\n\n          if (isTimeOuted) {\n            if (updatedTime) {\n              return {\n                ...data,\n                availability_status: null,\n                availability_status_error: null,\n              };\n            }\n\n            return data;\n          }\n\n          if (data.availability_status === 'available' || data.availability_status === 'unavailable') {\n            if (updatedTime && new Date(data.last_checked_at || data.updated_at) > updatedTime) {\n              return data;\n            }\n\n            if (!updatedTime) {\n              return data;\n            }\n          }\n\n          return delay(interval).then(() => checkSource());\n        });\n\n    return checkSource()\n      .then((data) => res(data))\n      .catch((error) => rej(error));\n  });\n","export const delay = (interval, prms) => {\n  return new Promise((resolve) => {\n    setTimeout(resolve.bind(null, prms), interval);\n  });\n};\n","import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage, useIntl } from 'react-intl';\n\nimport { Button, Modal, Title } from '@patternfly/react-core';\n\nimport ExclamationTriangleIcon from '@patternfly/react-icons/dist/esm/icons/exclamation-triangle-icon';\n\nconst CloseModal = ({ onExit, onStay, title, exitTitle, stayTitle, description }) => {\n  const intl = useIntl();\n\n  const isMounted = useRef(false);\n\n  return (\n    <Modal\n      onEscapePress={(e) => {\n        isMounted.current ? onStay(e) : undefined;\n        isMounted.current = true;\n      }}\n      className=\"sources\"\n      variant=\"small\"\n      title={title}\n      aria-label={intl.formatMessage({ id: 'wizard.closeAriaLabel', defaultMessage: 'Close add source wizard' })}\n      header={\n        <Title headingLevel=\"h1\" size=\"2xl\">\n          <ExclamationTriangleIcon size=\"sm\" className=\"src-c-warning-icon\" aria-label=\"Exclamation icon\" />\n          {title}\n        </Title>\n      }\n      isOpen\n      onClose={onStay}\n      actions={[\n        <Button key=\"confirm\" variant=\"primary\" id=\"on-exit-button\" onClick={onExit}>\n          {exitTitle}\n        </Button>,\n        <Button key=\"cancel\" variant=\"link\" id=\"on-stay-button\" onClick={onStay}>\n          {stayTitle}\n        </Button>,\n      ]}\n    >\n      {description}\n    </Modal>\n  );\n};\n\nCloseModal.propTypes = {\n  onExit: PropTypes.func.isRequired,\n  onStay: PropTypes.func.isRequired,\n  title: PropTypes.node,\n  exitTitle: PropTypes.node,\n  stayTitle: PropTypes.node,\n  description: PropTypes.node,\n};\n\nCloseModal.defaultProps = {\n  title: <FormattedMessage id=\"wizard.closeTitle\" defaultMessage=\"Exit source creation?\" />,\n  exitTitle: <FormattedMessage id=\"wizard.exitText\" defaultMessage=\"Exit\" />,\n  stayTitle: <FormattedMessage id=\"wizard.stayText\" defaultMessage=\"Stay\" />,\n  description: <FormattedMessage id=\"wizard.closeWarning\" defaultMessage=\"All inputs will be discarded.\" />,\n};\n\nexport default CloseModal;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { useIntl } from 'react-intl';\n\nimport {\n  Alert,\n  Bullseye,\n  Button,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStateSecondaryActions,\n  EmptyStateVariant,\n  Grid,\n  GridItem,\n  Text,\n  Title,\n} from '@patternfly/react-core';\n\nimport CheckCircleIcon from '@patternfly/react-icons/dist/esm/icons/check-circle-icon';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\n\nconst AwsLink = ({ href, children }) => (\n  <React.Fragment>\n    <CheckCircleIcon className=\"pf-u-mr-sm\" fill=\"var(--pf-global--success-color--100)\" />\n    <Text component=\"a\" href={href} target=\"_blank\" rel=\"noopener noreferrer\">\n      {children}\n    </Text>\n  </React.Fragment>\n);\n\nAwsLink.propTypes = {\n  href: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n};\n\nconst GOLDIMAGES_HREF = 'https://access.redhat.com/management/cloud';\nconst LEARNMORE_HREF = 'https://access.redhat.com/public-cloud/aws';\n\nconst AmazonFinishedStep = ({ onClose }) => {\n  const intl = useIntl();\n  const { isBeta } = useChrome();\n  const PREFIX = isBeta() ? 'preview/' : '';\n\n  const SUBWATCH_HREF = `/${PREFIX}subscriptions`;\n  const INSIGHTS_HREF = `/${PREFIX}insights`;\n  const COST_HREF = `/${PREFIX}cost-management`;\n\n  return (\n    <Fragment>\n      <Alert\n        variant=\"info\"\n        isInline\n        title={intl.formatMessage({ id: 'aws.alertTitle', defaultMessage: 'Allow 24 hours for full activation' })}\n      >\n        {intl.formatMessage({\n          id: 'aws.alertDescription',\n          defaultMessage: 'Manage connections for this source at any time in Settings > Sources.',\n        })}\n      </Alert>\n      <Bullseye>\n        <EmptyState variant={EmptyStateVariant.full} className=\"pf-u-mt-md\">\n          <EmptyStateIcon icon={CheckCircleIcon} color=\"var(--pf-global--success-color--100)\" className=\"pf-u-mb-0\" />\n          <Title headingLevel=\"h2\" size=\"xl\" className=\"pf-u-mt-xl\">\n            {intl.formatMessage({ id: 'aws.successTitle', defaultMessage: 'Amazon Web Services connection established' })}\n          </Title>\n          <EmptyStateBody>\n            {intl.formatMessage({\n              id: 'aws.successDescription',\n              defaultMessage: 'Discover the benefits of your connection or exit to manage your new source.',\n            })}\n            <Grid hasGutter className=\"src-c-aws-grid pf-u-mt-md\">\n              <GridItem md=\"6\">\n                <AwsLink href={GOLDIMAGES_HREF}>\n                  {intl.formatMessage({ id: 'aws.goldImages', defaultMessage: 'View enabled AWS gold images' })}\n                </AwsLink>\n              </GridItem>\n              <GridItem md=\"6\">\n                <AwsLink href={SUBWATCH_HREF}>\n                  {intl.formatMessage({ id: 'aws.subwtachUsage', defaultMessage: 'Subscription Watch usage' })}\n                </AwsLink>\n              </GridItem>\n              <GridItem md=\"6\">\n                <AwsLink href={INSIGHTS_HREF}>\n                  {intl.formatMessage({ id: 'aws.insights', defaultMessage: 'Get started with Red Hat Insights' })}\n                </AwsLink>\n              </GridItem>\n              <GridItem md=\"6\">\n                <AwsLink href={COST_HREF}>\n                  {intl.formatMessage({ id: 'aws.costLink', defaultMessage: 'Cost Management reporting' })}\n                </AwsLink>\n              </GridItem>\n            </Grid>\n          </EmptyStateBody>\n          <Button variant=\"primary\" onClick={onClose} className=\"pf-u-mt-xl\">\n            {intl.formatMessage({ id: 'exit', defaultMessage: 'Exit' })}\n          </Button>\n          <EmptyStateSecondaryActions>\n            <Text component=\"a\" href={LEARNMORE_HREF} target=\"_blank\" rel=\"noopener noreferrer\">\n              {intl.formatMessage({ id: 'aws.learnMore', defaultMessage: 'Learn more about this Cloud' })}\n            </Text>\n          </EmptyStateSecondaryActions>\n        </EmptyState>\n      </Bullseye>\n    </Fragment>\n  );\n};\n\nAmazonFinishedStep.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default AmazonFinishedStep;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\n\nimport {\n  Bullseye,\n  Button,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStateSecondaryActions,\n  EmptyStateVariant,\n  Title,\n} from '@patternfly/react-core';\n\nimport ExclamationCircleIcon from '@patternfly/react-icons/dist/esm/icons/exclamation-circle-icon';\n\nconst ErroredStep = ({ onClose, returnButtonTitle, message, title, customText, primaryAction, secondaryActions, Component }) => (\n  <Bullseye>\n    <EmptyState variant={EmptyStateVariant.full} className=\"pf-u-mt-4xl\">\n      <EmptyStateIcon icon={ExclamationCircleIcon} color=\"var(--pf-global--danger-color--100)\" className=\"pf-u-mb-0\" />\n      <Title headingLevel=\"h2\" size=\"xl\" className=\"pf-u-mt-xl\">\n        {title}\n      </Title>\n      <EmptyStateBody className=\"src-c-wizard--step-text\">{message || customText}</EmptyStateBody>\n      <Component variant=\"primary\" onClick={primaryAction || onClose}>\n        {returnButtonTitle}\n      </Component>\n      {secondaryActions && <EmptyStateSecondaryActions className=\"pf-u-mt-sm\">{secondaryActions}</EmptyStateSecondaryActions>}\n    </EmptyState>\n  </Bullseye>\n);\n\nErroredStep.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  returnButtonTitle: PropTypes.node,\n  message: PropTypes.node,\n  title: PropTypes.node,\n  customText: PropTypes.node,\n  primaryAction: PropTypes.func,\n  secondaryActions: PropTypes.node,\n  Component: PropTypes.elementType,\n};\n\nErroredStep.defaultProps = {\n  title: <FormattedMessage id=\"wizard.unsuccConfiguration\" defaultMessage=\"Something went wrong\" />,\n  // eslint-disable-next-line max-len\n  customText: (\n    <FormattedMessage\n      id=\"wizard.errorText\"\n      defaultMessage=\"There was a problem while trying to add your source. Please try again. If the error persists, open a support case.\"\n    />\n  ),\n  Component: Button,\n};\n\nexport default ErroredStep;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport { ClipboardCopy } from '@patternfly/react-core';\n\nimport {\n  Bullseye,\n  Button,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStateSecondaryActions,\n  EmptyStateVariant,\n  Form,\n  FormGroup,\n  Title,\n} from '@patternfly/react-core';\n\nimport CheckCircleIcon from '@patternfly/react-icons/dist/esm/icons/check-circle-icon';\nimport computeSourcesUrl from '../../utilities/computeSourcesUrl';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\n\nconst FinishedStep = ({\n  onClose,\n  successfulMessage,\n  hideSourcesButton,\n  returnButtonTitle,\n  title,\n  linkText,\n  secondaryActions,\n  uuid,\n}) => {\n  const { isBeta } = useChrome();\n  return (\n    <Bullseye>\n      <EmptyState variant={EmptyStateVariant.full} className=\"pf-u-mt-4xl\">\n        <EmptyStateIcon icon={CheckCircleIcon} color=\"var(--pf-global--success-color--100)\" className=\"pf-u-mb-0\" />\n        <Title headingLevel=\"h2\" size=\"xl\" className=\"pf-u-mt-xl\">\n          {title}\n        </Title>\n        <EmptyStateBody className=\"src-c-wizard--step-text\">{successfulMessage}</EmptyStateBody>\n        {uuid && (\n          <Form className=\"src-c-uuid\">\n            <FormGroup label={<FormattedMessage id=\"wizard.sourcesUid\" defaultMessage=\"Source UUID\" />} fieldId=\"source-uuid\">\n              <ClipboardCopy id=\"source-uuid\" isReadOnly hoverTip=\"Source UUID\" clickTip=\"Copied\" className=\"pf-u-mt-md\">\n                {uuid}\n              </ClipboardCopy>\n            </FormGroup>\n          </Form>\n        )}\n        <Button variant=\"primary\" onClick={onClose} className=\"pf-u-mt-xl\">\n          {returnButtonTitle}\n        </Button>\n        {!hideSourcesButton && (\n          <EmptyStateSecondaryActions>\n            <Button variant=\"link\" component=\"a\" target=\"_blank\" rel=\"noopener noreferrer\" href={computeSourcesUrl(isBeta())}>\n              {linkText}\n            </Button>\n          </EmptyStateSecondaryActions>\n        )}\n        {secondaryActions && <EmptyStateSecondaryActions>{secondaryActions}</EmptyStateSecondaryActions>}\n      </EmptyState>\n    </Bullseye>\n  );\n};\n\nFinishedStep.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  successfulMessage: PropTypes.node.isRequired,\n  hideSourcesButton: PropTypes.bool,\n  returnButtonTitle: PropTypes.node.isRequired,\n  title: PropTypes.node,\n  linkText: PropTypes.node,\n  secondaryActions: PropTypes.node,\n  uuid: PropTypes.string,\n};\n\nFinishedStep.defaultProps = {\n  title: <FormattedMessage id=\"wizard.succConfiguration\" defaultMessage=\"Configuration successful\" />,\n  linkText: <FormattedMessage id=\"wizard.toSources\" defaultMessage=\"Take me to sources\" />,\n};\n\nexport default FinishedStep;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\n\nimport {\n  Bullseye,\n  Button,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStateSecondaryActions,\n  EmptyStateVariant,\n  Spinner,\n  Title,\n} from '@patternfly/react-core';\n\nconst LoadingStep = ({ onClose, customText, cancelTitle, description }) => (\n  <Bullseye>\n    <EmptyState variant={EmptyStateVariant.full} className=\"pf-u-mt-4xl\">\n      <EmptyStateIcon icon={Spinner} className=\"pf-u-mb-0\" />\n      <Title headingLevel=\"h2\" size=\"xl\" className=\"pf-u-mt-xl\">\n        {customText}\n      </Title>\n      {description && <EmptyStateBody className=\"src-c-wizard--step-text\">{description}</EmptyStateBody>}\n      {onClose && (\n        <EmptyStateSecondaryActions className=\"pf-u-mt-xl\">\n          <Button variant=\"link\" onClick={onClose}>\n            {cancelTitle}\n          </Button>\n        </EmptyStateSecondaryActions>\n      )}\n    </EmptyState>\n  </Bullseye>\n);\n\nLoadingStep.propTypes = {\n  onClose: PropTypes.func,\n  customText: PropTypes.node,\n  cancelTitle: PropTypes.node,\n  description: PropTypes.node,\n};\n\nLoadingStep.defaultProps = {\n  customText: <FormattedMessage id=\"wizard.loadingText\" defaultMessage=\"Loading, please wait.\" />,\n  cancelTitle: <FormattedMessage id=\"wizard.cancelText\" defaultMessage=\"Cancel\" />,\n};\n\nexport default LoadingStep;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { ClipboardCopy } from '@patternfly/react-core';\n\nimport {\n  Bullseye,\n  Button,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStateSecondaryActions,\n  EmptyStateVariant,\n  Title,\n} from '@patternfly/react-core';\n\nimport WrenchIcon from '@patternfly/react-icons/dist/esm/icons/wrench-icon';\n\nconst TimeoutStep = ({ onClose, returnButtonTitle, title, secondaryActions, uuid }) => {\n  const intl = useIntl();\n\n  return (\n    <Bullseye>\n      <EmptyState variant={EmptyStateVariant.full} className=\"pf-u-mt-4xl\">\n        <EmptyStateIcon icon={WrenchIcon} color=\"var(--pf-global--Color--200)\" className=\"pf-u-mb-0\" />\n        <Title headingLevel=\"h2\" size=\"xl\" className=\"pf-u-mt-xl\">\n          {title}\n        </Title>\n        <EmptyStateBody>\n          {intl.formatMessage(\n            {\n              id: 'wizard.uncompleteConfigurationDescription',\n              defaultMessage:\n                'We are still working to confirm credentials and app settings.{newLine}To track progress, check the Status column in the Sources table.',\n            },\n            { newLine: <br key=\"br\" /> }\n          )}\n          {uuid ?? (\n            <ClipboardCopy isReadOnly hoverTip=\"Source UUID\" clickTip=\"Copied\" className=\"pf-u-mt-md\">\n              {uuid}\n            </ClipboardCopy>\n          )}\n        </EmptyStateBody>\n        <Button variant=\"primary\" onClick={onClose} className=\"pf-u-mt-xl\">\n          {returnButtonTitle}\n        </Button>\n        {secondaryActions && <EmptyStateSecondaryActions>{secondaryActions}</EmptyStateSecondaryActions>}\n      </EmptyState>\n    </Bullseye>\n  );\n};\n\nTimeoutStep.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  returnButtonTitle: PropTypes.node.isRequired,\n  title: PropTypes.node,\n  secondaryActions: PropTypes.node,\n  uuid: PropTypes.string,\n};\n\nTimeoutStep.defaultProps = {\n  title: <FormattedMessage id=\"wizard.uncompleteConfigurationTitle\" defaultMessage=\"Configuration in progress\" />,\n};\n\nexport default TimeoutStep;\n","const computeSourceError = (source, intl) =>\n  source.applications?.filter(Boolean).find(({ availability_status_error }) => availability_status_error)\n    ?.availability_status_error ||\n  source.endpoint?.filter(Boolean).find(({ availability_status_error }) => availability_status_error)\n    ?.availability_status_error ||\n  source.authentications?.filter(Boolean).find(({ availability_status_error }) => availability_status_error)\n    ?.availability_status_error ||\n  intl.formatMessage({ id: 'wizard.unknownError', defaultMessage: 'Unknown error' });\n\nexport default computeSourceError;\n","export const computeSourceStatus = (source) => {\n  const appStatuses =\n    source.applications?.filter(Boolean).map(({ availability_status }) => availability_status || 'timeout') || [];\n  const endpointStatuses =\n    source.endpoint?.filter(Boolean).map(({ availability_status }) => availability_status || 'timeout') || [];\n  const authenticationsStatuses =\n    source.authentications?.filter(Boolean).map(({ availability_status }) => availability_status || 'timeout') || [];\n\n  const statuses = [...appStatuses, ...endpointStatuses, ...authenticationsStatuses];\n\n  if (statuses.includes('unavailable')) {\n    return 'unavailable';\n  }\n\n  if (statuses.length > 0 && statuses.every((status) => status === 'available')) {\n    return 'available';\n  }\n\n  if (statuses.includes('timeout')) {\n    return 'timeout';\n  }\n\n  return 'finished';\n};\n\nexport default computeSourceStatus;\n","const computeSourcesUrl = (isBeta = false) => (isBeta ? `/preview/settings/sources` : `/settings/sources`);\n\nexport default computeSourcesUrl;\n","import { TOPOLOGY_INV_NAME } from './constants';\n\nconst filterApps = (type) => type.name !== TOPOLOGY_INV_NAME;\n\nexport const filterVendorAppTypes =\n  (sourceTypes, category) =>\n  ({ supported_source_types }) =>\n    supported_source_types.find((type) => sourceTypes.find(({ name }) => type === name)?.category === category);\n\nexport default filterApps;\n"],"names":["checkSourceStatus","id","getSourcesApi","checkAvailabilitySource","checkAppAvailability","timeout","interval","entity","updatedTime","Promise","res","rej","start","Date","now","checkSource","then","data","availability_status","availability_status_error","last_checked_at","updated_at","prms","resolve","setTimeout","bind","delay","error","CloseModal","onExit","onStay","title","exitTitle","stayTitle","description","intl","useIntl","isMounted","useRef","Modal","onEscapePress","e","current","className","variant","formatMessage","defaultMessage","header","Title","headingLevel","size","isOpen","onClose","actions","Button","key","onClick","propTypes","PropTypes","isRequired","defaultProps","AwsLink","href","children","fill","Text","component","target","rel","AmazonFinishedStep","PREFIX","isBeta","useChrome","SUBWATCH_HREF","INSIGHTS_HREF","COST_HREF","Fragment","Alert","isInline","Bullseye","EmptyState","EmptyStateVariant","full","EmptyStateIcon","icon","CheckCircleIcon","color","EmptyStateBody","Grid","hasGutter","GridItem","md","EmptyStateSecondaryActions","ErroredStep","returnButtonTitle","message","customText","primaryAction","secondaryActions","Component","ExclamationCircleIcon","FinishedStep","successfulMessage","hideSourcesButton","linkText","uuid","Form","FormGroup","label","fieldId","ClipboardCopy","isReadOnly","hoverTip","clickTip","computeSourcesUrl","LoadingStep","cancelTitle","Spinner","TimeoutStep","WrenchIcon","newLine","source","applications","filter","Boolean","find","endpoint","authentications","appStatuses","map","endpointStatuses","authenticationsStatuses","statuses","includes","length","every","status","filterVendorAppTypes","sourceTypes","category","supported_source_types","type","name","TOPOLOGY_INV_NAME"],"sourceRoot":""}