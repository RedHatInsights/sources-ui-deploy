{"version":3,"sources":["webpack:///./src/api/checkSourceStatus.js","webpack:///./src/api/doUpdateSource.js","webpack:///./src/api/patchCmValues.js","webpack:///./src/components/AddApplication/ApplicationSelect.js","webpack:///./src/components/AddApplication/RemoveAppModal.js","webpack:///./src/components/AddApplication/removeAppSubmit.js","webpack:///./src/components/Authentication.js","webpack:///./src/utilities/SourcesFormRenderer.js"],"names":["checkSourceStatus","id","getSourcesApi","checkAvailabilitySource","parseUrl","url","scheme","host","port","path","u","URL","protocol","replace","hostname","defaultPort","pathname","error","urlOrHost","formData","endpoint","doUpdateSource","source","promises","push","updateSource","endPointPort","parseInt","endpointData","isNaN","undefined","updateEndpoint","endpoints","authentications","Object","keys","forEach","key","idWithoutPrefix","updateAuthentication","billing_source","credentials","cmDataOut","authentication","patchCmValues","Promise","all","data","axiosInstance","patch","COST_MANAGEMENT_API_BASE","RemoveRadio","option","setApplicationToRemove","sourceAppsNames","app","appType","intl","useIntl","onClick","display_name","dependent_applications","value","formatMessage","defaultMessage","label","propTypes","PropTypes","shape","string","isRequired","func","arrayOf","application_type_id","ApplicationSelect","props","useFieldApi","options","input","onChange","name","container","useState","removingApp","appTypes","useSelector","sources","useSource","applications","map","find","isCurrentlyRemoving","isDeleting","appIds","filter","reduce","acc","hidden","includes","RemoveAppModal","onCancel","dispatch","useDispatch","onSubmit","removeAppSubmit","useEffect","dependentApps","appName","x","TextVariants","p","length","apps","instanceOf","Element","titleSuccess","titleError","removeApplication","Authentication","rest","formOptions","useFormApi","values","getState","match","authenticationId","isEditing","isModified","get","edited","setEdited","firstClick","useRef","mounted","current","pristine","doNotRequirePassword","validate","type","validatorTypes","REQUIRED","componentProps","resolveProps","validated","helperText","SourcesFormRenderer","FormTemplate","componentMapper","mapperExtension"],"mappings":"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","file":"js/addApp~edit.e9a20f2f59c1cb249ea5.js","sourcesContent":["import { getSourcesApi } from './entities';\n\nexport const checkSourceStatus = (id) =>\n  getSourcesApi()\n    .checkAvailabilitySource(id)\n    .catch(() => {});\n","import { defaultPort } from '../views/formatters';\nimport { getSourcesApi } from './entities';\nimport { patchCmValues } from './patchCmValues';\n\nexport const parseUrl = (url) => {\n  if (url === null) {\n    return {\n      scheme: null,\n      host: null,\n      port: null,\n      path: null,\n    };\n  }\n\n  if (!url) {\n    return {};\n  }\n\n  try {\n    const u = new URL(url);\n    const scheme = u.protocol.replace(/:$/, '');\n\n    return {\n      scheme,\n      host: u.hostname,\n      port: u.port === '' ? defaultPort(scheme) : u.port,\n      path: u.pathname,\n    };\n  } catch (error) {\n    return {};\n  }\n};\n\nexport const urlOrHost = (formData) =>\n  formData.url || formData.url === null ? parseUrl(formData.url) : formData.endpoint ? formData.endpoint : formData;\n\nexport const doUpdateSource = (source, formData) => {\n  const promises = [];\n\n  if (formData.source) {\n    promises.push(getSourcesApi().updateSource(source.source.id, formData.source));\n  }\n\n  if (formData.endpoint || formData.url || formData.url === null) {\n    const { scheme, host, port, path } = urlOrHost(formData);\n    const endPointPort = port === null ? null : parseInt(port, 10);\n\n    const endpointData = {\n      scheme,\n      host,\n      path,\n      port: endPointPort === null ? null : isNaN(endPointPort) ? undefined : endPointPort,\n      ...formData.endpoint,\n    };\n\n    promises.push(getSourcesApi().updateEndpoint(source.endpoints[0].id, endpointData));\n  }\n\n  if (formData.authentications) {\n    Object.keys(formData.authentications).forEach((key) => {\n      const idWithoutPrefix = key.replace('a', '');\n\n      promises.push(getSourcesApi().updateAuthentication(idWithoutPrefix, formData.authentications[key]));\n    });\n  }\n\n  if (formData.billing_source || formData.credentials) {\n    let cmDataOut = {};\n\n    if (formData.credentials) {\n      cmDataOut = {\n        authentication: {\n          credentials: formData.credentials,\n        },\n      };\n    }\n\n    if (formData.billing_source) {\n      cmDataOut = {\n        ...cmDataOut,\n        billing_source: formData.billing_source,\n      };\n    }\n\n    promises.push(patchCmValues(source.source.id, cmDataOut));\n  }\n\n  return Promise.all(promises);\n};\n","import { axiosInstance } from './entities';\nimport { COST_MANAGEMENT_API_BASE } from './constants';\n\nexport const patchCmValues = (id, data) => axiosInstance.patch(`${COST_MANAGEMENT_API_BASE}/sources/${id}/`, data);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { useIntl } from 'react-intl';\n\nimport { Radio } from '@patternfly/react-core/dist/js/components/Radio/Radio';\nimport { Button } from '@patternfly/react-core/dist/js/components/Button';\nimport TrashIcon from '@patternfly/react-icons/dist/js/icons/trash-icon';\n\nimport useFieldApi from '@data-driven-forms/react-form-renderer/dist/cjs/use-field-api';\n\nimport { useSource } from '../../hooks/useSource';\n\nimport RemoveAppModal from './RemoveAppModal';\n\nconst RemoveRadio = ({ option, setApplicationToRemove, sourceAppsNames, app, appType }) => {\n  const intl = useIntl();\n\n  const onClick = () =>\n    setApplicationToRemove({\n      id: app?.id,\n      display_name: appType?.display_name,\n      dependent_applications: appType?.dependent_applications,\n      sourceAppsNames,\n    });\n\n  return (\n    <div className=\"pf-c-radio pf-u-mb-md\">\n      <Button\n        id={`remove-app-${option.value}`}\n        variant=\"plain\"\n        aria-label={intl.formatMessage(\n          {\n            id: 'source.removeAppAria',\n            defaultMessage: 'Remove application {app} from this source',\n          },\n          { app: option.label }\n        )}\n        className=\"pf-u-p-0\"\n        onClick={onClick}\n      >\n        <TrashIcon variant=\"small\" />\n      </Button>\n      <label className=\"pf-c-radio__label\" htmlFor={`remove-app-${option.value}`}>\n        {option.label}\n      </label>\n    </div>\n  );\n};\n\nRemoveRadio.propTypes = {\n  option: PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired,\n  }),\n  setApplicationToRemove: PropTypes.func.isRequired,\n  sourceAppsNames: PropTypes.arrayOf(PropTypes.string),\n  appType: PropTypes.shape({\n    display_name: PropTypes.string.isRequired,\n    dependent_applications: PropTypes.arrayOf(PropTypes.string),\n  }),\n  app: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    application_type_id: PropTypes.string.isRequired,\n  }),\n};\n\nconst ApplicationSelect = (props) => {\n  const {\n    options,\n    input: { onChange, value, name },\n    container,\n  } = useFieldApi(props);\n\n  const [removingApp, setApplicationToRemove] = useState({});\n\n  const appTypes = useSelector(({ sources }) => sources.appTypes);\n  const source = useSource();\n\n  const sourceAppsNames = source.applications.map(\n    ({ application_type_id }) => appTypes.find(({ id }) => id === application_type_id)?.display_name\n  );\n\n  const appType = (value) => appTypes?.find((appType) => appType.id === value);\n  const app = (value) => source.applications.find((app) => app.application_type_id === value);\n\n  const isCurrentlyRemoving = (value) => app(value)?.isDeleting;\n\n  const appIds = source.applications\n    .filter(({ isDeleting }) => !isDeleting)\n    .reduce((acc, app) => [...acc, app.application_type_id], []);\n\n  return (\n    <div>\n      {removingApp.id && (\n        <RemoveAppModal\n          app={removingApp}\n          onCancel={() => {\n            if (container) {\n              container.hidden = false;\n            }\n\n            return setApplicationToRemove({});\n          }}\n          container={container}\n        />\n      )}\n      {options.map((option) =>\n        !appIds.includes(option.value) ? (\n          <Radio\n            className=\"pf-u-mb-md\"\n            key={option.value}\n            onChange={() => onChange(option.value)}\n            label={option.label}\n            id={`${name}-${option.value}`}\n            name={name}\n            isChecked={value === option.value}\n            isDisabled={isCurrentlyRemoving(option.value)}\n          />\n        ) : (\n          <RemoveRadio\n            key={option.value}\n            option={option}\n            setApplicationToRemove={setApplicationToRemove}\n            sourceAppsNames={sourceAppsNames}\n            app={app(option.value)}\n            appType={appType(option.value)}\n          />\n        )\n      )}\n    </div>\n  );\n};\n\nexport default ApplicationSelect;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useIntl } from 'react-intl';\n\nimport { Text, TextVariants } from '@patternfly/react-core/dist/js/components/Text/Text';\nimport { TextContent } from '@patternfly/react-core/dist/js/components/Text/TextContent';\nimport { Button } from '@patternfly/react-core/dist/js/components/Button/Button';\nimport { Modal } from '@patternfly/react-core/dist/js/components/Modal/Modal';\nimport { Title } from '@patternfly/react-core/dist/js/components/Title/Title';\n\nimport ExclamationTriangleIcon from '@patternfly/react-icons/dist/js/icons/exclamation-triangle-icon';\n\nimport { useSource } from '../../hooks/useSource';\n\nimport removeAppSubmit from './removeAppSubmit';\n\nconst RemoveAppModal = ({ app, onCancel, container }) => {\n  const intl = useIntl();\n\n  const appTypes = useSelector(({ sources }) => sources.appTypes);\n  const source = useSource();\n\n  const dispatch = useDispatch();\n\n  const onSubmit = () => removeAppSubmit(app, intl, onCancel, dispatch, source);\n\n  useEffect(() => {\n    if (container) {\n      container.hidden = true;\n    }\n  }, []);\n\n  const dependentApps = app.dependent_applications\n    .map((appName) => {\n      const appType = appTypes.find(({ name }) => name === appName);\n\n      return app.sourceAppsNames.includes(appType?.display_name) && appType?.display_name;\n    })\n    .filter((x) => x);\n\n  return (\n    <Modal\n      className=\"ins-c-sources__dialog--warning\"\n      isOpen={true}\n      onClose={onCancel}\n      variant=\"small\"\n      aria-label={intl.formatMessage({\n        id: 'sources.deleteAppTitle',\n        defaultMessage: 'Remove application?',\n      })}\n      header={\n        <Title headingLevel=\"h1\" size=\"2xl\">\n          <ExclamationTriangleIcon size=\"sm\" className=\"ins-m-alert ins-c-source__delete-icon pf-u-mr-sm\" />\n          {intl.formatMessage({\n            id: 'sources.deleteAppTitle',\n            defaultMessage: 'Remove application?',\n          })}\n        </Title>\n      }\n      actions={[\n        <Button id=\"deleteSubmit\" key=\"submit\" variant=\"danger\" type=\"button\" onClick={onSubmit}>\n          {intl.formatMessage({\n            id: 'sources.remove',\n            defaultMessage: 'Remove',\n          })}\n        </Button>,\n        <Button id=\"deleteCancel\" key=\"cancel\" variant=\"link\" type=\"button\" onClick={onCancel}>\n          {intl.formatMessage({\n            id: 'sources.cancel',\n            defaultMessage: 'Cancel',\n          })}\n        </Button>,\n      ]}\n    >\n      <TextContent>\n        <Text component={TextVariants.p}>\n          {intl.formatMessage(\n            {\n              id: 'sources.deleteAppWarning',\n              defaultMessage: '{ appName } will be disconnected from this source.',\n            },\n            { appName: <b key=\"b\">{app.display_name}</b> }\n          )}\n        </Text>\n        {dependentApps.length > 0 && (\n          <Text component={TextVariants.p}>\n            {intl.formatMessage(\n              {\n                id: 'sources.deleteAppDetails',\n                defaultMessage: 'This change will affect these applications: { apps }.',\n              },\n              { apps: dependentApps }\n            )}\n          </Text>\n        )}\n      </TextContent>\n    </Modal>\n  );\n};\n\nRemoveAppModal.propTypes = {\n  app: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    display_name: PropTypes.string.isRequired,\n    dependent_applications: PropTypes.arrayOf(PropTypes.string),\n    sourceAppsNames: PropTypes.arrayOf(PropTypes.string),\n  }).isRequired,\n  onCancel: PropTypes.func.isRequired,\n  container: PropTypes.instanceOf(Element),\n};\n\nexport default RemoveAppModal;\n","import { removeApplication } from '../../redux/sources/actions';\n\nconst removeAppSubmit = (app, intl, onCancel, dispatch, source) => {\n  const titleSuccess = intl.formatMessage(\n    {\n      id: 'sources.removeAppWarning',\n      defaultMessage: `{ name } was removed from this source.`,\n    },\n    {\n      name: app.display_name,\n    }\n  );\n  const titleError = intl.formatMessage(\n    {\n      id: 'sources.removeAppError',\n      defaultMessage: `Removing of { name } application from this source was unsuccessful.`,\n    },\n    {\n      name: app.display_name,\n    }\n  );\n  onCancel && onCancel();\n  return dispatch(removeApplication(app.id, source.id, titleSuccess, titleError));\n};\n\nexport default removeAppSubmit;\n","import React, { useState, useEffect, useRef } from 'react';\nimport get from 'lodash/get';\n\nimport { FormGroup } from '@patternfly/react-core/dist/js/components/Form/FormGroup';\nimport { TextInput } from '@patternfly/react-core/dist/js/components/TextInput/TextInput';\n\nimport TextField from '@data-driven-forms/pf4-component-mapper/dist/cjs/text-field';\nimport useFormApi from '@data-driven-forms/react-form-renderer/dist/cjs/use-form-api';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/dist/cjs/validator-types';\nimport validated from '@redhat-cloud-services/frontend-components-sources/cjs/validated';\n\nconst Authentication = (rest) => {\n  const formOptions = useFormApi();\n  const values = formOptions.getState().values;\n\n  const [authenticationId] = rest?.name?.match(/\\d+/) || [];\n  const isEditing = authenticationId || values.authentication?.id;\n\n  // If there is any value, the field is modified (password is always empty on start)\n  let isModified = get(values, rest.name);\n\n  const [edited, setEdited] = useState(!isEditing || isModified);\n  const firstClick = useRef(true);\n  const mounted = useRef(false);\n\n  useEffect(() => {\n    if (mounted.current) {\n      // reset on restart\n      if (!firstClick.current && formOptions.getState().pristine) {\n        setEdited(false);\n        firstClick.current = true;\n      }\n\n      if (edited) {\n        firstClick.current = false;\n      }\n    }\n  });\n\n  useEffect(() => {\n    mounted.current = true;\n  }, []);\n\n  const doNotRequirePassword = rest.validate && rest.validate.filter(({ type }) => type !== validatorTypes.REQUIRED);\n\n  const componentProps = {\n    ...rest,\n    ...(isEditing\n      ? {\n          validate: doNotRequirePassword,\n          resolveProps: validated,\n        }\n      : {}),\n  };\n\n  if (!edited && isEditing) {\n    return (\n      <FormGroup helperText={componentProps.helperText} label={componentProps.label} onFocus={() => setEdited(true)} isRequired>\n        <TextInput aria-label=\"pre-filled-authentication\" value=\"•••••••••••••\" />\n      </FormGroup>\n    );\n  }\n\n  return <TextField {...componentProps} autoFocus={true} />;\n};\n\nexport default Authentication;\n","import React from 'react';\n\nimport FormRenderer from '@data-driven-forms/react-form-renderer/dist/cjs/form-renderer';\n\nimport FormTemplate from '@data-driven-forms/pf4-component-mapper/dist/cjs/form-template';\nimport componentMapper from '@data-driven-forms/pf4-component-mapper/dist/cjs/component-mapper';\n\nimport { mapperExtension } from '@redhat-cloud-services/frontend-components-sources/cjs/sourceFormRenderer';\n\nimport Authentication from '../components/Authentication';\n\nimport ApplicationSelect from '../components/AddApplication/ApplicationSelect';\n\nconst SourcesFormRenderer = (props) => (\n  <FormRenderer\n    FormTemplate={FormTemplate}\n    componentMapper={{\n      ...componentMapper,\n      ...mapperExtension,\n      authentication: Authentication,\n      'application-select': ApplicationSelect,\n    }}\n    {...props}\n  />\n);\n\nexport default SourcesFormRenderer;\n"],"sourceRoot":""}