{"version":3,"sources":["webpack:///./src/api/doUpdateSource.js","webpack:///./src/api/patchCmValues.js","webpack:///./src/components/AddApplication/ApplicationSelect.js","webpack:///./src/components/AddApplication/RemoveAppModal.js","webpack:///./src/components/AddApplication/removeAppSubmit.js","webpack:///./src/components/Authentication.js","webpack:///./src/utilities/SourcesFormRenderer.js"],"names":["parseUrl","url","scheme","host","port","path","u","URL","protocol","replace","hostname","defaultPort","pathname","error","urlOrHost","formData","endpoint","doUpdateSource","source","promises","push","getSourcesApi","updateSource","id","endPointPort","parseInt","endpointData","isNaN","undefined","updateEndpoint","endpoints","authentications","Object","keys","forEach","key","idWithoutPrefix","updateAuthentication","billing_source","credentials","cmDataOut","authentication","patchCmValues","Promise","all","data","axiosInstance","patch","COST_MANAGEMENT_API_BASE","RemoveRadio","option","setApplicationToRemove","sourceAppsNames","app","appType","intl","useIntl","onClick","display_name","dependent_applications","value","formatMessage","defaultMessage","label","propTypes","PropTypes","shape","string","isRequired","func","arrayOf","application_type_id","ApplicationSelect","props","useFieldApi","options","input","onChange","name","container","useState","removingApp","appTypes","useSelector","sources","useSource","applications","map","find","isCurrentlyRemoving","isDeleting","appIds","filter","reduce","acc","hidden","includes","RemoveAppModal","onCancel","dispatch","useDispatch","onSubmit","removeAppSubmit","useEffect","dependentApps","appName","x","TextVariants","p","length","apps","instanceOf","Element","titleSuccess","titleError","removeApplication","Authentication","rest","formOptions","useFormApi","values","getState","match","authenticationId","isEditing","isModified","get","edited","setEdited","firstClick","useRef","mounted","current","pristine","doNotRequirePassword","validate","type","validatorTypes","REQUIRED","componentProps","resolveProps","validated","helperText","SourcesFormRenderer","FormTemplate","componentMapper","mapperExtension","componentTypes","SWITCH","validatorMapper","PATTERN","MIN_LENGTH"],"mappings":"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","file":"js/addApp~edit.6acc94abc2b823c3dcd9.js","sourcesContent":["import { defaultPort } from '../components/SourcesTable/formatters';\nimport { getSourcesApi } from './entities';\nimport { patchCmValues } from './patchCmValues';\n\nexport const parseUrl = url => {\n    if (url === null) {\n        return {\n            scheme: null,\n            host: null,\n            port: null,\n            path: null\n        };\n    }\n\n    if (!url) {\n        return ({});\n    }\n\n    try {\n        const u = new URL(url);\n        const scheme =  u.protocol.replace(/:$/, '');\n\n        return {\n            scheme,\n            host: u.hostname,\n            port: u.port === '' ? defaultPort(scheme) : u.port,\n            path: u.pathname\n        };\n    } catch (error) {\n        return ({});\n    }\n};\n\nexport const urlOrHost = formData =>\n    formData.url || formData.url === null ? parseUrl(formData.url) : formData.endpoint ? formData.endpoint : formData;\n\nexport const doUpdateSource = (source, formData) => {\n    const promises = [];\n\n    if (formData.source) {\n        promises.push(getSourcesApi().updateSource(source.source.id, formData.source));\n    }\n\n    if (formData.endpoint || formData.url || formData.url === null) {\n        const { scheme, host, port, path } = urlOrHost(formData);\n        const endPointPort = port === null ? null : parseInt(port, 10);\n\n        const endpointData = {\n            scheme,\n            host,\n            path,\n            port: endPointPort === null ? null : isNaN(endPointPort) ? undefined : endPointPort,\n            ...formData.endpoint\n        };\n\n        promises.push(getSourcesApi().updateEndpoint(source.endpoints[0].id, endpointData));\n    }\n\n    if (formData.authentications) {\n        Object.keys(formData.authentications).forEach((key) => {\n            const idWithoutPrefix = key.replace('a', '');\n\n            promises.push(getSourcesApi().updateAuthentication(idWithoutPrefix, formData.authentications[key]));\n        });\n    }\n\n    if (formData.billing_source || formData.credentials) {\n        let cmDataOut = {};\n\n        if (formData.credentials) {\n            cmDataOut = {\n                authentication: {\n                    credentials: formData.credentials\n                }\n            };\n        }\n\n        if (formData.billing_source) {\n            cmDataOut = {\n                ...cmDataOut,\n                billing_source: formData.billing_source\n            };\n        }\n\n        promises.push(patchCmValues(source.source.id, cmDataOut));\n    }\n\n    return Promise.all(promises);\n};\n","import { axiosInstance } from './entities';\nimport { COST_MANAGEMENT_API_BASE } from './constants';\n\nexport const patchCmValues = (id, data) => axiosInstance.patch(`${COST_MANAGEMENT_API_BASE}/sources/${id}/`, data);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { useIntl } from 'react-intl';\n\nimport { Radio } from '@patternfly/react-core/dist/js/components/Radio/Radio';\nimport { Button } from '@patternfly/react-core/dist/js/components/Button';\nimport TrashIcon from '@patternfly/react-icons/dist/js/icons/trash-icon';\n\nimport useFieldApi from '@data-driven-forms/react-form-renderer/dist/cjs/use-field-api';\n\nimport { useSource } from '../../hooks/useSource';\n\nimport RemoveAppModal from './RemoveAppModal';\n\nconst RemoveRadio = ({ option, setApplicationToRemove, sourceAppsNames, app, appType }) => {\n    const intl = useIntl();\n\n    const onClick = () => setApplicationToRemove({\n        id: app?.id,\n        display_name: appType?.display_name,\n        dependent_applications: appType?.dependent_applications,\n        sourceAppsNames\n    });\n\n    return (<div className=\"pf-c-radio pf-u-mb-md\">\n        <Button\n            id={`remove-app-${option.value}`}\n            variant=\"plain\"\n            aria-label={intl.formatMessage({\n                id: 'source.removeAppAria',\n                defaultMessage: 'Remove application {app} from this source'\n            }, { app: option.label })}\n            className=\"pf-u-p-0\"\n            onClick={onClick}\n        >\n            <TrashIcon variant=\"small\" />\n        </Button>\n        <label className=\"pf-c-radio__label\" htmlFor={`remove-app-${option.value}`}>\n            {option.label}\n        </label>\n    </div>);\n};\n\nRemoveRadio.propTypes = {\n    option: PropTypes.shape({\n        label: PropTypes.string.isRequired,\n        value: PropTypes.string.isRequired\n    }),\n    setApplicationToRemove: PropTypes.func.isRequired,\n    sourceAppsNames: PropTypes.arrayOf(PropTypes.string),\n    appType: PropTypes.shape({\n        display_name: PropTypes.string.isRequired,\n        dependent_applications: PropTypes.arrayOf(PropTypes.string)\n    }),\n    app: PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        application_type_id: PropTypes.string.isRequired\n    })\n};\n\nconst ApplicationSelect = (props) => {\n    const { options, input: { onChange, value, name }, container } = useFieldApi(props);\n\n    const [removingApp, setApplicationToRemove] = useState({});\n\n    const appTypes = useSelector(({ sources }) => sources.appTypes);\n    const source = useSource();\n\n    const sourceAppsNames = source.applications\n    .map(({ application_type_id }) => {\n        const appType = appTypes.find(({ id }) => id === application_type_id);\n        return appType ? appType.display_name : undefined;\n    });\n\n    const appType = (value) => appTypes?.find(appType =>\n        appType.id === value\n    );\n    const app = (value) => source.applications.find(app => app.application_type_id === value);\n\n    const isCurrentlyRemoving = (value) => app(value)?.isDeleting;\n\n    const appIds = source.applications.filter(({ isDeleting }) => !isDeleting)\n    .reduce((acc, app) => [...acc, app.application_type_id], []);\n\n    return (\n        <div>\n            {removingApp.id && <RemoveAppModal\n                app={removingApp}\n                onCancel={() => {\n                    if (container) {\n                        container.hidden = false;\n                    }\n\n                    return setApplicationToRemove({});\n                }}\n                container={container}\n            />}\n            {options.map((option) => (!appIds.includes(option.value) ? (<Radio\n                className=\"pf-u-mb-md\"\n                key={option.value}\n                onChange={() => onChange(option.value)}\n                label={option.label}\n                id={`${name}-${option.value}`}\n                name={name}\n                isChecked={value === option.value }\n                isDisabled={isCurrentlyRemoving(option.value)}\n            />) : (<RemoveRadio\n                key={option.value}\n                option={option}\n                setApplicationToRemove={setApplicationToRemove}\n                sourceAppsNames={sourceAppsNames}\n                app={app(option.value)}\n                appType={appType(option.value)}\n            />)))}\n        </div>\n    );\n};\n\nexport default ApplicationSelect;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useIntl } from 'react-intl';\n\nimport { Text, TextVariants } from '@patternfly/react-core/dist/js/components/Text/Text';\nimport { TextContent } from '@patternfly/react-core/dist/js/components/Text/TextContent';\nimport { Button } from '@patternfly/react-core/dist/js/components/Button/Button';\nimport { Modal } from '@patternfly/react-core/dist/js/components/Modal/Modal';\nimport { Title } from '@patternfly/react-core/dist/js/components/Title/Title';\n\nimport ExclamationTriangleIcon from '@patternfly/react-icons/dist/js/icons/exclamation-triangle-icon';\n\nimport { useSource } from '../../hooks/useSource';\n\nimport removeAppSubmit from './removeAppSubmit';\n\nconst RemoveAppModal = ({ app, onCancel, container }) => {\n    const intl = useIntl();\n\n    const appTypes = useSelector(({ sources }) => sources.appTypes);\n    const source = useSource();\n\n    const dispatch = useDispatch();\n\n    const onSubmit = () => removeAppSubmit(app, intl, onCancel, dispatch, source);\n\n    useEffect(() => {\n        if (container) {\n            container.hidden = true;\n        }\n    }, []);\n\n    const dependentApps = app.dependent_applications.map(appName => {\n        const appType = appTypes.find(({ name }) => name === appName);\n\n        return appType ? app.sourceAppsNames.includes(appType.display_name) ? appType.display_name : undefined : undefined;\n    }).filter(x => x);\n\n    return (\n        <Modal\n            className=\"ins-c-sources__dialog--warning\"\n            isOpen={true}\n            onClose={onCancel}\n            variant=\"small\"\n            aria-label={\n                intl.formatMessage({\n                    id: 'sources.deleteAppTitle',\n                    defaultMessage: 'Remove application?',\n                })\n            }\n            header={\n                <Title headingLevel=\"h1\" size=\"2xl\">\n                    <ExclamationTriangleIcon size=\"sm\" className=\"ins-m-alert ins-c-source__delete-icon pf-u-mr-sm\" />\n                    {intl.formatMessage({\n                        id: 'sources.deleteAppTitle',\n                        defaultMessage: 'Remove application?',\n                    })}\n                </Title>\n            }\n            actions={[\n                <Button\n                    id=\"deleteSubmit\" key=\"submit\" variant=\"danger\" type=\"button\" onClick={ onSubmit }\n                >\n                    { intl.formatMessage({\n                        id: 'sources.remove',\n                        defaultMessage: 'Remove'\n                    }) }\n                </Button>,\n                <Button id=\"deleteCancel\" key=\"cancel\" variant=\"link\" type=\"button\" onClick={ onCancel }>\n                    { intl.formatMessage({\n                        id: 'sources.cancel',\n                        defaultMessage: 'Cancel'\n                    }) }\n                </Button>\n            ]}\n        >\n            <TextContent>\n                <Text component={TextVariants.p}>\n                    { intl.formatMessage({\n                        id: 'sources.deleteAppWarning',\n                        defaultMessage: '{ appName } will be disconnected from this source.'\n                    }, { appName: <b key=\"b\">{app.display_name}</b> }) }\n                </Text>\n                {dependentApps.length > 0 && <Text component={TextVariants.p}>\n                    { intl.formatMessage({\n                        id: 'sources.deleteAppDetails',\n                        defaultMessage: 'This change will affect these applications: { apps }.'\n                    }, { apps: dependentApps }) }\n                </Text>}\n            </TextContent>\n        </Modal>\n    );\n};\n\nRemoveAppModal.propTypes = {\n    app: PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        display_name: PropTypes.string.isRequired,\n        dependent_applications: PropTypes.arrayOf(PropTypes.string),\n        sourceAppsNames: PropTypes.arrayOf(PropTypes.string)\n    }).isRequired,\n    onCancel: PropTypes.func.isRequired,\n    container: PropTypes.instanceOf(Element)\n};\n\nexport default RemoveAppModal;\n","import { removeApplication } from '../../redux/sources/actions';\n\nconst removeAppSubmit = (app, intl, onCancel, dispatch, source) => {\n    const titleSuccess = intl.formatMessage({\n        id: 'sources.removeAppWarning',\n        defaultMessage: `{ name } was removed from this source.`\n    },\n    {\n        name: app.display_name\n    });\n    const titleError = intl.formatMessage({\n        id: 'sources.removeAppError',\n        defaultMessage: `Removing of { name } application from this source was unsuccessful.`\n    }, {\n        name: app.display_name\n    });\n    onCancel && onCancel();\n    return dispatch(removeApplication(app.id, source.id, titleSuccess, titleError));\n};\n\nexport default removeAppSubmit;\n","import React, { useState, useEffect, useRef } from 'react';\nimport get from 'lodash/get';\n\nimport { FormGroup } from '@patternfly/react-core/dist/js/components/Form/FormGroup';\nimport { TextInput } from '@patternfly/react-core/dist/js/components/TextInput/TextInput';\n\nimport TextField from '@data-driven-forms/pf4-component-mapper/dist/cjs/text-field';\nimport useFormApi from '@data-driven-forms/react-form-renderer/dist/cjs/use-form-api';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/dist/cjs/validator-types';\nimport validated from '@redhat-cloud-services/frontend-components-sources/cjs/validated';\n\nconst Authentication = (rest) => {\n    const formOptions = useFormApi();\n    const values = formOptions.getState().values;\n\n    const [authenticationId] = rest?.name?.match(/\\d+/) || [];\n    const isEditing = authenticationId || values.authentication?.id;\n\n    // If there is any value, the field is modified (password is always empty on start)\n    let isModified = get(values, rest.name);\n\n    const [edited, setEdited] = useState(!isEditing || isModified);\n    const firstClick = useRef(true);\n    const mounted = useRef(false);\n\n    useEffect(() => {\n        if (mounted.current) {\n            // reset on restart\n            if (\n                !firstClick.current && formOptions.getState().pristine\n            ) {\n                setEdited(false);\n                firstClick.current = true;\n            }\n\n            if (edited) {\n                firstClick.current = false;\n            }\n        }\n    });\n\n    useEffect(() => {\n        mounted.current = true;\n    }, []);\n\n    const doNotRequirePassword = rest.validate && rest.validate.filter(({ type }) => type !== validatorTypes.REQUIRED);\n\n    const componentProps = {\n        ...rest,\n        ...(isEditing ? {\n            validate: doNotRequirePassword,\n            resolveProps: validated,\n        } : {})\n    };\n\n    if (!edited) {\n        return (<FormGroup\n            helperText={componentProps.helperText}\n            label={componentProps.label}\n            onFocus={() => setEdited(true)}\n            isRequired\n        >\n            <TextInput aria-label=\"pre-filled-authentication\" value=\"•••••••••••••\" />\n        </FormGroup>);\n    }\n\n    return (\n        <TextField { ...componentProps } autoFocus={true}/>\n    );\n};\n\nexport default Authentication;\n","import React from 'react';\n\nimport FormRenderer from '@data-driven-forms/react-form-renderer/dist/cjs/form-renderer';\nimport componentTypes from '@data-driven-forms/react-form-renderer/dist/cjs/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/dist/cjs/validator-types';\nimport validatorMapper from '@data-driven-forms/react-form-renderer/dist/cjs/validator-mapper';\n\nimport FormTemplate from '@data-driven-forms/pf4-component-mapper/dist/cjs/form-template';\nimport componentMapper from '@data-driven-forms/pf4-component-mapper/dist/cjs/component-mapper';\n\nimport { mapperExtension } from '@redhat-cloud-services/frontend-components-sources/cjs/sourceFormRenderer';\n\nimport Authentication from '../components/Authentication';\n\nimport ApplicationSelect from '../components/AddApplication/ApplicationSelect';\n\nconst SourcesFormRenderer = props => (\n    <FormRenderer\n        FormTemplate={FormTemplate}\n        componentMapper={{\n            ...componentMapper,\n            ...mapperExtension,\n            authentication: Authentication,\n            'switch-field': componentMapper[componentTypes.SWITCH],\n            'application-select': ApplicationSelect\n        }}\n        validatorMapper={{\n            'required-validator': validatorMapper[validatorTypes.REQUIRED],\n            'pattern-validator': validatorMapper[validatorTypes.PATTERN],\n            'min-length-validator': validatorMapper[validatorTypes.MIN_LENGTH],\n            'url-validator': validatorMapper[validatorTypes.URL]\n        }}\n        {...props}\n    />\n);\n\nexport default SourcesFormRenderer;\n"],"sourceRoot":""}