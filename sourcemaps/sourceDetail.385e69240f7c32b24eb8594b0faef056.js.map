{"version":3,"file":"js/sourceDetail.2c0ffaeb0b286668ec6e.js","mappings":"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","sources":["webpack:///./node_modules/@patternfly/react-icons/dist/esm/icons/plus-circle-icon.js","webpack:///./node_modules/@patternfly/react-icons/dist/esm/icons/private-icon.js","webpack:///./node_modules/@patternfly/react-icons/dist/esm/icons/redo-icon.js","webpack:///./src/api/checkSourceStatus.js","webpack:///./src/api/doUpdateSource.js","webpack:///./src/api/getApplicationStatus.js","webpack:///./src/api/delay.js","webpack:///./src/components/steps/ErroredStep.js","webpack:///./src/components/steps/LoadingStep.js","webpack:///./src/hooks/useAppNavigate.js","webpack:///./src/components/SourceDetail/AvailabilityChecker.js","webpack:///./src/components/SourceDetail/SourceSummaryCard.js","webpack:///./src/components/SourceDetail/ApplicationKebab.js","webpack:///./src/components/SourceDetail/ApplicationsCard.js","webpack:///./src/components/SourceDetail/NoApplications.js","webpack:///./src/components/SourceDetail/NoPermissions.js","webpack:///./src/api/doLoadSourceForEdit.js","webpack:///./src/utilities/alerts.js","webpack:///./src/components/SourceEditForm/helpers.js","webpack:///./src/components/SourceEditForm/onSubmit.js","webpack:///./src/components/SourceEditForm/parser/authentication.js","webpack:///./src/components/SourceEditForm/parser/endpoint.js","webpack:///./src/components/SourceEditForm/parser/EditAlert.js","webpack:///./src/components/SourceDetail/ResourcesEmptyState.js","webpack:///./src/components/SourceEditForm/parser/application.js","webpack:///./src/components/SourceEditForm/parser/parseSourceToSchema.js","webpack:///./src/components/SourceEditForm/reducer.js","webpack:///./src/components/SourceEditForm/SubmittingModal.js","webpack:///./src/components/SourceEditForm/ErroredModal.js","webpack:///./src/components/SourceEditForm/SourceEditModal.js","webpack:///./src/components/SourceDetail/ApplicationResourcesCard.js","webpack:///./src/components/SourceDetail/Breadcrumbs.js","webpack:///./src/components/SourceDetail/SourceKebab.js","webpack:///./src/components/SourceDetail/DetailHeader.js","webpack:///./src/components/SourceDetail/ResourcesTable.js","webpack:///./src/components/SourceDetail/PauseAlert.js","webpack:///./src/pages/Detail.js","webpack:///./src/utilities/filterApps.js","webpack:///./src/utilities/isSuperKey.js"],"sourcesContent":["import { createIcon } from '../createIcon';\n\nexport const PlusCircleIconConfig = {\n  name: 'PlusCircleIcon',\n  height: 512,\n  width: 512,\n  svgPath: 'M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z',\n  yOffset: 0,\n  xOffset: 0,\n};\n\nexport const PlusCircleIcon = createIcon(PlusCircleIconConfig);\n\nexport default PlusCircleIcon;","import { createIcon } from '../createIcon';\n\nexport const PrivateIconConfig = {\n  name: 'PrivateIcon',\n  height: 1024,\n  width: 1024,\n  svgPath: 'M512,0 C229.2,0 0,229.2 0,512 C0,794.8 229.2,1024 512,1024 C794.8,1024 1024,794.8 1024,512 C1024,229.2 794.8,0 512,0 L512,0 Z M832,723.3 C832,751.6 821.4,777.5 801.3,798.2 L800.9,798.6 L800.5,799 C773.2,826.3 744.4,832 725,832 L298.8,832 C279.6,832 251.1,826.3 223.6,799.3 L223.2,798.9 C202.7,778.4 191.9,752.3 191.9,723.2 L191.9,488.7 C191.9,460.3 202.5,434.4 222.5,413.8 L222.9,413.4 L223.3,413 C241.3,395 261.5,388.2 277.1,385.6 L277.1,363.2 C277.1,299.2 300.3,243.4 346.2,197.4 C368.8,174.7 394.4,157.2 422.1,145.6 C450,133.9 480.2,128 512.1,128 C543.9,128 574.2,133.9 602.1,145.6 C629.9,157.2 655.5,174.7 678.1,197.4 C723.7,243.2 746.9,299 746.9,363.2 L746.9,385.7 C767.9,389.3 785.9,398.3 800.6,412.7 C821.2,433 832.1,459.3 832.1,488.7 L832,723.3 Z M755.6,458.4 C747.2,450.1 737.2,448 725.3,448 L682.8,448 L682.8,363.2 C682.8,316.3 666.3,276.3 632.7,242.5 C599.1,208.8 558.8,192 512,192 C465.2,192 425.1,208.8 391.5,242.5 C357.9,276.2 341.1,316.1 341.1,363.2 L341.1,448 L298.8,448 C286.9,448 276.8,450 268.5,458.3 C260.2,466.8 256,476.8 256,488.7 L256,723.4 C256,735.4 260.3,745.5 268.5,753.8 C276.9,762.1 286.9,768.1 298.8,768.1 L725.1,768.1 C737,768.1 747.1,762.1 755.4,753.8 C763.7,745.3 768.1,735.3 768.1,723.4 L768.1,488.8 C768,476.8 764,466.7 755.6,458.4 L755.6,458.4 Z M597.3,448 L426.7,448 L426.7,364.9 C426.7,341.4 435.1,321.2 451.6,304.6 C468.3,287.9 488.4,279.5 512,279.5 C535.6,279.5 555.9,287.8 572.3,304.4 C589,321.1 597.4,341.2 597.4,364.8 L597.4,448 L597.3,448 Z',\n  yOffset: 0,\n  xOffset: 0,\n};\n\nexport const PrivateIcon = createIcon(PrivateIconConfig);\n\nexport default PrivateIcon;","import { createIcon } from '../createIcon';\n\nexport const RedoIconConfig = {\n  name: 'RedoIcon',\n  height: 512,\n  width: 512,\n  svgPath: 'M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z',\n  yOffset: 0,\n  xOffset: 0,\n};\n\nexport const RedoIcon = createIcon(RedoIconConfig);\n\nexport default RedoIcon;","import { getSourcesApi } from './entities';\n\nexport const checkSourceStatus = (id) =>\n  getSourcesApi()\n    .checkAvailabilitySource(id)\n    .catch(() => {});\n\nexport default checkSourceStatus;\n","import { defaultPort } from '../views/formatters';\nimport { getSourcesApi } from './entities';\n\nexport const parseUrl = (url) => {\n  if (url === null) {\n    return {\n      scheme: null,\n      host: null,\n      port: null,\n      path: null,\n    };\n  }\n\n  if (!url) {\n    return {};\n  }\n\n  try {\n    const u = new URL(url);\n    const scheme = u.protocol.replace(/:$/, '');\n\n    return {\n      scheme,\n      host: u.hostname,\n      port: u.port === '' ? defaultPort(scheme) : u.port,\n      path: u.pathname,\n    };\n  } catch (error) {\n    return {};\n  }\n};\n\nexport const urlOrHost = (formData) =>\n  formData.url || formData.url === null ? parseUrl(formData.url) : formData.endpoint ? formData.endpoint : formData;\n\nexport const doUpdateSource = (source, formData, values) => {\n  const promises = [];\n\n  if (formData.source) {\n    promises.push(getSourcesApi().updateSource(source.source.id, formData.source));\n  }\n\n  if (formData.endpoint || formData.url || formData.url === null) {\n    const { scheme, host, port, path } = urlOrHost(formData);\n    const endPointPort = port === null ? null : parseInt(port, 10);\n\n    const endpointData = {\n      scheme,\n      host,\n      path,\n      port: endPointPort === null ? null : isNaN(endPointPort) ? undefined : endPointPort,\n      ...formData.endpoint,\n    };\n\n    promises.push(getSourcesApi().updateEndpoint(source.endpoints[0].id, endpointData));\n  }\n\n  if (formData.authentications) {\n    Object.keys(formData.authentications).forEach((key) => {\n      const idWithoutPrefix = key.replace('a', '');\n\n      promises.push(getSourcesApi().updateAuthentication(idWithoutPrefix, formData.authentications[key]));\n    });\n  }\n\n  if (formData.applications) {\n    Object.keys(formData.applications).forEach((key) => {\n      const idWithoutPrefix = key.replace('a', '');\n\n      promises.push(getSourcesApi().updateApplication(idWithoutPrefix, { extra: values.applications[key].extra }));\n    });\n  }\n\n  return Promise.all(promises);\n};\n","import { getSourcesApi } from './entities';\nimport { delay } from './delay';\n\nexport const checkAppAvailability = (id, timeout = 10000, interval = 1000, entity = 'showApplication', updatedTime) =>\n  new Promise((res, rej) => {\n    const start = Date.now();\n\n    const checkSource = () =>\n      // eslint-disable-next-line prettier/prettier\n      getSourcesApi()[entity](id)\n        .then((data) => {\n          const isTimeOuted = Date.now() - start >= timeout;\n\n          if (isTimeOuted) {\n            if (updatedTime) {\n              return {\n                ...data,\n                availability_status: null,\n                availability_status_error: null,\n              };\n            }\n\n            return data;\n          }\n\n          if (data.availability_status === 'available' || data.availability_status === 'unavailable') {\n            if (updatedTime && new Date(data.last_checked_at || data.updated_at) > updatedTime) {\n              return data;\n            }\n\n            if (!updatedTime) {\n              return data;\n            }\n          }\n\n          return delay(interval).then(() => checkSource());\n        });\n\n    return checkSource()\n      .then((data) => res(data))\n      .catch((error) => rej(error));\n  });\n","export const delay = (interval, prms) => {\n  return new Promise((resolve) => {\n    setTimeout(resolve.bind(null, prms), interval);\n  });\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\n\nimport {\n  Bullseye,\n  Button,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStateSecondaryActions,\n  EmptyStateVariant,\n  Title,\n} from '@patternfly/react-core';\n\nimport ExclamationCircleIcon from '@patternfly/react-icons/dist/esm/icons/exclamation-circle-icon';\n\nconst ErroredStep = ({ onClose, returnButtonTitle, message, title, customText, primaryAction, secondaryActions, Component }) => (\n  <Bullseye>\n    <EmptyState variant={EmptyStateVariant.full} className=\"pf-u-mt-4xl\">\n      <EmptyStateIcon icon={ExclamationCircleIcon} color=\"var(--pf-global--danger-color--100)\" className=\"pf-u-mb-0\" />\n      <Title headingLevel=\"h2\" size=\"xl\" className=\"pf-u-mt-xl\">\n        {title}\n      </Title>\n      <EmptyStateBody className=\"src-c-wizard--step-text\">{message || customText}</EmptyStateBody>\n      <Component variant=\"primary\" onClick={primaryAction || onClose}>\n        {returnButtonTitle}\n      </Component>\n      {secondaryActions && <EmptyStateSecondaryActions className=\"pf-u-mt-sm\">{secondaryActions}</EmptyStateSecondaryActions>}\n    </EmptyState>\n  </Bullseye>\n);\n\nErroredStep.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  returnButtonTitle: PropTypes.node,\n  message: PropTypes.node,\n  title: PropTypes.node,\n  customText: PropTypes.node,\n  primaryAction: PropTypes.func,\n  secondaryActions: PropTypes.node,\n  Component: PropTypes.elementType,\n};\n\nErroredStep.defaultProps = {\n  title: <FormattedMessage id=\"wizard.unsuccConfiguration\" defaultMessage=\"Something went wrong\" />,\n  // eslint-disable-next-line max-len\n  customText: (\n    <FormattedMessage\n      id=\"wizard.errorText\"\n      defaultMessage=\"There was a problem while trying to add your source. Please try again. If the error persists, open a support case.\"\n    />\n  ),\n  Component: Button,\n};\n\nexport default ErroredStep;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\n\nimport {\n  Bullseye,\n  Button,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStateSecondaryActions,\n  EmptyStateVariant,\n  Spinner,\n  Title,\n} from '@patternfly/react-core';\n\nconst LoadingStep = ({ onClose, customText, cancelTitle, description }) => (\n  <Bullseye>\n    <EmptyState variant={EmptyStateVariant.full} className=\"pf-u-mt-4xl\">\n      <EmptyStateIcon icon={Spinner} className=\"pf-u-mb-0\" />\n      <Title headingLevel=\"h2\" size=\"xl\" className=\"pf-u-mt-xl\">\n        {customText}\n      </Title>\n      {description && <EmptyStateBody className=\"src-c-wizard--step-text\">{description}</EmptyStateBody>}\n      {onClose && (\n        <EmptyStateSecondaryActions className=\"pf-u-mt-xl\">\n          <Button variant=\"link\" onClick={onClose}>\n            {cancelTitle}\n          </Button>\n        </EmptyStateSecondaryActions>\n      )}\n    </EmptyState>\n  </Bullseye>\n);\n\nLoadingStep.propTypes = {\n  onClose: PropTypes.func,\n  customText: PropTypes.node,\n  cancelTitle: PropTypes.node,\n  description: PropTypes.node,\n};\n\nLoadingStep.defaultProps = {\n  customText: <FormattedMessage id=\"wizard.loadingText\" defaultMessage=\"Loading, please wait.\" />,\n  cancelTitle: <FormattedMessage id=\"wizard.cancelText\" defaultMessage=\"Cancel\" />,\n};\n\nexport default LoadingStep;\n","import { useNavigate } from 'react-router-dom';\nimport { linkBasename, mergeToBasename } from '../utilities/utils';\n\nexport const useAppNavigate = () => {\n  const navigate = useNavigate();\n\n  return (to, options) => {\n    return navigate(mergeToBasename(to, linkBasename), options);\n  };\n};\n","import React, { useState } from 'react';\nimport propTypes from 'prop-types';\nimport { useIntl } from 'react-intl';\nimport { useDispatch } from 'react-redux';\n\nimport RedoIcon from '@patternfly/react-icons/dist/esm/icons/redo-icon';\nimport { Button, Spinner } from '@patternfly/react-core';\n\nimport { useSource } from '../../hooks/useSource';\nimport checkSourceStatus from '../../api/checkSourceStatus';\nimport { addMessage } from '../../redux/sources/actions';\n\nconst AvailabilityChecker = ({ setCheckPending }) => {\n  const source = useSource();\n  const intl = useIntl();\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n\n  return (\n    <Button\n      variant=\"plain\"\n      aria-label={intl.formatMessage({ id: 'sources.checkavailability', defaultMessage: 'Check source availability' })}\n      onClick={async () => {\n        setCheckPending && setCheckPending();\n        setLoading(true);\n        await checkSourceStatus(source.id);\n        setLoading(false);\n        dispatch(\n          addMessage({\n            title: intl.formatMessage({\n              id: 'sources.checkavailability.notificationTitle',\n              defaultMessage: 'Request to check source status was sent',\n            }),\n            variant: 'info',\n            description: intl.formatMessage({\n              id: 'sources.checkavailability.notificationDescription',\n              defaultMessage: 'Check this page later for updates',\n            }),\n          })\n        );\n      }}\n      isDisabled={loading}\n    >\n      {!loading && <RedoIcon data-testid=\"RedoIcon\" />}\n      {loading && <Spinner size=\"md\" />}\n    </Button>\n  );\n};\n\nAvailabilityChecker.propTypes = {\n  setCheckPending: propTypes.func,\n};\n\nexport default AvailabilityChecker;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport {\n  Card,\n  CardBody,\n  CardTitle,\n  DescriptionList,\n  DescriptionListDescription,\n  DescriptionListGroup,\n  DescriptionListTerm,\n} from '@patternfly/react-core';\n\nimport { useSource } from '../../hooks/useSource';\nimport { configurationModeFormatter, dateFormatter, sourceTypeFormatter } from '../../views/formatters';\nimport AvailabilityChecker from './AvailabilityChecker';\nimport { setCheckPenging } from '../../redux/sources/actions';\n\nconst DescriptionListItem = ({ term, description }) => (\n  <DescriptionListGroup>\n    <DescriptionListTerm>{term}</DescriptionListTerm>\n    <DescriptionListDescription>{description}</DescriptionListDescription>\n  </DescriptionListGroup>\n);\n\nDescriptionListItem.propTypes = {\n  term: PropTypes.node,\n  description: PropTypes.node,\n};\n\nconst SourceSummaryCard = () => {\n  const dispatch = useDispatch();\n  const intl = useIntl();\n  const source = useSource();\n  const sourceTypes = useSelector(({ sources }) => sources.sourceTypes, shallowEqual);\n  const type = sourceTypes.find((type) => type.id === source.source_type_id);\n\n  let awsAccountNumber;\n\n  if (type?.name === 'amazon') {\n    const arnType = source.authentications?.find(({ authtype }) => authtype.includes('arn'));\n\n    if (arnType?.username) {\n      awsAccountNumber = arnType.username.match(/:\\d+/)?.[0]?.replace(/:/g, '');\n    }\n  }\n\n  return (\n    <Card className=\"pf-m-selectable pf-m-selected src-c-card-summary pf-u-m-lg pf-u-mr-sm-on-md\">\n      <CardTitle>\n        {intl.formatMessage({\n          id: 'detail.summary.title',\n          defaultMessage: 'Source summary',\n        })}\n      </CardTitle>\n      <CardBody>\n        <DescriptionList\n          columnModifier={{\n            default: '2Col',\n          }}\n        >\n          <DescriptionListItem\n            term={intl.formatMessage({\n              id: 'detail.summary.type',\n              defaultMessage: 'Source type',\n            })}\n            description={sourceTypeFormatter(source.source_type_id, undefined, { sourceTypes })}\n          />\n          <DescriptionListItem\n            term={intl.formatMessage({\n              id: 'detail.summary.lastChecked',\n              defaultMessage: 'Last availability check',\n            })}\n            description={\n              <React.Fragment>\n                {source.isCheckPending || !(source.last_checked_at || source.last_available_at)\n                  ? intl.formatMessage({\n                      id: 'detail.summary.waitingForUpdate',\n                      defaultMessage: 'Waiting for update',\n                    })\n                  : dateFormatter(source.last_checked_at || source.last_available_at)}\n                <AvailabilityChecker setCheckPending={() => dispatch(setCheckPenging(source.id))} />\n              </React.Fragment>\n            }\n          />\n          <DescriptionListItem\n            term={intl.formatMessage({\n              id: 'detail.summary.dateAdded',\n              defaultMessage: 'Date added',\n            })}\n            description={dateFormatter(source.created_at)}\n          />\n          <DescriptionListItem\n            term={intl.formatMessage({\n              id: 'detail.summary.lastModified',\n              defaultMessage: 'Last modified',\n            })}\n            description={dateFormatter(source.updated_at)}\n          />\n          {source.app_creation_workflow && (\n            <DescriptionListItem\n              term={intl.formatMessage({\n                id: 'detail.summary.configurationMode',\n                defaultMessage: 'Configuration mode',\n              })}\n              description={configurationModeFormatter(source.app_creation_workflow, source, { intl, sourceType: type })}\n            />\n          )}\n          {awsAccountNumber && (\n            <DescriptionListItem\n              term={intl.formatMessage({\n                id: 'detail.summary.awsAccountNumber',\n                defaultMessage: 'AWS account number',\n              })}\n              description={awsAccountNumber}\n            />\n          )}\n        </DescriptionList>\n      </CardBody>\n    </Card>\n  );\n};\n\nexport default SourceSummaryCard;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useIntl } from 'react-intl';\nimport { useSelector } from 'react-redux';\n\nimport { Dropdown, DropdownItem, KebabToggle } from '@patternfly/react-core';\n\nimport { replaceRouteId, routes } from '../../Routing';\nimport { useHasWritePermissions } from '../../hooks/useHasWritePermissions';\nimport { useSource } from '../../hooks/useSource';\nimport disabledTooltipProps from '../../utilities/disabledTooltipProps';\nimport AppLink from '../AppLink';\n\nconst ApplicationKebab = ({ app, removeApp, addApp }) => {\n  const [isOpen, setOpen] = useState(false);\n  const intl = useIntl();\n  const source = useSource();\n  const hasRightAccess = useHasWritePermissions();\n  const isOrgAdmin = useSelector(({ user }) => user.isOrgAdmin);\n\n  const wrappedFunction = (func) => () => {\n    setOpen(false);\n    func();\n  };\n\n  const disabledProps = disabledTooltipProps(intl, isOrgAdmin);\n\n  const pausedTooltip = intl.formatMessage({\n    id: 'sources.pausedSourceAction',\n    defaultMessage: 'You cannot perform this action on a paused source.',\n  });\n\n  const pausedProps = {\n    ...disabledProps,\n    tooltip: pausedTooltip,\n  };\n\n  const pausedButton = app.paused_at ? (\n    <DropdownItem\n      {...(source.paused_at && pausedProps)}\n      {...(!hasRightAccess && disabledProps)}\n      key=\"resume\"\n      description={intl.formatMessage({\n        id: 'app.kebab.resume.title',\n        defaultMessage: 'Resume data collection for this application.',\n      })}\n      onClick={wrappedFunction(addApp)}\n    >\n      {intl.formatMessage({\n        id: 'app.kebab.resume.button',\n        defaultMessage: 'Resume',\n      })}\n    </DropdownItem>\n  ) : (\n    <DropdownItem\n      {...(source.paused_at && pausedProps)}\n      {...(!hasRightAccess && disabledProps)}\n      key=\"pause\"\n      description={intl.formatMessage({\n        id: 'app.kebab.pause.title',\n        defaultMessage: 'Temporarily stop this application from collecting data.',\n      })}\n      onClick={wrappedFunction(removeApp)}\n    >\n      {intl.formatMessage({\n        id: 'app.kebab.pause.button',\n        defaultMessage: 'Pause',\n      })}\n    </DropdownItem>\n  );\n  const removedButton = (\n    <DropdownItem\n      {...(source.paused_at && pausedProps)}\n      {...(!hasRightAccess && disabledProps)}\n      key=\"remove\"\n      description={intl.formatMessage({\n        id: 'app.kebab.remove.title',\n        defaultMessage: 'Permanently stop data collection for this application.',\n      })}\n      to={replaceRouteId(routes.sourcesDetailRemoveApp.path, source.id).replace(':app_id', app.id)}\n      component={AppLink}\n    >\n      {intl.formatMessage({\n        id: 'app.kebab.pause.button',\n        defaultMessage: 'Remove',\n      })}\n    </DropdownItem>\n  );\n\n  return (\n    <Dropdown\n      isPlain\n      isOpen={isOpen}\n      position=\"right\"\n      dropdownItems={[pausedButton, removedButton]}\n      className=\"src-c-dropdown__application_kebab\"\n      toggle={<KebabToggle onToggle={() => setOpen((open) => !open)} />}\n    />\n  );\n};\n\nApplicationKebab.propTypes = {\n  app: PropTypes.shape({\n    id: PropTypes.string,\n    paused_at: PropTypes.string,\n  }).isRequired,\n  removeApp: PropTypes.func,\n  addApp: PropTypes.func,\n};\n\nexport default ApplicationKebab;\n","import React, { Fragment, useReducer } from 'react';\nimport { useIntl } from 'react-intl';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\n\nimport { Card, CardBody, CardTitle, FormGroup, Skeleton, Switch, Tooltip } from '@patternfly/react-core';\n\nimport PauseIcon from '@patternfly/react-icons/dist/esm/icons/pause-icon';\nimport PlayIcon from '@patternfly/react-icons/dist/esm/icons/play-icon';\n\nimport { useSource } from '../../hooks/useSource';\nimport { replaceRouteId, routes } from '../../Routing';\nimport { useHasWritePermissions } from '../../hooks/useHasWritePermissions';\nimport isSuperKey from '../../utilities/isSuperKey';\nimport { doCreateApplication, getSourcesApi } from '../../api/entities';\nimport { addMessage, loadEntities } from '../../redux/sources/actions';\nimport filterApps from '../../utilities/filterApps';\nimport ApplicationKebab from './ApplicationKebab';\nimport { ApplicationLabel } from '../../views/formatters';\nimport handleError from '../../api/handleError';\nimport tryAgainMessage from '../../utilities/tryAgainMessage';\nimport { disabledMessage } from '../../utilities/disabledTooltipProps';\nimport { COST_MANAGEMENT_APP_ID, HCS_APP_NAME } from '../../utilities/constants';\nimport { useAppNavigate } from '../../hooks/useAppNavigate';\n\nconst initialState = {\n  selectedApps: {},\n};\n\nconst reducer = (state, { type, id }) => {\n  switch (type) {\n    case 'addApp':\n      return { ...state, selectedApps: { ...state.selectedApps, [id]: true } };\n    case 'removeApp':\n      return { ...state, selectedApps: { ...state.selectedApps, [id]: false } };\n    case 'clean':\n      return { ...state, selectedApps: { ...state.selectedApps, [id]: undefined } };\n  }\n};\n\nconst addResumeNotification = (typeId, dispatch, intl, appTypes) => {\n  const appName = appTypes.find((type) => type.id === typeId)?.display_name;\n\n  dispatch(\n    addMessage({\n      title: intl.formatMessage(\n        {\n          id: 'detail.applications.resumed.alert.title',\n          defaultMessage: '{appName} connection resumed',\n        },\n        { appName }\n      ),\n      variant: 'default',\n      customIcon: <PlayIcon />,\n    })\n  );\n};\n\nconst addPausedNotification = (typeId, dispatch, intl, appTypes) => {\n  const appName = appTypes.find((type) => type.id === typeId)?.display_name;\n\n  dispatch(\n    addMessage({\n      title: intl.formatMessage(\n        {\n          id: 'detail.applications.paused.alert.title',\n          defaultMessage: '{appName} connection paused',\n        },\n        { appName }\n      ),\n      description: intl.formatMessage(\n        {\n          id: 'detail.applications.paused.alert.description',\n          defaultMessage: 'Your application will not reflect the most recent data until {appName} connection is resumed',\n        },\n        { appName }\n      ),\n      variant: 'default',\n      customIcon: <PauseIcon />,\n    })\n  );\n};\n\nconst addErrorNotification = (dispatch, intl, action, error) => {\n  const title = {\n    create: intl.formatMessage({\n      id: 'detail.applications.add.error',\n      defaultMessage: 'Application create failed',\n    }),\n    pause: intl.formatMessage({\n      id: 'detail.applications.pause.error',\n      defaultMessage: 'Application pause failed',\n    }),\n    resume: intl.formatMessage({\n      id: 'detail.applications.resume.error',\n      defaultMessage: 'Application resume failed',\n    }),\n  }[action];\n\n  dispatch(\n    addMessage({\n      title,\n      description: tryAgainMessage(intl, handleError(error)),\n      variant: 'danger',\n    })\n  );\n};\n\nconst ApplicationsCard = () => {\n  const intl = useIntl();\n  const source = useSource();\n  const navigate = useAppNavigate();\n  const sourceTypes = useSelector(({ sources }) => sources.sourceTypes, shallowEqual);\n  const appTypes = useSelector(({ sources }) => sources.appTypes, shallowEqual);\n  const hcsEnrolled = useSelector(({ sources }) => sources.hcsEnrolled, shallowEqual);\n  const hcsEnrolledLoaded = useSelector(({ sources }) => sources.hcsEnrolledLoaded, shallowEqual);\n  const isOrgAdmin = useSelector(({ user }) => user.isOrgAdmin);\n  const hasRightAccess = useHasWritePermissions();\n  const dispatch = useDispatch();\n  const [{ selectedApps }, stateDispatch] = useReducer(reducer, initialState);\n\n  const sourceType = sourceTypes.find((type) => type.id === source.source_type_id);\n  const sourceTypeName = sourceType?.name;\n  const filteredAppTypes = appTypes.filter((type) => type.supported_source_types.includes(sourceTypeName)).filter(filterApps);\n\n  let addApp = async (id, isPaused) => {\n    if (!isPaused) {\n      navigate(replaceRouteId(routes.sourcesDetailAddApp.path, source.id).replace(':app_type_id', id));\n    } else {\n      if (typeof selectedApps[id] !== 'boolean') {\n        stateDispatch({ type: 'addApp', id });\n\n        try {\n          await getSourcesApi().unpauseApplication(isPaused);\n          addResumeNotification(id, dispatch, intl, appTypes);\n          await dispatch(loadEntities());\n        } catch (e) {\n          addErrorNotification(dispatch, intl, 'resume', e);\n        }\n\n        stateDispatch({ type: 'clean', id });\n      }\n    }\n  };\n\n  const removeApp = async (id, typeId) => {\n    if (typeof selectedApps[typeId] !== 'boolean') {\n      stateDispatch({ type: 'removeApp', id: typeId });\n      try {\n        await getSourcesApi().pauseApplication(id);\n        addPausedNotification(typeId, dispatch, intl, appTypes);\n        await dispatch(loadEntities());\n      } catch (e) {\n        addErrorNotification(dispatch, intl, 'pause', e);\n      }\n\n      stateDispatch({ type: 'clean', id: typeId });\n    }\n  };\n\n  if (isSuperKey(source)) {\n    addApp = async (id, isPaused) => {\n      if (typeof selectedApps[id] !== 'boolean') {\n        stateDispatch({ type: 'addApp', id });\n\n        if (isPaused) {\n          try {\n            await getSourcesApi().unpauseApplication(isPaused);\n            addResumeNotification(id, dispatch, intl, appTypes);\n            await dispatch(loadEntities());\n          } catch (e) {\n            addErrorNotification(dispatch, intl, 'resume', e);\n          }\n        } else {\n          try {\n            await doCreateApplication({ source_id: source.id, application_type_id: id });\n            await dispatch(loadEntities());\n          } catch (e) {\n            addErrorNotification(dispatch, intl, 'create', e);\n          }\n        }\n\n        stateDispatch({ type: 'clean', id });\n      }\n    };\n  }\n\n  return (\n    <Card className=\"src-c-card-applications pf-u-p-lg pf-u-pl-sm-on-md\">\n      <CardTitle>\n        {intl.formatMessage({\n          id: 'detail.applications.title',\n          defaultMessage: 'Applications',\n        })}\n      </CardTitle>\n      <CardBody>\n        <div className=\"pf-c-form src-c-applications_form\">\n          {filteredAppTypes.map((app) => {\n            const connectedApp = source.applications.find((connectedApp) => connectedApp.application_type_id === app.id);\n\n            const appExist = Boolean(connectedApp);\n            const isPaused = Boolean(connectedApp?.paused_at);\n\n            const pausedApp = isPaused ? false : appExist;\n\n            const isChecked = typeof selectedApps[app.id] === 'boolean' ? selectedApps[app.id] : pausedApp;\n\n            const Wrapper = hasRightAccess ? React.Fragment : Tooltip;\n\n            return (\n              <FormGroup key={app.id}>\n                <div className=\"src-c-application_flex\">\n                  {hcsEnrolledLoaded ? (\n                    <Fragment>\n                      <Wrapper {...(!hasRightAccess && { content: disabledMessage(intl, isOrgAdmin) })}>\n                        <Switch\n                          className=\"src-c-application_switch\"\n                          id={`app-switch-${app.id}`}\n                          label={app.id === COST_MANAGEMENT_APP_ID && hcsEnrolled ? HCS_APP_NAME : app.display_name}\n                          isChecked={isChecked}\n                          isDisabled={connectedApp?.isDeleting || !hasRightAccess || Boolean(source.paused_at)}\n                          onChange={(value) => (!value ? removeApp(connectedApp.id, app.id) : addApp(app.id, connectedApp?.id))}\n                        />\n                      </Wrapper>\n                      {Boolean(connectedApp) && (\n                        <ApplicationLabel className=\"pf-u-ml-sm src-m-clickable\" app={connectedApp} showStatusText />\n                      )}\n                      {(isPaused || appExist) && (\n                        <ApplicationKebab\n                          app={connectedApp}\n                          removeApp={() => removeApp(connectedApp.id, app.id)}\n                          addApp={() => addApp(app.id, connectedApp.id)}\n                        />\n                      )}\n                    </Fragment>\n                  ) : (\n                    <Skeleton width=\"75%\" />\n                  )}\n                </div>\n              </FormGroup>\n            );\n          })}\n        </div>\n      </CardBody>\n    </Card>\n  );\n};\n\nexport default ApplicationsCard;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\n\nimport { EmptyState, EmptyStateBody, EmptyStateIcon, Title } from '@patternfly/react-core';\nimport PlusCircleIcon from '@patternfly/react-icons/dist/esm/icons/plus-circle-icon';\n\nconst NoApplications = () => {\n  const intl = useIntl();\n\n  return (\n    <EmptyState>\n      <EmptyStateIcon icon={PlusCircleIcon} />\n      <Title headingLevel=\"h4\" size=\"lg\">\n        {intl.formatMessage({\n          id: 'detail.noapplications.title',\n          defaultMessage: 'No connected applications',\n        })}\n      </Title>\n      <EmptyStateBody className=\"src-c-empty-state__body\">\n        {intl.formatMessage({\n          id: 'detail.noapplications.description',\n          defaultMessage: 'You have not connected any applications to this source. Use the switches above to add applications.',\n        })}\n      </EmptyStateBody>\n    </EmptyState>\n  );\n};\n\nexport default NoApplications;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\nimport { useSelector } from 'react-redux';\n\nimport { EmptyState, EmptyStateBody, EmptyStateIcon, Title } from '@patternfly/react-core';\nimport PrivateIcon from '@patternfly/react-icons/dist/esm/icons/private-icon';\nimport { disabledMessage } from '../../utilities/disabledTooltipProps';\n\nconst NoPermissions = () => {\n  const intl = useIntl();\n  const isOrgAdmin = useSelector(({ user }) => user?.isOrgAdmin);\n\n  return (\n    <EmptyState>\n      <EmptyStateIcon icon={PrivateIcon} />\n      <Title headingLevel=\"h4\" size=\"lg\">\n        {intl.formatMessage({\n          id: 'detail.nopermissions.title',\n          defaultMessage: 'Missing permissions',\n        })}\n      </Title>\n      <EmptyStateBody className=\"src-c-empty-state__body\">{disabledMessage(intl, isOrgAdmin)}</EmptyStateBody>\n    </EmptyState>\n  );\n};\n\nexport default NoPermissions;\n","import { doLoadApplicationsForEdit, getSourcesApi } from './entities';\n\nexport const doLoadSourceForEdit = (source) =>\n  Promise.all([\n    getSourcesApi().showSource(source.id),\n    getSourcesApi().listSourceEndpoints(source.id),\n    doLoadApplicationsForEdit(source.id),\n  ]).then(async ([sourceData, endpoints, applications]) => {\n    const endpoint = endpoints && endpoints.data && endpoints.data[0];\n\n    const apps = applications?.sources[0]?.applications || [];\n\n    let basicValues = {\n      source: {\n        ...source,\n        ...sourceData,\n      },\n      applications: apps,\n    };\n\n    const promises = [];\n    let appAuths;\n    const addToApp = [];\n    const appAuthenticationIds = [];\n\n    apps.forEach((app) => {\n      app?.authentications?.forEach((auth) => {\n        if (auth?.id) {\n          promises.push(getSourcesApi().showAuthentication(auth.id));\n          addToApp.push(app.id);\n          appAuthenticationIds.push(auth.id);\n        }\n      });\n    });\n\n    if (promises.length > 0) {\n      appAuths = await Promise.all(promises);\n\n      addToApp.forEach((id, index) => {\n        basicValues.applications.find((app) => app.id === id).authentications.push(appAuths[index]);\n      });\n    }\n\n    if (!endpoint) {\n      return basicValues;\n    }\n\n    return getSourcesApi()\n      .listEndpointAuthentications(endpoint.id)\n      .then((authentications) => ({\n        ...basicValues,\n        endpoints: endpoints.data,\n        authentications: authentications.data.filter(({ id }) => !appAuthenticationIds.includes(id)),\n      }));\n  });\n","import React from 'react';\nimport PauseIcon from '@patternfly/react-icons/dist/esm/icons/pause-icon';\nimport { bold } from './intlShared';\n\nexport const pausedAppAlert = (intl, application) => ({\n  title: intl.formatMessage(\n    {\n      id: 'wizard.pausedApplication',\n      defaultMessage: '{application} is paused',\n    },\n    { application }\n  ),\n  description: intl.formatMessage(\n    {\n      id: 'wizard.pausedApplicationDescription',\n      defaultMessage:\n        'To resume data collection for this application, switch {application} on in the <b>Applications</b> section of this page.',\n    },\n    { application, b: bold }\n  ),\n  variant: 'default',\n  customIcon: <PauseIcon />,\n});\n","import get from 'lodash/get';\nimport set from 'lodash/set';\n\nimport { UNAVAILABLE, endpointToUrl } from '../../views/formatters';\nimport { pausedAppAlert } from '../../utilities/alerts';\n\nexport const CHECK_ENDPOINT_COMMAND = 'check-endpoint';\n\nexport const selectOnlyEditedValues = (values, editing) => {\n  const filteredValues = {};\n\n  Object.keys(editing)\n    .filter((key) => editing[key])\n    .forEach((key) => {\n      set(filteredValues, key, get(values, key));\n    });\n\n  return filteredValues;\n};\n\nexport const prepareInitialValues = ({ endpoints, authentications, applications, ...rest }, sourceTypeName) => {\n  const auhenticationsFinal = {};\n\n  const mergeAuths = [\n    ...(authentications || []),\n    ...(applications?.reduce((acc, curr) => [...acc, ...curr.authentications], []) || []),\n  ];\n\n  if (mergeAuths.length > 0) {\n    mergeAuths.forEach((auth) => {\n      auhenticationsFinal[`a${auth.id}`] = auth;\n    });\n  }\n\n  let endpoint;\n  let url;\n\n  if (endpoints && endpoints.length > 0) {\n    endpoint = endpoints[0];\n  }\n\n  if (endpoint) {\n    url = endpoint.scheme || endpoint.host || endpoint.path || endpoint.port ? endpointToUrl(endpoint) : undefined;\n  }\n\n  const applicationsFinal = {};\n  if (applications?.length > 0) {\n    applications.forEach((app) => {\n      if (app.extra && Object.keys(app.extra).length > 0) {\n        applicationsFinal[`a${app.id}`] = { extra: app.extra };\n      }\n    });\n  }\n\n  return {\n    source_type: sourceTypeName,\n    endpoint,\n    authentications: auhenticationsFinal,\n    url,\n    ...(Object.keys(applicationsFinal).length && {\n      applications: applicationsFinal,\n    }),\n    ...rest,\n  };\n};\n\nconst addIfUnique = (array, item) => !array.includes(item) && array.push(item);\n\nexport const getEditedApplications = (source, editing) => {\n  const editedApplications = [];\n\n  const editedFields = Object.keys(editing);\n\n  editedFields.forEach((key) => {\n    if (editing[key]) {\n      const editedId = key.match(/.a\\d+/)?.[0]?.replace('.a', '');\n\n      if (key.startsWith('applications')) {\n        addIfUnique(editedApplications, editedId);\n      }\n\n      if (key.startsWith('authentications')) {\n        source.applications.forEach((app) =>\n          app.authentications.forEach(\n            ({ id, resource_type }) =>\n              resource_type &&\n              id === editedId &&\n              addIfUnique(editedApplications, resource_type === 'Application' ? app.id : `${CHECK_ENDPOINT_COMMAND}-${app.id}`)\n          )\n        );\n      }\n\n      if (key.startsWith('url') || key.startsWith('endpoint')) {\n        source.applications.forEach((app) =>\n          app.authentications.forEach(\n            ({ resource_type }) =>\n              resource_type === 'Endpoint' && addIfUnique(editedApplications, `${CHECK_ENDPOINT_COMMAND}-${app.id}`)\n          )\n        );\n      }\n    }\n  });\n\n  return editedApplications.filter(Boolean);\n};\n\nexport const prepareMessages = (source, intl, appTypes) => {\n  const messages = {};\n\n  source.applications.forEach(({ id, application_type_id, availability_status_error, availability_status, paused_at }) => {\n    if (paused_at) {\n      const application = appTypes.find((type) => type.id === application_type_id)?.display_name || id;\n      messages[id] = pausedAppAlert(intl, application);\n    } else if (availability_status === UNAVAILABLE) {\n      messages[id] = {\n        title: intl.formatMessage({\n          id: 'wizard.failEditToastTitleBeforeEdit',\n          defaultMessage: 'This application is unavailable',\n        }),\n        description: availability_status_error,\n        variant: 'danger',\n      };\n    }\n  });\n\n  if (source.endpoints?.[0]?.availability_status_error) {\n    const applicationsUsingEndpoint = source.applications\n      .map((app) =>\n        app.authentications.find(({ resource_type }) => !app.paused_at && resource_type === 'Endpoint') ? app.id : undefined\n      )\n      .filter(Boolean);\n\n    applicationsUsingEndpoint.forEach((id) => {\n      messages[id] = {\n        title: intl.formatMessage({\n          id: 'wizard.failEditToastTitleBeforeEdit',\n          defaultMessage: 'This application is unavailable',\n        }),\n        description: source.endpoints?.[0]?.availability_status_error,\n        variant: 'danger',\n      };\n    });\n  }\n\n  return messages;\n};\n","import { CHECK_ENDPOINT_COMMAND, getEditedApplications, selectOnlyEditedValues } from './helpers';\nimport { loadEntities } from '../../redux/sources/actions';\nimport { checkSourceStatus } from '../../api/checkSourceStatus';\nimport { doUpdateSource } from '../../api/doUpdateSource';\nimport { checkAppAvailability } from '../../api/getApplicationStatus';\n\nimport { AVAILABLE, IN_PROGRESS, UNAVAILABLE } from '../../views/formatters';\n\nexport const onSubmit = async (values, editing, dispatch, source, intl, setState) => {\n  setState({ type: 'submit', values, editing });\n\n  const startDate = new Date();\n\n  try {\n    await doUpdateSource(source, selectOnlyEditedValues(values, editing), values);\n  } catch {\n    await dispatch(loadEntities());\n    setState({ type: 'submitFailed' });\n\n    return;\n  }\n\n  checkSourceStatus(source.source.id);\n\n  let messages = {};\n\n  const checkApplications = getEditedApplications(source, editing);\n\n  const promises = [];\n\n  checkApplications.forEach((checkInfo) => {\n    if (checkInfo.includes(CHECK_ENDPOINT_COMMAND)) {\n      promises.push(\n        checkAppAvailability(source.endpoints[0].id, undefined, undefined, 'getEndpoint', startDate).then((data) => ({\n          ...data,\n          id: checkInfo.replace(`${CHECK_ENDPOINT_COMMAND}-`, ''),\n        }))\n      );\n    } else {\n      promises.push(checkAppAvailability(checkInfo, undefined, undefined, undefined, startDate));\n    }\n  });\n\n  let statusResults;\n  if (promises.length > 0) {\n    try {\n      statusResults = await Promise.all(promises);\n    } catch (error) {\n      await dispatch(loadEntities());\n      setState({ type: 'submitFailed' });\n      return;\n    }\n\n    statusResults.forEach(({ availability_status, availability_status_error, id }) => {\n      if (availability_status === AVAILABLE) {\n        messages[id] = {\n          title: intl.formatMessage({\n            id: 'wizard.successEditToastTitle',\n            defaultMessage: 'Application credentials were edited successfully.',\n          }),\n          description: availability_status_error,\n          variant: 'success',\n        };\n      }\n\n      if (availability_status === UNAVAILABLE) {\n        messages[id] = {\n          title: intl.formatMessage({\n            id: 'wizard.failEditToastTitle',\n            defaultMessage: 'Edit application credentials failed.',\n          }),\n          description: availability_status_error,\n          variant: 'danger',\n        };\n      }\n\n      if (!availability_status || availability_status === IN_PROGRESS) {\n        messages[id] = {\n          title: intl.formatMessage({\n            id: 'wizard.timeoutEditToastTitle',\n            defaultMessage: 'Edit in progress',\n          }),\n          description: intl.formatMessage({\n            id: 'wizard.timeoutEditToastDescription',\n            defaultMessage:\n              'We are still working to confirm your updated credentials. Changes will be reflected in this table when complete.',\n          }),\n          variant: 'warning',\n        };\n      }\n    });\n  }\n\n  await dispatch(loadEntities());\n  setState({ type: 'submitFinished', messages });\n};\n","import get from 'lodash/get';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/validator-types';\nimport hardcodedSchemas from '../../../components/addSourceWizard/hardcodedSchemas';\nimport { doLoadRegions } from '../../../api/doLoadRegions';\n\nexport const createAuthFieldName = (fieldName, id) => `authentications.a${id}.${fieldName.replace('authentication.', '')}`;\n\nexport const createAuthAppFieldName = (fieldName, id) => `applications.a${id}.${fieldName.replace('application.', '')}`;\n\nexport const getLastPartOfName = (fieldName) => fieldName.split('.').pop();\n\nexport const removeRequiredValidator = (validate = []) =>\n  validate.filter((validation) => validation.type !== validatorTypes.REQUIRED && validation.type !== 'required-validator');\n\nexport const getEnhancedAuthField = (sourceType, authtype, name, appName = 'generic') =>\n  get(hardcodedSchemas, [sourceType, 'authentication', authtype, appName, name], {});\n\nexport const getAdditionalAuthSteps = (sourceType, authtype, appName = 'generic') =>\n  get(hardcodedSchemas, [sourceType, 'authentication', authtype, appName, 'additionalSteps'], []);\n\nexport const getAdditionalAuthStepsKeys = (sourceType, authtype, appName = 'generic') =>\n  get(hardcodedSchemas, [sourceType, 'authentication', authtype, appName, 'includeStepKeyFields'], []);\n\nexport const getAdditionalFields = (auth, stepKey) => auth?.fields?.filter((field) => stepKey && field.stepKey === stepKey) || [];\n\nexport const modifyAuthSchemas = (fields, id, appId) =>\n  fields.map((field) => {\n    let editedName = field.name.startsWith('authentication')\n      ? createAuthFieldName(field.name, id)\n      : field.name.startsWith('application')\n      ? createAuthAppFieldName(field.name, appId)\n      : field.name;\n\n    const finalField = {\n      ...field,\n      name: editedName,\n    };\n\n    const isPassword = getLastPartOfName(finalField.name) === 'password';\n    const isAwsRegion = getLastPartOfName(finalField.name) === 'bucket_region' && finalField.label.includes('AWS');\n\n    if (isPassword) {\n      finalField.component = 'authentication';\n    }\n\n    if (isAwsRegion) {\n      finalField.loadOptions = () => doLoadRegions().then((data) => data.map((item) => ({ value: item, label: item })));\n    }\n\n    return finalField;\n  });\n\nexport const authenticationFields = (authentications, sourceType, appName, appId) => {\n  if (!authentications || authentications.length === 0 || !sourceType.schema || !sourceType.schema.authentication) {\n    return [];\n  }\n\n  return authentications.map((auth) => {\n    const schemaAuth = sourceType?.schema?.authentication?.find(({ type }) => type === auth.authtype);\n\n    if (!schemaAuth) {\n      return [];\n    }\n\n    const additionalStepKeys = getAdditionalAuthStepsKeys(sourceType.name, auth.authtype, appName);\n    const additionalStepsFields = getAdditionalAuthSteps(sourceType.name, auth.authtype, appName)\n      ?.map((step) => ({\n        ...step,\n        fields: [...step.fields, ...getAdditionalFields(schemaAuth, step.name)],\n      }))\n      .map(({ fields }) => fields.map(({ name }) => name))\n      .flatMap((x) => x);\n\n    let enhancedFields = schemaAuth.fields\n      .filter(\n        (field) =>\n          additionalStepsFields.includes(field.name) ||\n          (!additionalStepsFields.length && !field.stepKey) ||\n          (field.stepKey && additionalStepKeys.includes(field.stepKey))\n      )\n      .map((field) => ({\n        ...field,\n        ...getEnhancedAuthField(sourceType.name, auth.authtype, field.name, appName),\n      }));\n\n    return modifyAuthSchemas(enhancedFields, auth.id, appId);\n  });\n};\n","import get from 'lodash/get';\nimport componentTypes from '@data-driven-forms/react-form-renderer/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/validator-types';\n\nimport hardcodedSchemas from '../../../components/addSourceWizard/hardcodedSchemas';\n\nexport const getEnhancedEndpointField = (sourceType, name) => get(hardcodedSchemas, [sourceType, 'endpoint', name], {});\n\nexport const endpointFields = (sourceType) => {\n  if (!sourceType.schema || !sourceType.schema.endpoint || sourceType.schema.endpoint.hidden) {\n    return undefined;\n  }\n\n  const schemaAuth = sourceType.schema.endpoint;\n\n  const enhancedFields = schemaAuth.fields.map((field) => ({\n    ...field,\n    ...getEnhancedEndpointField(sourceType.name, field.name),\n  }));\n\n  const modifiedFields = enhancedFields;\n\n  const subForm = {\n    component: componentTypes.SUB_FORM,\n    name: 'endpoint',\n  };\n\n  if (sourceType.name === 'ansible-tower') {\n    const url = modifiedFields.find(({ name }) => name === 'url');\n\n    return {\n      ...subForm,\n      fields: [\n        {\n          component: componentTypes.SUB_FORM,\n          name: 'receptor_node_group',\n          condition: {\n            when: 'endpoint.receptor_node',\n            isNotEmpty: true,\n          },\n          fields: [\n            {\n              ...url,\n              isRequired: false,\n              validate: url?.validate?.filter((validation) => validation.type !== validatorTypes.REQUIRED),\n            },\n          ],\n        },\n        {\n          component: componentTypes.SUB_FORM,\n          name: 'hostname_group',\n          condition: {\n            when: 'endpoint.receptor_node',\n            isEmpty: true,\n          },\n          fields: modifiedFields,\n        },\n      ],\n    };\n  }\n\n  return {\n    ...subForm,\n    fields: modifiedFields,\n  };\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\n\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\n\nimport { Alert } from '@patternfly/react-core';\n\nconst EditAlert = ({ name }) => {\n  const formOptions = useFormApi();\n\n  const { variant, title, description, customIcon } = get(formOptions.getState().values, name);\n\n  return (\n    <Alert variant={variant} isInline title={title} customIcon={customIcon}>\n      {description}\n    </Alert>\n  );\n};\n\nEditAlert.propTypes = {\n  name: PropTypes.string.isRequired,\n};\n\nexport default EditAlert;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useIntl } from 'react-intl';\n\nimport WrenchIcon from '@patternfly/react-icons/dist/esm/icons/wrench-icon';\n\nimport { Bullseye, EmptyState, EmptyStateBody, EmptyStateIcon, EmptyStateVariant, Title } from '@patternfly/react-core';\n\nexport const ResourcesEmptyState = ({ applicationName, message, Icon }) => {\n  const intl = useIntl();\n\n  return (\n    <Bullseye>\n      <EmptyState variant={EmptyStateVariant.small}>\n        <EmptyStateIcon icon={Icon} />\n        <Title headingLevel=\"h2\" size=\"lg\">\n          {intl.formatMessage({\n            id: 'resourceTable.emptyStateTitle',\n            defaultMessage: 'No application resources',\n          })}\n        </Title>\n        <EmptyStateBody>{intl.formatMessage(message, { applicationName })}</EmptyStateBody>\n      </EmptyState>\n    </Bullseye>\n  );\n};\n\nResourcesEmptyState.propTypes = {\n  applicationName: PropTypes.string.isRequired,\n  message: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    defaultMessage: PropTypes.string.isRequired,\n  }),\n  Icon: PropTypes.elementType,\n};\n\nResourcesEmptyState.defaultProps = {\n  message: {\n    id: 'resourceTable.emptyStateDescription',\n    defaultMessage: '{applicationName} resources will appear here when created.',\n  },\n  Icon: WrenchIcon,\n};\n\nexport default ResourcesEmptyState;\n","import componentTypes from '@data-driven-forms/react-form-renderer/component-types';\nimport PlusCircleIcon from '@patternfly/react-icons/dist/esm/icons/plus-circle-icon';\n\nimport { authenticationFields } from './authentication';\nimport { endpointFields } from './endpoint';\nimport EditAlert from './EditAlert';\nimport ResourcesEmptyState from '../../SourceDetail/ResourcesEmptyState';\n\nimport { COST_MANAGEMENT_APP_ID, HCS_APP_NAME } from '../../../utilities/constants';\n\nexport const APP_NAMES = {\n  COST_MANAGAMENT: '/insights/platform/cost-management',\n  CLOUD_METER: '/insights/platform/cloud-meter',\n};\n\nconst createOneAppFields = (appType, sourceType, app) => [\n  {\n    name: `messages.${app.id}`,\n    component: 'description',\n    Content: EditAlert,\n    condition: {\n      when: ({ name }) => name,\n      isNotEmpty: true,\n    },\n  },\n  ...authenticationFields(\n    app.authentications?.filter((auth) => Object.keys(auth).length > 1),\n    sourceType,\n    appType?.name,\n    app.id\n  ),\n];\n\nexport const applicationsFields = (applications, sourceType, appTypes, hcsEnrolled) => [\n  {\n    component: componentTypes.TABS,\n    name: 'app-tabs',\n    isBox: true,\n    fields: [\n      ...applications.map((app) => {\n        const appType = appTypes.find(({ id }) => id === app.application_type_id);\n\n        let fields = createOneAppFields(appType, sourceType, app);\n\n        const hasEndpoint = app.authentications.find(({ resource_type }) => resource_type === 'Endpoint');\n\n        if (hasEndpoint) {\n          const additionalFields = endpointFields(sourceType);\n          fields = [fields[0], [...(fields[1] || []), ...(additionalFields ? [additionalFields] : [])]];\n        }\n\n        if (fields.length === 1) {\n          fields.push({\n            component: 'description',\n            name: 'no-credentials',\n            Content: ResourcesEmptyState,\n            message: {\n              id: 'resourceTable.emptyStateDescription',\n              defaultMessage: '{applicationName} resources will be added here when created.',\n            },\n            applicationName: appType?.display_name,\n            Icon: PlusCircleIcon,\n          });\n        } else if (app.paused_at) {\n          fields = [fields[0], fields[1].map((field) => ({ ...field, isDisabled: true }))];\n        }\n\n        return {\n          name: appType?.id,\n          title: appType?.id === COST_MANAGEMENT_APP_ID && hcsEnrolled ? HCS_APP_NAME : appType?.display_name,\n          fields,\n        };\n      }),\n    ],\n  },\n];\n","import { applicationsFields } from './application';\n\nexport const parseSourceToSchema = (source, sourceType, appTypes, intl, hcsEnrolled) => ({\n  description: intl.formatMessage({\n    id: 'sources.editFormDescripiton',\n    defaultMessage: 'Use the form fields to edit application credentials.',\n  }),\n  fields: applicationsFields(source.applications, sourceType, appTypes, hcsEnrolled),\n});\n","import { parseSourceToSchema } from './parser/parseSourceToSchema';\nimport { prepareInitialValues } from './helpers';\n\nexport const initialState = {\n  loading: true,\n  source: undefined,\n  initialValues: {},\n  sourceType: undefined,\n  schema: undefined,\n  isSubmitting: false,\n  initialLoad: true,\n  submitError: false,\n  submitMessages: undefined,\n};\n\nconst reducer = (state, { type, source, sourceType, appTypes, intl, values, editing, messages, hcsEnrolled }) => {\n  switch (type) {\n    case 'createForm':\n      return {\n        ...state,\n        sourceType,\n        initialValues: prepareInitialValues(state.source, sourceType.product_name),\n        schema: parseSourceToSchema(state.source, sourceType, appTypes, intl, hcsEnrolled),\n        loading: false,\n      };\n    case 'setSource':\n      return {\n        ...state,\n        messages: {\n          ...messages,\n          ...state.submitMessages,\n        },\n        source,\n        initialLoad: false,\n        submitMessages: undefined,\n      };\n    case 'submit':\n      return {\n        ...state,\n        isSubmitting: true,\n        submitError: false,\n        values,\n        editing,\n      };\n    case 'submitFinished':\n      return {\n        ...state,\n        isSubmitting: false,\n        source,\n        submitMessages: messages,\n      };\n    case 'submitFailed':\n      return {\n        ...state,\n        isSubmitting: false,\n        submitError: true,\n        messages: undefined,\n      };\n    case 'sourceChanged':\n      return {\n        ...state,\n        initialLoad: true,\n        loading: true,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\nimport LoadingStep from '../steps/LoadingStep';\n\nconst SubmittingModal = () => {\n  const intl = useIntl();\n\n  return (\n    <LoadingStep\n      customText={intl.formatMessage({\n        id: 'sources.editSubmittingTitle',\n        defaultMessage: 'Validating edited source credentials',\n      })}\n    />\n  );\n};\n\nexport default SubmittingModal;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\n\nimport { Text } from '@patternfly/react-core';\n\nimport ErroredStep from '../steps/ErroredStep';\n\nconst ErroredModal = ({ onRetry }) => {\n  const intl = useIntl();\n\n  return (\n    <ErroredStep\n      onClose={onRetry}\n      customText={intl.formatMessage({\n        id: 'sources.editErrorDescription',\n        defaultMessage:\n          'There was a problem while trying to edit your source. Please try again. If the error persists, open a support case.',\n      })}\n      secondaryActions={\n        <Text\n          component=\"a\"\n          target=\"_blank\"\n          href=\"https://access.redhat.com/support/cases/#/case/new/open-case?caseCreate=true\"\n          rel=\"noopener noreferrer\"\n        >\n          {intl.formatMessage({\n            id: 'sources.openTicket',\n            defaultMessage: 'Open a support case',\n          })}\n        </Text>\n      }\n      returnButtonTitle={intl.formatMessage({\n        id: 'sources.retryText',\n        defaultMessage: 'Retry',\n      })}\n    />\n  );\n};\n\nErroredModal.propTypes = {\n  onRetry: PropTypes.func.isRequired,\n};\n\nexport default ErroredModal;\n","import React, { useEffect, useReducer } from 'react';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { useIntl } from 'react-intl';\nimport { Bullseye, Spinner } from '@patternfly/react-core';\n\nimport FormTemplate from '@data-driven-forms/pf4-component-mapper/form-template';\n\nimport SourcesFormRenderer from '../../utilities/SourcesFormRenderer';\nimport { doLoadSourceForEdit } from '../../api/doLoadSourceForEdit';\nimport { onSubmit } from './onSubmit';\n\nimport { useSource } from '../../hooks/useSource';\nimport { useIsLoaded } from '../../hooks/useIsLoaded';\nimport reducer, { initialState } from './reducer';\nimport SubmittingModal from './SubmittingModal';\nimport ErroredModal from './ErroredModal';\nimport { prepareMessages } from './helpers';\n\nconst SourceEditModal = () => {\n  const [state, setState] = useReducer(reducer, initialState);\n  const sourceRedux = useSource();\n  const isLoaded = useIsLoaded();\n\n  const { loading, editing, source, initialValues, schema, isSubmitting, initialLoad, message, messages, submitError, values } =\n    state;\n\n  const intl = useIntl();\n\n  const { sourceTypes, appTypes, sourceTypesLoaded, appTypesLoaded } = useSelector(({ sources }) => sources, shallowEqual);\n  const hcsEnrolled = useSelector(({ sources }) => sources.hcsEnrolled, shallowEqual);\n  const hcsEnrolledLoaded = useSelector(({ sources }) => sources.hcsEnrolledLoaded, shallowEqual);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!initialLoad) {\n      setState({ type: 'sourceChanged' });\n    }\n  }, [sourceRedux, sourceRedux?.applications?.length]);\n\n  useEffect(() => {\n    if (sourceRedux && initialLoad && appTypesLoaded) {\n      doLoadSourceForEdit(sourceRedux).then((source) => {\n        const messages = prepareMessages(source, intl, appTypes);\n\n        setState({ type: 'setSource', source, messages });\n      });\n    }\n  }, [sourceRedux, isLoaded, appTypesLoaded, initialLoad]);\n\n  useEffect(() => {\n    if (source && appTypesLoaded && sourceTypesLoaded) {\n      const sourceType = sourceTypes.find(({ id }) => id === source.source.source_type_id);\n\n      setState({ type: 'createForm', sourceType, source, appTypes, hcsEnrolled, intl });\n    }\n  }, [appTypesLoaded, source, sourceTypesLoaded, hcsEnrolledLoaded]);\n\n  const isLoading = !hcsEnrolledLoaded || !appTypesLoaded || !sourceTypesLoaded || loading;\n\n  if (submitError) {\n    return <ErroredModal onRetry={() => onSubmit(values, editing, dispatch, source, intl, setState)} />;\n  }\n\n  if (isSubmitting) {\n    return <SubmittingModal />;\n  }\n\n  if (isLoading) {\n    return (\n      <Bullseye className=\"pf-u-m-2xl\">\n        <Spinner />\n      </Bullseye>\n    );\n  }\n\n  const hideFormControls = source.source.paused_at || source.applications.every(({ paused_at }) => paused_at);\n\n  return (\n    <SourcesFormRenderer\n      schema={schema}\n      onSubmit={(values, formApi) => onSubmit(values, formApi.getState().dirtyFields, dispatch, source, intl, setState)}\n      FormTemplate={(props) => (\n        <FormTemplate\n          canReset\n          showFormControls={!hideFormControls}\n          submitLabel=\"Save changes\"\n          disableSubmit={['pristine', 'invalid']}\n          {...props}\n        />\n      )}\n      clearedValue={null}\n      initialValues={{\n        ...initialValues,\n        ...(!sourceRedux.paused_at && { message }),\n        ...(!sourceRedux.paused_at && { messages }),\n      }}\n    />\n  );\n};\n\nexport default SourceEditModal;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\n\nimport { Card, CardBody, CardTitle } from '@patternfly/react-core';\n\nimport NoApplications from './NoApplications';\nimport { useHasWritePermissions } from '../../hooks/useHasWritePermissions';\nimport { useSource } from '../../hooks/useSource';\nimport NoPermissions from './NoPermissions';\nimport SourceEditModal from '../SourceEditForm/SourceEditModal';\n\nconst ApplicationResourcesCard = () => {\n  const intl = useIntl();\n  const source = useSource();\n  const hasRightAccess = useHasWritePermissions();\n\n  return (\n    <Card className=\"card pf-u-m-lg pf-u-mt-0\">\n      <CardTitle>\n        {intl.formatMessage({\n          id: 'detail.resources.title',\n          defaultMessage: 'Manage connected applications',\n        })}\n      </CardTitle>\n      <CardBody>\n        {!hasRightAccess && <NoPermissions />}\n        {hasRightAccess && source.applications.length === 0 && <NoApplications />}\n        {hasRightAccess && source.applications.length > 0 && <SourceEditModal />}\n      </CardBody>\n    </Card>\n  );\n};\n\nexport default ApplicationResourcesCard;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\nimport AppLink from '../AppLink';\n\nimport { Breadcrumb, BreadcrumbItem } from '@patternfly/react-core';\nimport { routes } from '../../Routing';\nimport { useSource } from '../../hooks/useSource';\n\nconst Breadcrumbs = () => {\n  const intl = useIntl();\n  const source = useSource();\n\n  return (\n    <Breadcrumb>\n      <BreadcrumbItem component={({ href, ...props }) => <AppLink to={href} {...props} />} to={routes.sources.path}>\n        {intl.formatMessage({\n          id: 'sources.sources',\n          defaultMessage: 'Sources',\n        })}\n      </BreadcrumbItem>\n      <BreadcrumbItem isActive>{source.name}</BreadcrumbItem>\n    </Breadcrumb>\n  );\n};\n\nexport default Breadcrumbs;\n","import React, { useState } from 'react';\nimport { useIntl } from 'react-intl';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { Dropdown, DropdownItem, KebabToggle } from '@patternfly/react-core';\n\nimport { replaceRouteId, routes } from '../../Routing';\nimport { useSource } from '../../hooks/useSource';\nimport { useHasWritePermissions } from '../../hooks/useHasWritePermissions';\nimport { pauseSource, resumeSource } from '../../redux/sources/actions';\nimport disabledTooltipProps from '../../utilities/disabledTooltipProps';\nimport AppLink from '../AppLink';\n\nconst SourceKebab = () => {\n  const [isOpen, setOpen] = useState(false);\n  const intl = useIntl();\n  const source = useSource();\n  const hasRightAccess = useHasWritePermissions();\n  const dispatch = useDispatch();\n  const isOrgAdmin = useSelector(({ user }) => user.isOrgAdmin);\n\n  const wrappedFunction = (func) => () => {\n    setOpen(false);\n    func();\n  };\n\n  const pausedTooltip = intl.formatMessage({\n    id: 'sources.pausedSourceAction',\n    defaultMessage: 'You cannot perform this action on a paused source.',\n  });\n\n  const disabledProps = disabledTooltipProps(intl, isOrgAdmin);\n\n  const pausedProps = {\n    ...disabledProps,\n    tooltip: pausedTooltip,\n  };\n\n  return (\n    <Dropdown\n      toggle={<KebabToggle onToggle={() => setOpen(!isOpen)} id=\"toggle-id-6\" />}\n      isOpen={isOpen}\n      isPlain\n      position=\"right\"\n      dropdownItems={[\n        source.paused_at ? (\n          <DropdownItem\n            {...(!hasRightAccess && disabledProps)}\n            key=\"unpause\"\n            onClick={wrappedFunction(() => dispatch(resumeSource(source.id, source.name, intl)))}\n            description={intl.formatMessage({\n              id: 'detail.resume.description',\n              defaultMessage: 'Unpause data collection for this source',\n            })}\n          >\n            {intl.formatMessage({\n              id: 'detail.resume.button',\n              defaultMessage: 'Resume',\n            })}\n          </DropdownItem>\n        ) : (\n          <DropdownItem\n            {...(!hasRightAccess && disabledProps)}\n            key=\"pause\"\n            onClick={wrappedFunction(() => dispatch(pauseSource(source.id, source.name, intl)))}\n            description={intl.formatMessage({\n              id: 'detail.pause.description',\n              defaultMessage: 'Temporarily disable data collection',\n            })}\n          >\n            {intl.formatMessage({\n              id: 'detail.pause.button',\n              defaultMessage: 'Pause',\n            })}\n          </DropdownItem>\n        ),\n        <DropdownItem\n          {...(!hasRightAccess && disabledProps)}\n          key=\"remove\"\n          to={replaceRouteId(routes.sourcesDetailRemove.path, source.id)}\n          component={AppLink}\n          description={intl.formatMessage({\n            id: 'detail.remove.description',\n            defaultMessage: 'Permanently delete this source and all collected data',\n          })}\n        >\n          {intl.formatMessage({\n            id: 'detail.remove.button',\n            defaultMessage: 'Remove',\n          })}\n        </DropdownItem>,\n        <DropdownItem\n          {...(!hasRightAccess && disabledProps)}\n          {...(source.paused_at && pausedProps)}\n          key=\"rename\"\n          to={replaceRouteId(routes.sourcesDetailRename.path, source.id)}\n          component={AppLink}\n        >\n          {intl.formatMessage({\n            id: 'detail.rename.button',\n            defaultMessage: 'Rename',\n          })}\n        </DropdownItem>,\n      ]}\n    />\n  );\n};\n\nexport default SourceKebab;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\nimport { shallowEqual, useSelector } from 'react-redux';\n\nimport { PageHeader } from '@redhat-cloud-services/frontend-components/PageHeader';\nimport { Flex, FlexItem, Text, TextContent, Title } from '@patternfly/react-core';\n\nimport Breadcrumbs from './Breadcrumbs';\nimport { useSource } from '../../hooks/useSource';\nimport { availabilityFormatter } from '../../views/formatters';\nimport SourceKebab from './SourceKebab';\n\nconst DetailHeader = () => {\n  const intl = useIntl();\n  const source = useSource();\n  const appTypes = useSelector(({ sources }) => sources.appTypes, shallowEqual);\n  const sourceTypes = useSelector(({ sources }) => sources.sourceTypes, shallowEqual);\n\n  return (\n    <PageHeader>\n      <Breadcrumbs />\n      <Flex className=\"pf-u-mb-sm\">\n        <FlexItem>\n          <Title headingLevel=\"h1\" size=\"2xl\">\n            {source.name}\n          </Title>\n        </FlexItem>\n        <FlexItem>{availabilityFormatter(undefined, source, { appTypes, sourceTypes })}</FlexItem>\n        <FlexItem align={{ default: 'alignRight' }}>\n          <SourceKebab />\n        </FlexItem>\n      </Flex>\n      <TextContent>\n        <Text>\n          {intl.formatMessage({\n            id: 'detail.description',\n            defaultMessage: 'View details and manage connections for this source.',\n          })}\n        </Text>\n      </TextContent>\n    </PageHeader>\n  );\n};\n\nexport default DetailHeader;\n","import React, { useEffect, useReducer } from 'react';\nimport { useIntl } from 'react-intl';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport get from 'lodash/get';\n\nimport { Table, TableBody, TableHeader } from '@patternfly/react-table';\n\nimport { Alert, Bullseye, Card, CardBody, CardTitle, Spinner, Tab, TabTitleText, Tabs, Text } from '@patternfly/react-core';\n\nimport NoApplications from './NoApplications';\nimport { useSource } from '../../hooks/useSource';\nimport { useIsLoaded } from '../../hooks/useIsLoaded';\nimport { doLoadSourceForEdit } from '../../api/doLoadSourceForEdit';\nimport { authenticationFields } from '../SourceEditForm/parser/authentication';\nimport { prepareInitialValues } from '../SourceEditForm/helpers';\nimport ResourcesEmptyState from './ResourcesEmptyState';\nimport { pausedAppAlert } from '../../utilities/alerts';\n\nconst createColumns = (intl) => [\n  intl.formatMessage({ id: 'resourceTable.resourceType', defaultMessage: 'Resource type' }),\n  intl.formatMessage({ id: 'resourceTable.resourceValue', defaultMessage: 'Value' }),\n];\n\nconst convertFieldsToRows = (fields, initialValues) =>\n  fields\n    .flatMap((x) => x)\n    .map(\n      (field) => !field.hideField && [<React.Fragment key=\"label\">{field.label}</React.Fragment>, get(initialValues, field.name)]\n    )\n    .filter(Boolean);\n\nconst createRows = (source, appTypes, sourceType) => {\n  const applicationsRows = source.applications.reduce((acc, app) => {\n    const appType = appTypes.find(({ id }) => id === app.application_type_id);\n\n    const applicationFieldsSchema = authenticationFields(\n      app.authentications?.filter((auth) => Object.keys(auth).length > 1),\n      sourceType,\n      appType?.name,\n      app.id\n    );\n\n    const initialValues = prepareInitialValues(source, sourceType.product_name);\n    const applicationRows = convertFieldsToRows(applicationFieldsSchema, initialValues);\n\n    return { ...acc, [app.id]: applicationRows };\n  }, {});\n\n  return applicationsRows;\n};\n\nconst initialValues = (source) => ({\n  loading: Boolean(source.applications?.length),\n  columns: [],\n  applicationsRows: {},\n  activeTab: 0,\n});\n\nconst reducer = (state, { type, intl, source, activeTab, appTypes, sourceType }) => {\n  switch (type) {\n    case 'loaded':\n      return {\n        ...state,\n        columns: createColumns(intl),\n        applicationsRows: createRows(source, appTypes, sourceType),\n        loading: false,\n        activeTab: source.applications[0].id,\n      };\n    case 'switchTab':\n      return {\n        ...state,\n        activeTab,\n      };\n    case 'setLoading':\n      return {\n        ...state,\n        loading: true,\n      };\n  }\n};\n\nconst ResourcesTable = () => {\n  const intl = useIntl();\n  const source = useSource();\n  const isLoaded = useIsLoaded();\n\n  const { sourceTypes, appTypes, sourceTypesLoaded, appTypesLoaded } = useSelector(({ sources }) => sources, shallowEqual);\n\n  const [{ activeTab, loading, columns, applicationsRows }, dispatch] = useReducer(reducer, initialValues(source));\n\n  useEffect(() => {\n    if (source && isLoaded && appTypesLoaded && sourceTypesLoaded && source?.applications?.length) {\n      dispatch({ type: 'setLoading' });\n\n      doLoadSourceForEdit(source, appTypes, sourceTypes).then((source) => {\n        const sourceType = sourceTypes.find(({ id }) => id === source.source.source_type_id);\n\n        dispatch({ type: 'loaded', source, intl, sourceType, appTypes });\n      });\n    }\n  }, [source?.applications?.length, isLoaded, appTypesLoaded, sourceTypesLoaded]);\n\n  return (\n    <Card className=\"pf-u-m-lg pf-u-mt-0\">\n      <CardTitle>\n        {intl.formatMessage({\n          id: 'resourceTable.title',\n          defaultMessage: 'Connected application resources',\n        })}\n      </CardTitle>\n      <CardBody>\n        {loading && (\n          <Bullseye className=\"pf-u-m-2xl\">\n            <Spinner />\n          </Bullseye>\n        )}\n        {!loading && !source.applications.length && <NoApplications />}\n        {!loading && source.applications.length > 0 && (\n          <React.Fragment>\n            <Text className=\"pf-u-mb-md\">\n              {intl.formatMessage({\n                id: 'resourceTable.description',\n                defaultMessage: 'View resources for your connected applications.',\n              })}\n            </Text>\n            <Tabs isBox activeKey={activeTab} onSelect={(_e, activeTab) => dispatch({ type: 'switchTab', activeTab })}>\n              {source.applications.map((app) => {\n                const appName =\n                  appTypes.find(({ id }) => id === app.application_type_id)?.display_name || app.application_type_id;\n\n                const { description, ...alertProps } = app.paused_at ? pausedAppAlert(intl, appName) : {};\n\n                return (\n                  <Tab eventKey={app.id} key={app.id} title={<TabTitleText>{appName}</TabTitleText>}>\n                    {app.paused_at && !source.paused_at && (\n                      <Alert isInline className=\"pf-u-mt-lg\" {...alertProps}>\n                        {description}\n                      </Alert>\n                    )}\n                    {applicationsRows[app.id]?.length ? (\n                      <Table\n                        aria-label={intl.formatMessage({\n                          id: 'resourceTable.title',\n                          defaultMessage: 'Connected application resources',\n                        })}\n                        variant=\"compact\"\n                        cells={columns}\n                        rows={applicationsRows[app.id]}\n                        className=\"pf-u-mt-md\"\n                      >\n                        <TableHeader />\n                        <TableBody />\n                      </Table>\n                    ) : (\n                      <ResourcesEmptyState applicationName={appName} />\n                    )}\n                  </Tab>\n                );\n              })}\n            </Tabs>\n          </React.Fragment>\n        )}\n      </CardBody>\n    </Card>\n  );\n};\n\nexport default ResourcesTable;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useSource } from '../../hooks/useSource';\n\nimport { Alert, AlertActionLink, GridItem, Tooltip } from '@patternfly/react-core';\nimport PauseIcon from '@patternfly/react-icons/dist/esm/icons/pause-icon';\n\nimport { useHasWritePermissions } from '../../hooks/useHasWritePermissions';\nimport { resumeSource } from '../../redux/sources/actions';\nimport { disabledMessage } from '../../utilities/disabledTooltipProps';\n\nconst PauseAlert = () => {\n  const intl = useIntl();\n  const writePermissions = useHasWritePermissions();\n  const dispatch = useDispatch();\n  const source = useSource();\n  const isOrgAdmin = useSelector(({ user }) => user.isOrgAdmin);\n\n  return (\n    <GridItem md={12} className=\"pf-u-m-lg pf-u-mb-0\">\n      <Alert\n        customIcon={<PauseIcon />}\n        variant=\"default\"\n        isInline\n        title={intl.formatMessage({\n          id: 'source.detail.pausedTitle',\n          defaultMessage: 'Source paused',\n        })}\n        actionLinks={\n          writePermissions ? (\n            <AlertActionLink onClick={() => dispatch(resumeSource(source.id, source.name, intl))}>\n              {intl.formatMessage({\n                id: 'source.detail.resumeConnection',\n                defaultMessage: 'Resume connection',\n              })}\n            </AlertActionLink>\n          ) : (\n            <Tooltip content={disabledMessage(intl, isOrgAdmin)}>\n              <AlertActionLink isDisabled>\n                {intl.formatMessage({\n                  id: 'source.detail.resumeConnection',\n                  defaultMessage: 'Resume connection',\n                })}\n              </AlertActionLink>\n            </Tooltip>\n          )\n        }\n      >\n        {intl.formatMessage({\n          id: 'source.detail.pausedDescription',\n          defaultMessage:\n            'No data is being collected for this source. Turn the source back on to reestablish connection and data collection. Previous credentials will be restored and application connections will continue as seen on this page.',\n        })}\n      </Alert>\n    </GridItem>\n  );\n};\n\nexport default PauseAlert;\n","import React, { Suspense } from 'react';\n\nimport { Grid, GridItem } from '@patternfly/react-core';\n\nimport SourceSummaryCard from '../components/SourceDetail/SourceSummaryCard';\nimport ApplicationsCard from '../components/SourceDetail/ApplicationsCard';\nimport ApplicationResourcesCard from '../components/SourceDetail/ApplicationResourcesCard';\nimport RedirectNoId from '../components/RedirectNoId/RedirectNoId';\nimport { useSource } from '../hooks/useSource';\nimport { DetailLoader } from '../components/SourcesTable/loaders';\nimport { replaceRouteId, routes } from '../Routing';\nimport DetailHeader from '../components/SourceDetail/DetailHeader';\nimport isSuperKey from '../utilities/isSuperKey';\nimport ResourcesTable from '../components/SourceDetail/ResourcesTable';\nimport PauseAlert from '../components/SourceDetail/PauseAlert';\nimport { Outlet } from 'react-router-dom';\n\nconst Detail = () => {\n  const source = useSource();\n  if (!source) {\n    return (\n      <React.Fragment>\n        <DetailLoader />\n        <RedirectNoId />\n      </React.Fragment>\n    );\n  }\n\n  const superKey = isSuperKey(source);\n\n  return (\n    <div className=\"src-c-detail-page\">\n      <Suspense fallback={null}>\n        <Outlet context={{ backPath: replaceRouteId(routes.sourcesDetail.path, source.id) }} />\n      </Suspense>\n      <DetailHeader />\n      {source.paused_at && <PauseAlert />}\n      <Grid>\n        <GridItem md=\"6\">\n          <SourceSummaryCard />\n        </GridItem>\n        <GridItem md=\"6\">\n          <ApplicationsCard />\n        </GridItem>\n        <GridItem md=\"12\">{superKey ? <ResourcesTable /> : <ApplicationResourcesCard />}</GridItem>\n      </Grid>\n    </div>\n  );\n};\n\nexport default Detail;\n","import { TOPOLOGY_INV_NAME } from './constants';\n\nconst filterApps = (type) => type.name !== TOPOLOGY_INV_NAME;\n\nexport const filterVendorAppTypes =\n  (sourceTypes, category) =>\n  ({ supported_source_types }) =>\n    supported_source_types.find((type) => sourceTypes.find(({ name }) => type === name)?.category === category);\n\nexport default filterApps;\n","import { ACCOUNT_AUTHORIZATION } from '../components/constants';\n\nconst isSuperKey = (source) => source?.app_creation_workflow === ACCOUNT_AUTHORIZATION;\n\nexport default isSuperKey;\n"],"names":["PlusCircleIconConfig","name","height","width","svgPath","yOffset","xOffset","PlusCircleIcon","PrivateIconConfig","PrivateIcon","RedoIconConfig","RedoIcon","checkSourceStatus","id","getSourcesApi","checkAvailabilitySource","urlOrHost","formData","url","scheme","host","port","path","u","URL","protocol","replace","hostname","defaultPort","pathname","error","parseUrl","endpoint","doUpdateSource","source","values","promises","push","updateSource","endPointPort","parseInt","endpointData","isNaN","undefined","updateEndpoint","endpoints","authentications","Object","keys","forEach","key","idWithoutPrefix","updateAuthentication","applications","updateApplication","extra","Promise","all","checkAppAvailability","timeout","interval","entity","updatedTime","res","rej","start","Date","now","checkSource","then","data","availability_status","availability_status_error","last_checked_at","updated_at","prms","resolve","setTimeout","bind","delay","ErroredStep","onClose","returnButtonTitle","message","title","customText","primaryAction","secondaryActions","Component","Bullseye","EmptyState","variant","EmptyStateVariant","className","EmptyStateIcon","icon","ExclamationCircleIcon","color","Title","headingLevel","size","EmptyStateBody","onClick","EmptyStateSecondaryActions","propTypes","PropTypes","defaultProps","defaultMessage","Button","LoadingStep","cancelTitle","description","Spinner","useAppNavigate","navigate","useNavigate","to","options","mergeToBasename","linkBasename","AvailabilityChecker","setCheckPending","useSource","intl","useIntl","dispatch","useDispatch","useState","loading","setLoading","formatMessage","addMessage","isDisabled","DescriptionListItem","term","DescriptionListGroup","DescriptionListTerm","DescriptionListDescription","awsAccountNumber","sourceTypes","useSelector","sources","shallowEqual","type","find","source_type_id","arnType","authtype","includes","username","match","Card","CardTitle","CardBody","DescriptionList","columnModifier","default","sourceTypeFormatter","isCheckPending","last_available_at","dateFormatter","setCheckPenging","created_at","app_creation_workflow","configurationModeFormatter","sourceType","ApplicationKebab","app","removeApp","addApp","isOpen","setOpen","hasRightAccess","useHasWritePermissions","isOrgAdmin","user","wrappedFunction","func","disabledProps","disabledTooltipProps","pausedTooltip","pausedProps","tooltip","pausedButton","paused_at","DropdownItem","removedButton","replaceRouteId","routes","component","AppLink","Dropdown","isPlain","position","dropdownItems","toggle","KebabToggle","onToggle","open","isRequired","initialState","selectedApps","reducer","state","addResumeNotification","typeId","appTypes","appName","display_name","customIcon","addPausedNotification","addErrorNotification","action","create","pause","resume","tryAgainMessage","handleError","hcsEnrolled","hcsEnrolledLoaded","useReducer","stateDispatch","sourceTypeName","filteredAppTypes","filter","supported_source_types","filterApps","isPaused","unpauseApplication","loadEntities","pauseApplication","isSuperKey","doCreateApplication","source_id","application_type_id","map","connectedApp","appExist","Boolean","pausedApp","isChecked","Wrapper","React","Tooltip","FormGroup","Fragment","content","disabledMessage","Switch","label","COST_MANAGEMENT_APP_ID","HCS_APP_NAME","isDeleting","onChange","value","showStatusText","Skeleton","doLoadSourceForEdit","showSource","listSourceEndpoints","doLoadApplicationsForEdit","sourceData","apps","basicValues","addToApp","appAuthenticationIds","auth","showAuthentication","length","appAuths","index","listEndpointAuthentications","pausedAppAlert","application","b","bold","CHECK_ENDPOINT_COMMAND","selectOnlyEditedValues","editing","filteredValues","set","get","prepareInitialValues","rest","auhenticationsFinal","mergeAuths","reduce","acc","curr","endpointToUrl","applicationsFinal","source_type","addIfUnique","array","item","getEditedApplications","editedApplications","editedId","startsWith","resource_type","onSubmit","setState","startDate","messages","checkApplications","checkInfo","statusResults","AVAILABLE","UNAVAILABLE","IN_PROGRESS","getLastPartOfName","fieldName","split","pop","getAdditionalFields","stepKey","fields","field","authenticationFields","appId","schema","authentication","schemaAuth","additionalStepKeys","hardcodedSchemas","getAdditionalAuthStepsKeys","additionalStepsFields","getAdditionalAuthSteps","step","flatMap","x","enhancedFields","getEnhancedAuthField","editedName","createAuthFieldName","createAuthAppFieldName","finalField","isPassword","isAwsRegion","loadOptions","doLoadRegions","modifyAuthSchemas","EditAlert","formOptions","useFormApi","getState","Alert","isInline","ResourcesEmptyState","applicationName","Icon","WrenchIcon","applicationsFields","componentTypes","isBox","appType","Content","condition","when","isNotEmpty","createOneAppFields","additionalFields","hidden","modifiedFields","getEnhancedEndpointField","subForm","validate","validation","validatorTypes","isEmpty","endpointFields","parseSourceToSchema","initialValues","isSubmitting","initialLoad","submitError","submitMessages","product_name","ErroredModal","onRetry","Text","target","href","rel","sourceRedux","isLoaded","useIsLoaded","sourceTypesLoaded","appTypesLoaded","useEffect","prepareMessages","isLoading","hideFormControls","every","SourcesFormRenderer","formApi","dirtyFields","FormTemplate","props","canReset","showFormControls","submitLabel","disableSubmit","clearedValue","Breadcrumb","BreadcrumbItem","isActive","resumeSource","pauseSource","PageHeader","Flex","FlexItem","availabilityFormatter","align","TextContent","createColumns","createRows","applicationRows","hideField","activeTab","columns","applicationsRows","Tabs","activeKey","onSelect","_e","alertProps","Tab","eventKey","TabTitleText","Table","cells","rows","TableHeader","TableBody","writePermissions","GridItem","md","actionLinks","AlertActionLink","RedirectNoId","superKey","Suspense","fallback","Outlet","context","backPath","Grid","filterVendorAppTypes","category","TOPOLOGY_INV_NAME","ACCOUNT_AUTHORIZATION"],"sourceRoot":""}