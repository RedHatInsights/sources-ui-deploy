{"version":3,"file":"js/sourceDetail.1647452935684.4ee6d16cadb24fbd080c.js","mappings":"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","sources":["webpack:///./node_modules/@patternfly/react-icons/dist/esm/icons/private-icon.js","webpack:///./node_modules/@patternfly/react-icons/dist/esm/icons/redo-icon.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components-notifications/esm/redux/reducers/notifications.js","webpack:///./src/api/doUpdateSource.js","webpack:///./src/api/handleError.js","webpack:///./src/api/source_types.js","webpack:///./src/components/RedirectNoWriteAccess/RedirectNoWriteAccess.js","webpack:///./src/components/RedirectNoPaused/RedirectNoPaused.js","webpack:///./src/components/CustomRoute/CustomRoute.js","webpack:///./src/components/RedirectNoId/RedirectNoId.js","webpack:///./src/hooks/useHasWritePermissions.js","webpack:///./src/hooks/useIsLoaded.js","webpack:///./src/hooks/useSource.js","webpack:///./src/components/SourceDetail/AvailabilityChecker.js","webpack:///./src/components/SourceDetail/SourceSummaryCard.js","webpack:///./src/components/SourceDetail/ApplicationKebab.js","webpack:///./src/components/SourceDetail/ApplicationsCard.js","webpack:///./src/components/SourceDetail/NoApplications.js","webpack:///./src/components/SourceDetail/NoPermissions.js","webpack:///./src/api/doLoadSourceForEdit.js","webpack:///./src/utilities/alerts.js","webpack:///./src/components/SourceEditForm/helpers.js","webpack:///./src/components/SourceEditForm/onSubmit.js","webpack:///./src/components/SourceEditForm/parser/parseSourceToSchema.js","webpack:///./src/components/SourceEditForm/reducer.js","webpack:///./src/components/SourceEditForm/SubmittingModal.js","webpack:///./src/components/SourceEditForm/ErroredModal.js","webpack:///./src/components/SourceEditForm/SourceEditModal.js","webpack:///./src/components/SourceDetail/ApplicationResourcesCard.js","webpack:///./src/components/SourceDetail/Breadcrumbs.js","webpack:///./src/components/SourceDetail/SourceKebab.js","webpack:///./src/components/SourceDetail/DetailHeader.js","webpack:///./src/components/SourceDetail/ResourcesTable.js","webpack:///./src/components/SourceDetail/PauseAlert.js","webpack:///./src/pages/Detail.js","webpack:///./src/redux/sources/actionTypes.js","webpack:///./src/redux/sources/actions.js","webpack:///./src/utilities/disabledTooltipProps.js","webpack:///./src/utilities/filterApps.js","webpack:///./src/utilities/tryAgainMessage.js","webpack:///./node_modules/react-redux/es/components/Provider.js"],"sourcesContent":["import { createIcon } from '../createIcon';\n\nexport const PrivateIconConfig = {\n  name: 'PrivateIcon',\n  height: 1024,\n  width: 1024,\n  svgPath: 'M512,0 C229.2,0 0,229.2 0,512 C0,794.8 229.2,1024 512,1024 C794.8,1024 1024,794.8 1024,512 C1024,229.2 794.8,0 512,0 L512,0 Z M832,723.3 C832,751.6 821.4,777.5 801.3,798.2 L800.9,798.6 L800.5,799 C773.2,826.3 744.4,832 725,832 L298.8,832 C279.6,832 251.1,826.3 223.6,799.3 L223.2,798.9 C202.7,778.4 191.9,752.3 191.9,723.2 L191.9,488.7 C191.9,460.3 202.5,434.4 222.5,413.8 L222.9,413.4 L223.3,413 C241.3,395 261.5,388.2 277.1,385.6 L277.1,363.2 C277.1,299.2 300.3,243.4 346.2,197.4 C368.8,174.7 394.4,157.2 422.1,145.6 C450,133.9 480.2,128 512.1,128 C543.9,128 574.2,133.9 602.1,145.6 C629.9,157.2 655.5,174.7 678.1,197.4 C723.7,243.2 746.9,299 746.9,363.2 L746.9,385.7 C767.9,389.3 785.9,398.3 800.6,412.7 C821.2,433 832.1,459.3 832.1,488.7 L832,723.3 Z M755.6,458.4 C747.2,450.1 737.2,448 725.3,448 L682.8,448 L682.8,363.2 C682.8,316.3 666.3,276.3 632.7,242.5 C599.1,208.8 558.8,192 512,192 C465.2,192 425.1,208.8 391.5,242.5 C357.9,276.2 341.1,316.1 341.1,363.2 L341.1,448 L298.8,448 C286.9,448 276.8,450 268.5,458.3 C260.2,466.8 256,476.8 256,488.7 L256,723.4 C256,735.4 260.3,745.5 268.5,753.8 C276.9,762.1 286.9,768.1 298.8,768.1 L725.1,768.1 C737,768.1 747.1,762.1 755.4,753.8 C763.7,745.3 768.1,735.3 768.1,723.4 L768.1,488.8 C768,476.8 764,466.7 755.6,458.4 L755.6,458.4 Z M597.3,448 L426.7,448 L426.7,364.9 C426.7,341.4 435.1,321.2 451.6,304.6 C468.3,287.9 488.4,279.5 512,279.5 C535.6,279.5 555.9,287.8 572.3,304.4 C589,321.1 597.4,341.2 597.4,364.8 L597.4,448 L597.3,448 Z',\n  yOffset: 0,\n  xOffset: 0,\n};\n\nexport const PrivateIcon = createIcon(PrivateIconConfig);\n\nexport default PrivateIcon;","import { createIcon } from '../createIcon';\n\nexport const RedoIconConfig = {\n  name: 'RedoIcon',\n  height: 512,\n  width: 512,\n  svgPath: 'M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z',\n  yOffset: 0,\n  xOffset: 0,\n};\n\nexport const RedoIcon = createIcon(RedoIconConfig);\n\nexport default RedoIcon;","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { ADD_NOTIFICATION, REMOVE_NOTIFICATION, CLEAR_NOTIFICATIONS } from '../actions/action-types';\n\nfunction generateID(type) {\n  var text = 'cloud-services' + type + '-' + new Date().getTime() + Math.random().toString(36).slice(2);\n  return text;\n}\n\nvar addNotification = function addNotification(notifications, _ref) {\n  var payload = _ref.payload;\n  return [].concat(_toConsumableArray(notifications), [_objectSpread({\n    id: generateID('notification')\n  }, payload)]);\n};\n\nvar removeNotification = function removeNotification(notifications, _ref2) {\n  var payload = _ref2.payload;\n  var index = notifications.findIndex(function (_ref3) {\n    var id = _ref3.id;\n    return id === payload;\n  });\n  return [].concat(_toConsumableArray(notifications.slice(0, index)), _toConsumableArray(notifications.slice(index + 1)));\n};\n\nvar clearNotifications = function clearNotifications() {\n  return [];\n};\n\nexport var defaultState = [];\nexport var notificationsReducers = function notificationsReducers() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_NOTIFICATION:\n      return addNotification(state, action);\n\n    case REMOVE_NOTIFICATION:\n      return removeNotification(state, action);\n\n    case CLEAR_NOTIFICATIONS:\n      return clearNotifications(state, action);\n\n    default:\n      return state;\n  }\n};\nexport var notifications = notificationsReducers;\nexport default notifications;","import { defaultPort } from '../views/formatters';\nimport { getSourcesApi } from './entities';\n\nexport const parseUrl = (url) => {\n  if (url === null) {\n    return {\n      scheme: null,\n      host: null,\n      port: null,\n      path: null,\n    };\n  }\n\n  if (!url) {\n    return {};\n  }\n\n  try {\n    const u = new URL(url);\n    const scheme = u.protocol.replace(/:$/, '');\n\n    return {\n      scheme,\n      host: u.hostname,\n      port: u.port === '' ? defaultPort(scheme) : u.port,\n      path: u.pathname,\n    };\n  } catch (error) {\n    return {};\n  }\n};\n\nexport const urlOrHost = (formData) =>\n  formData.url || formData.url === null ? parseUrl(formData.url) : formData.endpoint ? formData.endpoint : formData;\n\nexport const doUpdateSource = (source, formData, values) => {\n  const promises = [];\n\n  if (formData.source) {\n    promises.push(getSourcesApi().updateSource(source.source.id, formData.source));\n  }\n\n  if (formData.endpoint || formData.url || formData.url === null) {\n    const { scheme, host, port, path } = urlOrHost(formData);\n    const endPointPort = port === null ? null : parseInt(port, 10);\n\n    const endpointData = {\n      scheme,\n      host,\n      path,\n      port: endPointPort === null ? null : isNaN(endPointPort) ? undefined : endPointPort,\n      ...formData.endpoint,\n    };\n\n    promises.push(getSourcesApi().updateEndpoint(source.endpoints[0].id, endpointData));\n  }\n\n  if (formData.authentications) {\n    Object.keys(formData.authentications).forEach((key) => {\n      const idWithoutPrefix = key.replace('a', '');\n\n      promises.push(getSourcesApi().updateAuthentication(idWithoutPrefix, formData.authentications[key]));\n    });\n  }\n\n  if (formData.applications) {\n    Object.keys(formData.applications).forEach((key) => {\n      const idWithoutPrefix = key.replace('a', '');\n\n      promises.push(getSourcesApi().updateApplication(idWithoutPrefix, { extra: values.applications[key].extra }));\n    });\n  }\n\n  return Promise.all(promises);\n};\n","import { getSourcesApi } from './entities';\nimport get from 'lodash/get';\n\nexport const handleError = (error, sourceId = undefined) => {\n  let errorMessage;\n\n  if (!error) {\n    errorMessage = 'Undefined error';\n  }\n\n  if (!errorMessage && typeof error === 'string') {\n    errorMessage = error;\n  }\n\n  if (!errorMessage) {\n    errorMessage = get(error, 'errors[0].detail', JSON.stringify(error, null, 2));\n  }\n\n  if (!sourceId) {\n    return errorMessage;\n  }\n\n  return getSourcesApi()\n    .deleteSource(sourceId)\n    .then(() => errorMessage)\n    .catch((errorDelete) => {\n      const errorDeleteDetail = get(errorDelete, 'errors[0].detail', JSON.stringify(errorDelete, null, 2));\n\n      return `${errorMessage}. The source was not removed, try remove it later: ${errorDeleteDetail}`;\n    });\n};\n\nexport default handleError;\n","import { getSourcesApi } from './entities.js';\n\nexport const doLoadSourceTypes = () =>\n  getSourcesApi()\n    .listSourceTypes()\n    .then((data) => data.data);\n","import React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { useIntl } from 'react-intl';\n\nimport { addMessage } from '../../redux/sources/actions';\nimport { useHasWritePermissions } from '../../hooks/useHasWritePermissions';\nimport { routes } from '../../Routes';\nimport { disabledMessage } from '../../utilities/disabledTooltipProps';\n\nconst RedirectNoWriteAccess = () => {\n  const intl = useIntl();\n\n  const writePermissions = useHasWritePermissions();\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (writePermissions === false) {\n      const title = intl.formatMessage({\n        id: 'sources.insufficietnPerms',\n        defaultMessage: 'Insufficient permissions',\n      });\n      const description = disabledMessage(intl);\n\n      dispatch(addMessage({ title, variant: 'danger', description }));\n    }\n  }, [writePermissions]);\n\n  if (writePermissions === false) {\n    return <Redirect to={routes.sources.path} />;\n  }\n\n  return null;\n};\n\nexport default RedirectNoWriteAccess;\n","import React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { useIntl } from 'react-intl';\n\nimport { addMessage } from '../../redux/sources/actions';\nimport { replaceRouteId, routes } from '../../Routes';\nimport { useSource } from '../../hooks/useSource';\n\nconst RedirectNoPaused = () => {\n  const intl = useIntl();\n  const source = useSource();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (source.paused_at) {\n      dispatch(\n        addMessage({\n          title: intl.formatMessage({\n            id: 'sources.sourcePausedRedirect',\n            defaultMessage: 'Source is paused',\n          }),\n          variant: 'danger',\n          description: intl.formatMessage({\n            id: 'sources.sourcePausedRedirectDescription',\n            defaultMessage: 'You cannot perform this action on a paused source.',\n          }),\n        })\n      );\n    }\n  }, [source.paused_at]);\n\n  if (source.paused_at) {\n    return <Redirect to={replaceRouteId(routes.sourcesDetail.path, source.id)} />;\n  }\n\n  return null;\n};\n\nexport default RedirectNoPaused;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport { useSource } from '../../hooks/useSource';\nimport RedirectNoWriteAccess from '../RedirectNoWriteAccess/RedirectNoWriteAccess';\nimport RedirectNoId from '../RedirectNoId/RedirectNoId';\nimport RedirectNoPaused from '../RedirectNoPaused/RedirectNoPaused';\n\nconst CustomRouteInternal = ({ route, children }) => {\n  const source = route.redirectNoId && useSource();\n\n  if (!source && route.redirectNoId) {\n    return <RedirectNoId />;\n  }\n\n  return (\n    <React.Fragment>\n      {route.noPaused && <RedirectNoPaused />}\n      {route.writeAccess && <RedirectNoWriteAccess />}\n      {children}\n    </React.Fragment>\n  );\n};\n\nCustomRouteInternal.propTypes = {\n  route: PropTypes.shape({\n    path: PropTypes.string.isRequired,\n    redirectNoId: PropTypes.bool,\n    writeAccess: PropTypes.bool,\n    noPaused: PropTypes.bool,\n  }).isRequired,\n  children: PropTypes.node.isRequired,\n};\n\nconst CustomRoute = ({ route, componentProps, Component, ...props }) => (\n  <Route {...props} path={route.path}>\n    <CustomRouteInternal route={route}>\n      <Component {...componentProps} />\n    </CustomRouteInternal>\n  </Route>\n);\n\nCustomRoute.propTypes = {\n  route: PropTypes.shape({\n    path: PropTypes.string.isRequired,\n    redirectNoId: PropTypes.bool,\n    writeAccess: PropTypes.bool,\n    noPaused: PropTypes.bool,\n  }).isRequired,\n  componentProps: PropTypes.any,\n  Component: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n};\n\nexport default CustomRoute;\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\nimport { useParams, Redirect } from 'react-router-dom';\nimport { useIntl } from 'react-intl';\n\nimport { addMessage, addHiddenSource } from '../../redux/sources/actions';\nimport { doLoadSource } from '../../api/entities';\nimport { useIsLoaded } from '../../hooks/useIsLoaded';\nimport { routes } from '../../Routes';\nimport { useSource } from '../../hooks/useSource';\n\nconst RedirectNoId = () => {\n  const { id } = useParams();\n  const intl = useIntl();\n  const source = useSource();\n\n  const loaded = useIsLoaded();\n\n  const { appTypesLoaded, sourceTypesLoaded } = useSelector(({ sources }) => sources, shallowEqual);\n  const dispatch = useDispatch();\n\n  const [applicationIsLoaded, setIsApplicationLoaded] = useState(false);\n\n  useEffect(() => {\n    if (loaded && appTypesLoaded && sourceTypesLoaded) {\n      doLoadSource(id)\n        .then(({ sources: [source] }) => {\n          dispatch(addHiddenSource(source));\n          return source;\n        })\n        .then((source) => {\n          if (!source) {\n            dispatch(\n              addMessage({\n                title: intl.formatMessage({\n                  id: 'sources.sourceNotFoundTitle',\n                  defaultMessage: 'Requested source was not found',\n                }),\n                variant: 'danger',\n                description: intl.formatMessage(\n                  {\n                    id: 'sources.sourceNotFoundTitleDescription',\n                    defaultMessage: 'Source with { id } was not found. Try it again later.',\n                  },\n                  { id }\n                ),\n              })\n            );\n          }\n\n          setIsApplicationLoaded(true);\n        });\n    }\n  }, [loaded, appTypesLoaded, sourceTypesLoaded]);\n\n  if (applicationIsLoaded && !source) {\n    return <Redirect to={routes.sources.path} />;\n  }\n\n  return null;\n};\n\nexport default RedirectNoId;\n","import { useSelector } from 'react-redux';\n\nexport const useHasWritePermissions = () => {\n  const writePermissions = useSelector(({ user }) => user?.writePermissions);\n\n  if (typeof writePermissions !== 'boolean') {\n    return undefined;\n  }\n\n  return !!writePermissions;\n};\n","import { useSelector } from 'react-redux';\n\nexport const useIsLoaded = () => {\n  const isLoaded = useSelector(({ sources }) => sources.loaded);\n\n  return isLoaded <= 0;\n};\n","import { useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\n\nexport const useSource = () => {\n  const { id } = useParams();\n  const source = useSelector(({ sources }) => sources.entities.find((source) => source.id === id));\n\n  return source;\n};\n","import React, { useState } from 'react';\nimport { useIntl } from 'react-intl';\nimport { useDispatch } from 'react-redux';\n\nimport RedoIcon from '@patternfly/react-icons/dist/esm/icons/redo-icon';\nimport { Button, Spinner } from '@patternfly/react-core';\n\nimport { useSource } from '../../hooks/useSource';\nimport checkSourceStatus from '../../api/checkSourceStatus';\nimport { addMessage } from '../../redux/sources/actions';\n\nconst AvailabilityChecker = () => {\n  const source = useSource();\n  const intl = useIntl();\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n\n  return (\n    <Button\n      variant=\"plain\"\n      aria-label={intl.formatMessage({ id: 'sources.checkavailability', defaultMessage: 'Check source availability' })}\n      onClick={async () => {\n        setLoading(true);\n        await checkSourceStatus(source.id);\n        setLoading(false);\n        dispatch(\n          addMessage({\n            title: intl.formatMessage({\n              id: 'sources.checkavailability.notificationTitle',\n              defaultMessage: 'Request to check source status was sent',\n            }),\n            variant: 'info',\n            description: intl.formatMessage({\n              id: 'sources.checkavailability.notificationDescription',\n              defaultMessage: 'Check this page later for updates',\n            }),\n          })\n        );\n      }}\n      isDisabled={loading}\n    >\n      {!loading && <RedoIcon />}\n      {loading && <Spinner size=\"md\" />}\n    </Button>\n  );\n};\n\nexport default AvailabilityChecker;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport {\n  Card,\n  CardBody,\n  CardTitle,\n  DescriptionList,\n  DescriptionListGroup,\n  DescriptionListTerm,\n  DescriptionListDescription,\n} from '@patternfly/react-core';\n\nimport { useSource } from '../../hooks/useSource';\nimport { configurationModeFormatter, dateFormatter, sourceTypeFormatter } from '../../views/formatters';\nimport AvailabilityChecker from './AvailabilityChecker';\n\nconst DescriptionListItem = ({ term, description }) => (\n  <DescriptionListGroup>\n    <DescriptionListTerm>{term}</DescriptionListTerm>\n    <DescriptionListDescription>{description}</DescriptionListDescription>\n  </DescriptionListGroup>\n);\n\nDescriptionListItem.propTypes = {\n  term: PropTypes.node,\n  description: PropTypes.node,\n};\n\nconst SourceSummaryCard = () => {\n  const intl = useIntl();\n  const source = useSource();\n  const sourceTypes = useSelector(({ sources }) => sources.sourceTypes, shallowEqual);\n  const type = sourceTypes.find((type) => type.id === source.source_type_id);\n\n  let awsAccountNumber;\n\n  if (type.name === 'amazon') {\n    const arnType = source.authentications?.find(({ authtype }) => authtype.includes('arn'));\n\n    if (arnType?.username) {\n      awsAccountNumber = arnType.username.match(/:\\d+/)?.[0]?.replace(/:/g, '');\n    }\n  }\n\n  return (\n    <Card className=\"pf-m-selectable pf-m-selected src-c-card-summary pf-u-m-lg pf-u-mr-sm-on-md\">\n      <CardTitle>\n        {intl.formatMessage({\n          id: 'detail.summary.title',\n          defaultMessage: 'Source summary',\n        })}\n      </CardTitle>\n      <CardBody>\n        <DescriptionList\n          columnModifier={{\n            default: '2Col',\n          }}\n        >\n          <DescriptionListItem\n            term={intl.formatMessage({\n              id: 'detail.summary.type',\n              defaultMessage: 'Source type',\n            })}\n            description={sourceTypeFormatter(source.source_type_id, undefined, { sourceTypes })}\n          />\n          <DescriptionListItem\n            term={intl.formatMessage({\n              id: 'detail.summary.lastChecked',\n              defaultMessage: 'Last availability check',\n            })}\n            description={\n              <React.Fragment>\n                {source.last_checked_at || source.last_available_at\n                  ? dateFormatter(source.last_checked_at || source.last_available_at)\n                  : intl.formatMessage({\n                      id: 'detail.summary.notChecked',\n                      defaultMessage: 'Not checked yet',\n                    })}\n                <AvailabilityChecker />\n              </React.Fragment>\n            }\n          />\n          <DescriptionListItem\n            term={intl.formatMessage({\n              id: 'detail.summary.dateAdded',\n              defaultMessage: 'Date added',\n            })}\n            description={dateFormatter(source.created_at)}\n          />\n          <DescriptionListItem\n            term={intl.formatMessage({\n              id: 'detail.summary.lastModified',\n              defaultMessage: 'Last modified',\n            })}\n            description={dateFormatter(source.updated_at)}\n          />\n          {source.app_creation_workflow && (\n            <DescriptionListItem\n              term={intl.formatMessage({\n                id: 'detail.summary.configurationMode',\n                defaultMessage: 'Configuration mode',\n              })}\n              description={configurationModeFormatter(source.app_creation_workflow, source, { intl, sourceType: type })}\n            />\n          )}\n          {awsAccountNumber && (\n            <DescriptionListItem\n              term={intl.formatMessage({\n                id: 'detail.summary.awsAccountNumber',\n                defaultMessage: 'AWS account number',\n              })}\n              description={awsAccountNumber}\n            />\n          )}\n        </DescriptionList>\n      </CardBody>\n    </Card>\n  );\n};\n\nexport default SourceSummaryCard;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useIntl } from 'react-intl';\nimport { useHistory } from 'react-router-dom';\n\nimport { KebabToggle, Dropdown, DropdownItem } from '@patternfly/react-core';\n\nimport { replaceRouteId, routes } from '../../Routes';\nimport { useHasWritePermissions } from '../../hooks/useHasWritePermissions';\nimport { useSource } from '../../hooks/useSource';\nimport disabledTooltipProps from '../../utilities/disabledTooltipProps';\n\nconst ApplicationKebab = ({ app, removeApp, addApp }) => {\n  const [isOpen, setOpen] = useState(false);\n  const intl = useIntl();\n  const source = useSource();\n  const { push } = useHistory();\n  const hasRightAccess = useHasWritePermissions();\n\n  const wrappedFunction = (func) => () => {\n    setOpen(false);\n    func();\n  };\n\n  const disabledProps = disabledTooltipProps(intl);\n\n  const pausedTooltip = intl.formatMessage({\n    id: 'sources.pausedSourceAction',\n    defaultMessage: 'You cannot perform this action on a paused source.',\n  });\n\n  const pausedProps = {\n    ...disabledProps,\n    tooltip: pausedTooltip,\n  };\n\n  const pausedButton = app.paused_at ? (\n    <DropdownItem\n      {...(source.paused_at && pausedProps)}\n      {...(!hasRightAccess && disabledProps)}\n      key=\"resume\"\n      description={intl.formatMessage({\n        id: 'app.kebab.resume.title',\n        defaultMessage: 'Resume data collection for this application.',\n      })}\n      onClick={wrappedFunction(addApp)}\n    >\n      {intl.formatMessage({\n        id: 'app.kebab.resume.button',\n        defaultMessage: 'Resume',\n      })}\n    </DropdownItem>\n  ) : (\n    <DropdownItem\n      {...(source.paused_at && pausedProps)}\n      {...(!hasRightAccess && disabledProps)}\n      key=\"pause\"\n      description={intl.formatMessage({\n        id: 'app.kebab.pause.title',\n        defaultMessage: 'Temporarily stop this application from collecting data.',\n      })}\n      onClick={wrappedFunction(removeApp)}\n    >\n      {intl.formatMessage({\n        id: 'app.kebab.pause.button',\n        defaultMessage: 'Pause',\n      })}\n    </DropdownItem>\n  );\n  const removedButton = (\n    <DropdownItem\n      {...(source.paused_at && pausedProps)}\n      {...(!hasRightAccess && disabledProps)}\n      key=\"remove\"\n      description={intl.formatMessage({\n        id: 'app.kebab.remove.title',\n        defaultMessage: 'Permanently stop data collection for this application.',\n      })}\n      onClick={wrappedFunction(() =>\n        push(replaceRouteId(routes.sourcesDetailRemoveApp.path, source.id).replace(':app_id', app.id))\n      )}\n    >\n      {intl.formatMessage({\n        id: 'app.kebab.pause.button',\n        defaultMessage: 'Remove',\n      })}\n    </DropdownItem>\n  );\n\n  return (\n    <Dropdown\n      isPlain\n      isOpen={isOpen}\n      position=\"right\"\n      dropdownItems={[pausedButton, removedButton]}\n      className=\"src-c-dropdown__application_kebab\"\n      toggle={<KebabToggle onToggle={() => setOpen((open) => !open)} />}\n    />\n  );\n};\n\nApplicationKebab.propTypes = {\n  app: PropTypes.shape({\n    id: PropTypes.string,\n    paused_at: PropTypes.string,\n  }).isRequired,\n  removeApp: PropTypes.func,\n  addApp: PropTypes.func,\n};\n\nexport default ApplicationKebab;\n","import React, { useReducer } from 'react';\nimport { useIntl } from 'react-intl';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n\nimport { Card, CardBody, CardTitle, Switch, FormGroup } from '@patternfly/react-core';\n\nimport PauseIcon from '@patternfly/react-icons/dist/esm/icons/pause-icon';\nimport PlayIcon from '@patternfly/react-icons/dist/esm/icons/play-icon';\n\nimport { useSource } from '../../hooks/useSource';\nimport { replaceRouteId, routes } from '../../Routes';\nimport { useHasWritePermissions } from '../../hooks/useHasWritePermissions';\nimport isSuperKey from '../../utilities/isSuperKey';\nimport { getSourcesApi, doCreateApplication } from '../../api/entities';\nimport { addMessage, loadEntities } from '../../redux/sources/actions';\nimport { APP_NAMES } from '../SourceEditForm/parser/application';\nimport filterApps from '../../utilities/filterApps';\nimport ApplicationKebab from './ApplicationKebab';\nimport { ApplicationLabel } from '../../views/formatters';\nimport handleError from '../../api/handleError';\nimport tryAgainMessage from '../../utilities/tryAgainMessage';\nimport { disabledMessage } from '../../utilities/disabledTooltipProps';\n\nconst initialState = {\n  selectedApps: {},\n};\n\nconst reducer = (state, { type, id }) => {\n  switch (type) {\n    case 'addApp':\n      return { ...state, selectedApps: { ...state.selectedApps, [id]: true } };\n    case 'removeApp':\n      return { ...state, selectedApps: { ...state.selectedApps, [id]: false } };\n    case 'clean':\n      return { ...state, selectedApps: { ...state.selectedApps, [id]: undefined } };\n  }\n};\n\nconst descriptionMapper = (name, intl) =>\n  ({\n    [APP_NAMES.COST_MANAGAMENT]: intl.formatMessage({\n      id: 'cost.app.description',\n      defaultMessage: 'Analyze, forecast, and optimize your Red Hat OpenShift cluster costs in hybrid cloud environments.',\n    }),\n    [APP_NAMES.CLOUD_METER]: intl.formatMessage({\n      id: 'cost.app.description',\n      defaultMessage: 'Includes access to Red Hat gold images, high precision subscription watch data, and autoregistration.',\n    }),\n  }[name]);\n\nconst addResumeNotification = (typeId, dispatch, intl, appTypes) => {\n  const appName = appTypes.find((type) => type.id === typeId)?.display_name;\n\n  dispatch(\n    addMessage({\n      title: intl.formatMessage(\n        {\n          id: 'detail.applications.resumed.alert.title',\n          defaultMessage: '{appName} connection resumed',\n        },\n        { appName }\n      ),\n      variant: 'default',\n      customIcon: <PlayIcon />,\n    })\n  );\n};\n\nconst addPausedNotification = (typeId, dispatch, intl, appTypes) => {\n  const appName = appTypes.find((type) => type.id === typeId)?.display_name;\n\n  dispatch(\n    addMessage({\n      title: intl.formatMessage(\n        {\n          id: 'detail.applications.paused.alert.title',\n          defaultMessage: '{appName} connection paused',\n        },\n        { appName }\n      ),\n      description: intl.formatMessage(\n        {\n          id: 'detail.applications.paused.alert.description',\n          defaultMessage: 'Your application will not reflect the most recent data until {appName} connection is resumed',\n        },\n        { appName }\n      ),\n      variant: 'default',\n      customIcon: <PauseIcon />,\n    })\n  );\n};\n\nconst addErrorNotification = (dispatch, intl, action, error) => {\n  const title = {\n    create: intl.formatMessage({\n      id: 'detail.applications.add.error',\n      defaultMessage: 'Application create failed',\n    }),\n    pause: intl.formatMessage({\n      id: 'detail.applications.pause.error',\n      defaultMessage: 'Application pause failed',\n    }),\n    resume: intl.formatMessage({\n      id: 'detail.applications.resume.error',\n      defaultMessage: 'Application resume failed',\n    }),\n  }[action];\n\n  dispatch(\n    addMessage({\n      title,\n      description: tryAgainMessage(intl, handleError(error)),\n      variant: 'danger',\n    })\n  );\n};\n\nconst ApplicationsCard = () => {\n  const intl = useIntl();\n  const source = useSource();\n  const { push } = useHistory();\n  const sourceTypes = useSelector(({ sources }) => sources.sourceTypes, shallowEqual);\n  const appTypes = useSelector(({ sources }) => sources.appTypes, shallowEqual);\n  const hasRightAccess = useHasWritePermissions();\n  const dispatch = useDispatch();\n  const [{ selectedApps }, stateDispatch] = useReducer(reducer, initialState);\n\n  const sourceType = sourceTypes.find((type) => type.id === source.source_type_id);\n  const sourceTypeName = sourceType?.name;\n  const filteredAppTypes = appTypes.filter((type) => type.supported_source_types.includes(sourceTypeName)).filter(filterApps);\n\n  let addApp = async (id, isPaused) => {\n    if (!isPaused) {\n      push(replaceRouteId(routes.sourcesDetailAddApp.path, source.id).replace(':app_type_id', id));\n    } else {\n      if (typeof selectedApps[id] !== 'boolean') {\n        stateDispatch({ type: 'addApp', id });\n\n        try {\n          await getSourcesApi().unpauseApplication(isPaused);\n          addResumeNotification(id, dispatch, intl, appTypes);\n          await dispatch(loadEntities());\n        } catch (e) {\n          addErrorNotification(dispatch, intl, 'resume', e);\n        }\n\n        stateDispatch({ type: 'clean', id });\n      }\n    }\n  };\n\n  const removeApp = async (id, typeId) => {\n    if (typeof selectedApps[typeId] !== 'boolean') {\n      stateDispatch({ type: 'removeApp', id: typeId });\n      try {\n        await getSourcesApi().pauseApplication(id);\n        addPausedNotification(typeId, dispatch, intl, appTypes);\n        await dispatch(loadEntities());\n      } catch (e) {\n        addErrorNotification(dispatch, intl, 'pause', e);\n      }\n\n      stateDispatch({ type: 'clean', id: typeId });\n    }\n  };\n\n  if (isSuperKey(source)) {\n    addApp = async (id, isPaused) => {\n      if (typeof selectedApps[id] !== 'boolean') {\n        stateDispatch({ type: 'addApp', id });\n\n        if (isPaused) {\n          try {\n            await getSourcesApi().unpauseApplication(isPaused);\n            addResumeNotification(id, dispatch, intl, appTypes);\n            await dispatch(loadEntities());\n          } catch (e) {\n            addErrorNotification(dispatch, intl, 'resume', e);\n          }\n        } else {\n          try {\n            await doCreateApplication({ source_id: source.id, application_type_id: id });\n            await dispatch(loadEntities());\n          } catch (e) {\n            addErrorNotification(dispatch, intl, 'create', e);\n          }\n        }\n\n        stateDispatch({ type: 'clean', id });\n      }\n    };\n  }\n\n  return (\n    <Card className=\"src-c-card-applications pf-u-p-lg pf-u-pl-sm-on-md\">\n      <CardTitle>\n        {intl.formatMessage({\n          id: 'detail.applications.title',\n          defaultMessage: 'Applications',\n        })}\n      </CardTitle>\n      <CardBody>\n        {!hasRightAccess && (\n          <div className=\"pf-u-mb-md\" id=\"no-permissions-applications\">\n            {disabledMessage(intl)}\n          </div>\n        )}\n        <div className=\"pf-c-form\">\n          {filteredAppTypes.map((app) => {\n            const connectedApp = source.applications.find((connectedApp) => connectedApp.application_type_id === app.id);\n            const description = descriptionMapper(app.name, intl);\n\n            const appExist = Boolean(connectedApp);\n            const isPaused = Boolean(connectedApp?.paused_at);\n\n            const pausedApp = isPaused ? false : appExist;\n\n            const isChecked = typeof selectedApps[app.id] === 'boolean' ? selectedApps[app.id] : pausedApp;\n\n            return (\n              <FormGroup key={app.id}>\n                <div className=\"src-c-application_flex\">\n                  <div>\n                    <Switch\n                      id={`app-switch-${app.id}`}\n                      label={app.display_name}\n                      isChecked={isChecked}\n                      isDisabled={connectedApp?.isDeleting || !hasRightAccess || Boolean(source.paused_at)}\n                      onChange={(value) => (!value ? removeApp(connectedApp.id, app.id) : addApp(app.id, connectedApp?.id))}\n                    />\n                    {Boolean(connectedApp) && (\n                      <ApplicationLabel className=\"pf-u-ml-sm src-m-clickable\" app={connectedApp} showStatusText />\n                    )}\n                    {description && (\n                      <div className=\"pf-c-switch pf-u-mt-sm src-c-application_fake_switch\">\n                        <span className=\"pf-c-switch__toggle src-m-hide-me\" />\n                        <div className=\"pf-c-switch__label src-c-switch__description\">{description}</div>\n                      </div>\n                    )}\n                  </div>\n                  {(isPaused || appExist) && (\n                    <ApplicationKebab\n                      app={connectedApp}\n                      removeApp={() => removeApp(connectedApp.id, app.id)}\n                      addApp={() => addApp(app.id, connectedApp.id)}\n                    />\n                  )}\n                </div>\n              </FormGroup>\n            );\n          })}\n        </div>\n      </CardBody>\n    </Card>\n  );\n};\n\nexport default ApplicationsCard;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\n\nimport { EmptyState, EmptyStateIcon, EmptyStateBody, Title } from '@patternfly/react-core';\nimport PlusCircleIcon from '@patternfly/react-icons/dist/esm/icons/plus-circle-icon';\n\nconst NoApplications = () => {\n  const intl = useIntl();\n\n  return (\n    <EmptyState>\n      <EmptyStateIcon icon={PlusCircleIcon} />\n      <Title headingLevel=\"h4\" size=\"lg\">\n        {intl.formatMessage({\n          id: 'detail.noapplications.title',\n          defaultMessage: 'No connected applications',\n        })}\n      </Title>\n      <EmptyStateBody className=\"src-c-empty-state__body\">\n        {intl.formatMessage({\n          id: 'detail.noapplications.description',\n          defaultMessage: 'You have not connected any applications to this source. Use the switches above to add applications.',\n        })}\n      </EmptyStateBody>\n    </EmptyState>\n  );\n};\n\nexport default NoApplications;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\n\nimport { EmptyState, EmptyStateIcon, EmptyStateBody, Title } from '@patternfly/react-core';\nimport PrivateIcon from '@patternfly/react-icons/dist/esm/icons/private-icon';\nimport { disabledMessage } from '../../utilities/disabledTooltipProps';\n\nconst NoPermissions = () => {\n  const intl = useIntl();\n\n  return (\n    <EmptyState>\n      <EmptyStateIcon icon={PrivateIcon} />\n      <Title headingLevel=\"h4\" size=\"lg\">\n        {intl.formatMessage({\n          id: 'detail.nopermissions.title',\n          defaultMessage: 'Missing permissions',\n        })}\n      </Title>\n      <EmptyStateBody className=\"src-c-empty-state__body\">{disabledMessage(intl)}</EmptyStateBody>\n    </EmptyState>\n  );\n};\n\nexport default NoPermissions;\n","import { getSourcesApi, doLoadApplicationsForEdit } from './entities';\n\nexport const doLoadSourceForEdit = (source, appTypes, sourceTypes) =>\n  Promise.all([\n    getSourcesApi().showSource(source.id),\n    getSourcesApi().listSourceEndpoints(source.id),\n    doLoadApplicationsForEdit(source.id, appTypes, sourceTypes),\n  ]).then(async ([sourceData, endpoints, applications]) => {\n    const endpoint = endpoints && endpoints.data && endpoints.data[0];\n\n    const apps = applications?.sources[0]?.applications || [];\n\n    let basicValues = {\n      source: {\n        ...source,\n        ...sourceData,\n      },\n      applications: apps,\n    };\n\n    const promises = [];\n    let appAuths;\n    const addToApp = [];\n    const appAuthenticationIds = [];\n\n    apps.forEach((app) => {\n      app?.authentications?.forEach((auth) => {\n        if (auth?.id) {\n          promises.push(getSourcesApi().showAuthentication(auth.id));\n          addToApp.push(app.id);\n          appAuthenticationIds.push(auth.id);\n        }\n      });\n    });\n\n    if (promises.length > 0) {\n      appAuths = await Promise.all(promises);\n\n      addToApp.forEach((id, index) => {\n        basicValues.applications.find((app) => app.id === id).authentications.push(appAuths[index]);\n      });\n    }\n\n    if (!endpoint) {\n      return basicValues;\n    }\n\n    return getSourcesApi()\n      .listEndpointAuthentications(endpoint.id)\n      .then((authentications) => ({\n        ...basicValues,\n        endpoints: endpoints.data,\n        authentications: authentications.data.filter(({ id }) => !appAuthenticationIds.includes(id)),\n      }));\n  });\n","import React from 'react';\nimport PauseIcon from '@patternfly/react-icons/dist/esm/icons/pause-icon';\nimport { bold } from './intlShared';\n\nexport const pausedAppAlert = (intl, application) => ({\n  title: intl.formatMessage(\n    {\n      id: 'wizard.pausedApplication',\n      defaultMessage: '{application} is paused',\n    },\n    { application }\n  ),\n  description: intl.formatMessage(\n    {\n      id: 'wizard.pausedApplicationDescription',\n      defaultMessage:\n        'To resume data collection for this application, switch {application} on in the <b>Applications</b> section of this page.',\n    },\n    { application, b: bold }\n  ),\n  variant: 'default',\n  customIcon: <PauseIcon />,\n});\n","import get from 'lodash/get';\nimport set from 'lodash/set';\n\nimport { endpointToUrl, UNAVAILABLE } from '../../views/formatters';\nimport { pausedAppAlert } from '../../utilities/alerts';\n\nexport const CHECK_ENDPOINT_COMMAND = 'check-endpoint';\n\nexport const selectOnlyEditedValues = (values, editing) => {\n  const filteredValues = {};\n\n  Object.keys(editing)\n    .filter((key) => editing[key])\n    .forEach((key) => {\n      set(filteredValues, key, get(values, key));\n    });\n\n  return filteredValues;\n};\n\nexport const prepareInitialValues = ({ endpoints, authentications, applications, ...rest }, sourceTypeName) => {\n  const auhenticationsFinal = {};\n\n  const mergeAuths = [\n    ...(authentications || []),\n    ...(applications?.reduce((acc, curr) => [...acc, ...curr.authentications], []) || []),\n  ];\n\n  if (mergeAuths.length > 0) {\n    mergeAuths.forEach((auth) => {\n      auhenticationsFinal[`a${auth.id}`] = auth;\n    });\n  }\n\n  let endpoint;\n  let url;\n\n  if (endpoints && endpoints.length > 0) {\n    endpoint = endpoints[0];\n  }\n\n  if (endpoint) {\n    url = endpoint.scheme || endpoint.host || endpoint.path || endpoint.port ? endpointToUrl(endpoint) : undefined;\n  }\n\n  const applicationsFinal = {};\n  if (applications?.length > 0) {\n    applications.forEach((app) => {\n      if (app.extra && Object.keys(app.extra).length > 0) {\n        applicationsFinal[`a${app.id}`] = { extra: app.extra };\n      }\n    });\n  }\n\n  return {\n    source_type: sourceTypeName,\n    endpoint,\n    authentications: auhenticationsFinal,\n    url,\n    ...(Object.keys(applicationsFinal).length && {\n      applications: applicationsFinal,\n    }),\n    ...rest,\n  };\n};\n\nconst addIfUnique = (array, item) => !array.includes(item) && array.push(item);\n\nexport const getEditedApplications = (source, editing) => {\n  const editedApplications = [];\n\n  const editedFields = Object.keys(editing);\n\n  editedFields.forEach((key) => {\n    if (editing[key]) {\n      const editedId = key.match(/.a\\d+/)?.[0]?.replace('.a', '');\n\n      if (key.startsWith('applications')) {\n        addIfUnique(editedApplications, editedId);\n      }\n\n      if (key.startsWith('authentications')) {\n        source.applications.forEach((app) =>\n          app.authentications.forEach(\n            ({ id, resource_type }) =>\n              resource_type &&\n              id === editedId &&\n              addIfUnique(editedApplications, resource_type === 'Application' ? app.id : `${CHECK_ENDPOINT_COMMAND}-${app.id}`)\n          )\n        );\n      }\n\n      if (key.startsWith('url') || key.startsWith('endpoint')) {\n        source.applications.forEach((app) =>\n          app.authentications.forEach(\n            ({ resource_type }) =>\n              resource_type === 'Endpoint' && addIfUnique(editedApplications, `${CHECK_ENDPOINT_COMMAND}-${app.id}`)\n          )\n        );\n      }\n    }\n  });\n\n  return editedApplications.filter(Boolean);\n};\n\nexport const prepareMessages = (source, intl, appTypes) => {\n  const messages = {};\n\n  source.applications.forEach(({ id, application_type_id, availability_status_error, availability_status, paused_at }) => {\n    if (paused_at) {\n      const application = appTypes.find((type) => type.id === application_type_id)?.display_name || id;\n      messages[id] = pausedAppAlert(intl, application);\n    } else if (availability_status === UNAVAILABLE) {\n      messages[id] = {\n        title: intl.formatMessage({\n          id: 'wizard.failEditToastTitleBeforeEdit',\n          defaultMessage: 'This application is unavailable',\n        }),\n        description: availability_status_error,\n        variant: 'danger',\n      };\n    }\n  });\n\n  if (source.endpoints?.[0]?.availability_status_error) {\n    const applicationsUsingEndpoint = source.applications\n      .map((app) =>\n        app.authentications.find(({ resource_type }) => !app.paused_at && resource_type === 'Endpoint') ? app.id : undefined\n      )\n      .filter(Boolean);\n\n    applicationsUsingEndpoint.forEach((id) => {\n      messages[id] = {\n        title: intl.formatMessage({\n          id: 'wizard.failEditToastTitleBeforeEdit',\n          defaultMessage: 'This application is unavailable',\n        }),\n        description: source.endpoints?.[0]?.availability_status_error,\n        variant: 'danger',\n      };\n    });\n  }\n\n  return messages;\n};\n","import { CHECK_ENDPOINT_COMMAND, getEditedApplications, selectOnlyEditedValues } from './helpers';\nimport { loadEntities } from '../../redux/sources/actions';\nimport { checkSourceStatus } from '../../api/checkSourceStatus';\nimport { doUpdateSource } from '../../api/doUpdateSource';\nimport { checkAppAvailability } from '../../api/getApplicationStatus';\n\nimport { AVAILABLE, IN_PROGRESS, UNAVAILABLE } from '../../views/formatters';\n\nexport const onSubmit = async (values, editing, dispatch, source, intl, setState) => {\n  setState({ type: 'submit', values, editing });\n\n  const startDate = new Date();\n\n  try {\n    await doUpdateSource(source, selectOnlyEditedValues(values, editing), values);\n  } catch {\n    await dispatch(loadEntities());\n    setState({ type: 'submitFailed' });\n\n    return;\n  }\n\n  checkSourceStatus(source.source.id);\n\n  let messages = {};\n\n  const checkApplications = getEditedApplications(source, editing);\n\n  const promises = [];\n\n  checkApplications.forEach((checkInfo) => {\n    if (checkInfo.includes(CHECK_ENDPOINT_COMMAND)) {\n      promises.push(\n        checkAppAvailability(source.endpoints[0].id, undefined, undefined, 'getEndpoint', startDate).then((data) => ({\n          ...data,\n          id: checkInfo.replace(`${CHECK_ENDPOINT_COMMAND}-`, ''),\n        }))\n      );\n    } else {\n      promises.push(checkAppAvailability(checkInfo, undefined, undefined, undefined, startDate));\n    }\n  });\n\n  let statusResults;\n  if (promises.length > 0) {\n    try {\n      statusResults = await Promise.all(promises);\n    } catch (error) {\n      await dispatch(loadEntities());\n      setState({ type: 'submitFailed' });\n      return;\n    }\n\n    statusResults.forEach(({ availability_status, availability_status_error, id }) => {\n      if (availability_status === AVAILABLE) {\n        messages[id] = {\n          title: intl.formatMessage({\n            id: 'wizard.successEditToastTitle',\n            defaultMessage: 'Application credentials were edited successfully.',\n          }),\n          description: availability_status_error,\n          variant: 'success',\n        };\n      }\n\n      if (availability_status === UNAVAILABLE) {\n        messages[id] = {\n          title: intl.formatMessage({\n            id: 'wizard.failEditToastTitle',\n            defaultMessage: 'Edit application credentials failed.',\n          }),\n          description: availability_status_error,\n          variant: 'danger',\n        };\n      }\n\n      if (!availability_status || availability_status === IN_PROGRESS) {\n        messages[id] = {\n          title: intl.formatMessage({\n            id: 'wizard.timeoutEditToastTitle',\n            defaultMessage: 'Edit in progress',\n          }),\n          description: intl.formatMessage({\n            id: 'wizard.timeoutEditToastDescription',\n            defaultMessage:\n              'We are still working to confirm your updated credentials. Changes will be reflected in this table when complete.',\n          }),\n          variant: 'warning',\n        };\n      }\n    });\n  }\n\n  await dispatch(loadEntities());\n  setState({ type: 'submitFinished', messages });\n};\n","import { applicationsFields } from './application';\n\nexport const parseSourceToSchema = (source, sourceType, appTypes, intl) => ({\n  description: intl.formatMessage({\n    id: 'sources.editFormDescripiton',\n    defaultMessage: 'Use the form fields to edit application credentials.',\n  }),\n  fields: applicationsFields(source.applications, sourceType, appTypes),\n});\n","import { parseSourceToSchema } from './parser/parseSourceToSchema';\nimport { prepareInitialValues } from './helpers';\n\nexport const initialState = {\n  loading: true,\n  source: undefined,\n  initialValues: {},\n  sourceType: undefined,\n  schema: undefined,\n  isSubmitting: false,\n  initialLoad: true,\n  submitError: false,\n  submitMessages: undefined,\n};\n\nconst reducer = (state, { type, source, sourceType, appTypes, intl, values, editing, messages }) => {\n  switch (type) {\n    case 'createForm':\n      return {\n        ...state,\n        sourceType,\n        initialValues: prepareInitialValues(state.source, sourceType.product_name),\n        schema: parseSourceToSchema(state.source, sourceType, appTypes, intl),\n        loading: false,\n      };\n    case 'setSource':\n      return {\n        ...state,\n        messages: {\n          ...messages,\n          ...state.submitMessages,\n        },\n        source,\n        initialLoad: false,\n        submitMessages: undefined,\n      };\n    case 'submit':\n      return {\n        ...state,\n        isSubmitting: true,\n        submitError: false,\n        values,\n        editing,\n      };\n    case 'submitFinished':\n      return {\n        ...state,\n        isSubmitting: false,\n        source,\n        submitMessages: messages,\n      };\n    case 'submitFailed':\n      return {\n        ...state,\n        isSubmitting: false,\n        submitError: true,\n        messages: undefined,\n      };\n    case 'sourceChanged':\n      return {\n        ...state,\n        initialLoad: true,\n        loading: true,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\nimport LoadingStep from '../steps/LoadingStep';\n\nconst SubmittingModal = () => {\n  const intl = useIntl();\n\n  return (\n    <LoadingStep\n      customText={intl.formatMessage({\n        id: 'sources.editSubmittingTitle',\n        defaultMessage: 'Validating edited source credentials',\n      })}\n    />\n  );\n};\n\nexport default SubmittingModal;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\n\nimport { Text } from '@patternfly/react-core';\n\nimport ErroredStep from '../steps/ErroredStep';\n\nconst ErroredModal = ({ onRetry }) => {\n  const intl = useIntl();\n\n  return (\n    <ErroredStep\n      onClose={onRetry}\n      customText={intl.formatMessage({\n        id: 'sources.editErrorDescription',\n        defaultMessage:\n          'There was a problem while trying to edit your source. Please try again. If the error persists, open a support case.',\n      })}\n      secondaryActions={\n        <Text\n          component=\"a\"\n          target=\"_blank\"\n          href=\"https://access.redhat.com/support/cases/#/case/new/open-case?caseCreate=true\"\n          rel=\"noopener noreferrer\"\n        >\n          {intl.formatMessage({\n            id: 'sources.openTicket',\n            defaultMessage: 'Open a support case',\n          })}\n        </Text>\n      }\n      returnButtonTitle={intl.formatMessage({\n        id: 'sources.retryText',\n        defaultMessage: 'Retry',\n      })}\n    />\n  );\n};\n\nErroredModal.propTypes = {\n  onRetry: PropTypes.func.isRequired,\n};\n\nexport default ErroredModal;\n","import React, { useEffect, useReducer } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { useIntl } from 'react-intl';\nimport { Spinner, Bullseye } from '@patternfly/react-core';\n\nimport FormTemplate from '@data-driven-forms/pf4-component-mapper/form-template';\n\nimport SourcesFormRenderer from '../../utilities/SourcesFormRenderer';\nimport { doLoadSourceForEdit } from '../../api/doLoadSourceForEdit';\nimport { onSubmit } from './onSubmit';\n\nimport { useSource } from '../../hooks/useSource';\nimport { useIsLoaded } from '../../hooks/useIsLoaded';\nimport reducer, { initialState } from './reducer';\nimport SubmittingModal from './SubmittingModal';\nimport ErroredModal from './ErroredModal';\nimport { prepareMessages } from './helpers';\n\nconst SourceEditModal = () => {\n  const [state, setState] = useReducer(reducer, initialState);\n  const sourceRedux = useSource();\n  const isLoaded = useIsLoaded();\n\n  const { loading, editing, source, initialValues, schema, isSubmitting, initialLoad, message, messages, submitError, values } =\n    state;\n\n  const intl = useIntl();\n\n  const { sourceTypes, appTypes, sourceTypesLoaded, appTypesLoaded } = useSelector(({ sources }) => sources, shallowEqual);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!initialLoad) {\n      setState({ type: 'sourceChanged' });\n    }\n  }, [sourceRedux, sourceRedux?.applications?.length]);\n\n  useEffect(() => {\n    if (sourceRedux && initialLoad && appTypesLoaded) {\n      doLoadSourceForEdit(sourceRedux, appTypes, sourceTypes).then((source) => {\n        const messages = prepareMessages(source, intl, appTypes);\n\n        setState({ type: 'setSource', source, messages });\n      });\n    }\n  }, [sourceRedux, isLoaded, appTypesLoaded, initialLoad]);\n\n  useEffect(() => {\n    if (source && appTypesLoaded && sourceTypesLoaded) {\n      const sourceType = sourceTypes.find(({ id }) => id === source.source.source_type_id);\n\n      setState({ type: 'createForm', sourceType, source, appTypes, intl });\n    }\n  }, [appTypesLoaded, source, sourceTypesLoaded]);\n\n  const isLoading = !appTypesLoaded || !sourceTypesLoaded || loading;\n\n  if (submitError) {\n    return <ErroredModal onRetry={() => onSubmit(values, editing, dispatch, source, intl, setState)} />;\n  }\n\n  if (isSubmitting) {\n    return <SubmittingModal />;\n  }\n\n  if (isLoading) {\n    return (\n      <Bullseye className=\"pf-u-m-2xl\">\n        <Spinner />\n      </Bullseye>\n    );\n  }\n\n  const hideFormControls = source.source.paused_at || source.applications.every(({ paused_at }) => paused_at);\n\n  return (\n    <SourcesFormRenderer\n      schema={schema}\n      onSubmit={(values, formApi) => onSubmit(values, formApi.getState().dirtyFields, dispatch, source, intl, setState)}\n      FormTemplate={(props) => (\n        <FormTemplate\n          canReset\n          showFormControls={!hideFormControls}\n          submitLabel=\"Save changes\"\n          disableSubmit={['pristine', 'invalid']}\n          {...props}\n        />\n      )}\n      clearedValue={null}\n      initialValues={{\n        ...initialValues,\n        ...(!sourceRedux.paused_at && { message }),\n        ...(!sourceRedux.paused_at && { messages }),\n      }}\n    />\n  );\n};\n\nexport default SourceEditModal;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\n\nimport { Card, CardBody, CardTitle } from '@patternfly/react-core';\n\nimport NoApplications from './NoApplications';\nimport { useHasWritePermissions } from '../../hooks/useHasWritePermissions';\nimport { useSource } from '../../hooks/useSource';\nimport NoPermissions from './NoPermissions';\nimport SourceEditModal from '../SourceEditForm/SourceEditModal';\n\nconst ApplicationResourcesCard = () => {\n  const intl = useIntl();\n  const source = useSource();\n  const hasRightAccess = useHasWritePermissions();\n\n  return (\n    <Card className=\"card pf-u-m-lg pf-u-mt-0\">\n      <CardTitle>\n        {intl.formatMessage({\n          id: 'detail.resources.title',\n          defaultMessage: 'Manage connected applications',\n        })}\n      </CardTitle>\n      <CardBody>\n        {!hasRightAccess && <NoPermissions />}\n        {hasRightAccess && source.applications.length === 0 && <NoApplications />}\n        {hasRightAccess && source.applications.length > 0 && <SourceEditModal />}\n      </CardBody>\n    </Card>\n  );\n};\n\nexport default ApplicationResourcesCard;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useIntl } from 'react-intl';\n\nimport { Breadcrumb, BreadcrumbItem } from '@patternfly/react-core';\nimport { routes } from '../../Routes';\nimport { useSource } from '../../hooks/useSource';\n\nconst Breadcrumbs = () => {\n  const intl = useIntl();\n  const source = useSource();\n\n  return (\n    <Breadcrumb>\n      <BreadcrumbItem component={({ href, ...props }) => <Link to={href} {...props} />} to={routes.sources.path}>\n        {intl.formatMessage({\n          id: 'sources.sources',\n          defaultMessage: 'Sources',\n        })}\n      </BreadcrumbItem>\n      <BreadcrumbItem isActive>{source.name}</BreadcrumbItem>\n    </Breadcrumb>\n  );\n};\n\nexport default Breadcrumbs;\n","import React, { useState } from 'react';\nimport { useIntl } from 'react-intl';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\n\nimport { Dropdown, DropdownItem, KebabToggle } from '@patternfly/react-core';\n\nimport { replaceRouteId, routes } from '../../Routes';\nimport { useSource } from '../../hooks/useSource';\nimport { useHasWritePermissions } from '../../hooks/useHasWritePermissions';\nimport { pauseSource, resumeSource } from '../../redux/sources/actions';\nimport disabledTooltipProps from '../../utilities/disabledTooltipProps';\n\nconst SourceKebab = () => {\n  const [isOpen, setOpen] = useState(false);\n  const intl = useIntl();\n  const { push } = useHistory();\n  const source = useSource();\n  const hasRightAccess = useHasWritePermissions();\n  const dispatch = useDispatch();\n\n  const wrappedFunction = (func) => () => {\n    setOpen(false);\n    func();\n  };\n\n  const pausedTooltip = intl.formatMessage({\n    id: 'sources.pausedSourceAction',\n    defaultMessage: 'You cannot perform this action on a paused source.',\n  });\n\n  const disabledProps = disabledTooltipProps(intl);\n\n  const pausedProps = {\n    ...disabledProps,\n    tooltip: pausedTooltip,\n  };\n\n  return (\n    <Dropdown\n      toggle={<KebabToggle onToggle={() => setOpen(!isOpen)} id=\"toggle-id-6\" />}\n      isOpen={isOpen}\n      isPlain\n      position=\"right\"\n      dropdownItems={[\n        source.paused_at ? (\n          <DropdownItem\n            {...(!hasRightAccess && disabledProps)}\n            key=\"unpause\"\n            onClick={wrappedFunction(() => dispatch(resumeSource(source.id, source.name, intl)))}\n            description={intl.formatMessage({\n              id: 'detail.resume.description',\n              defaultMessage: 'Unpause data collection for this source',\n            })}\n          >\n            {intl.formatMessage({\n              id: 'detail.resume.button',\n              defaultMessage: 'Resume',\n            })}\n          </DropdownItem>\n        ) : (\n          <DropdownItem\n            {...(!hasRightAccess && disabledProps)}\n            key=\"pause\"\n            onClick={wrappedFunction(() => dispatch(pauseSource(source.id, source.name, intl)))}\n            description={intl.formatMessage({\n              id: 'detail.pause.description',\n              defaultMessage: 'Temporarily disable data collection',\n            })}\n          >\n            {intl.formatMessage({\n              id: 'detail.pause.button',\n              defaultMessage: 'Pause',\n            })}\n          </DropdownItem>\n        ),\n        <DropdownItem\n          {...(!hasRightAccess && disabledProps)}\n          key=\"remove\"\n          onClick={() => push(replaceRouteId(routes.sourcesDetailRemove.path, source.id))}\n          description={intl.formatMessage({\n            id: 'detail.remove.description',\n            defaultMessage: 'Permanently delete this source and all collected data',\n          })}\n        >\n          {intl.formatMessage({\n            id: 'detail.remove.button',\n            defaultMessage: 'Remove',\n          })}\n        </DropdownItem>,\n        <DropdownItem\n          {...(!hasRightAccess && disabledProps)}\n          {...(source.paused_at && pausedProps)}\n          key=\"rename\"\n          onClick={() => push(replaceRouteId(routes.sourcesDetailRename.path, source.id))}\n        >\n          {intl.formatMessage({\n            id: 'detail.rename.button',\n            defaultMessage: 'Rename',\n          })}\n        </DropdownItem>,\n      ]}\n    />\n  );\n};\n\nexport default SourceKebab;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\nimport { shallowEqual, useSelector } from 'react-redux';\n\nimport { PageHeader } from '@redhat-cloud-services/frontend-components/PageHeader';\nimport { Title, TextContent, Text, Flex, FlexItem } from '@patternfly/react-core';\n\nimport Breadcrumbs from './Breadcrumbs';\nimport { useSource } from '../../hooks/useSource';\nimport { availabilityFormatter } from '../../views/formatters';\nimport SourceKebab from './SourceKebab';\n\nconst DetailHeader = () => {\n  const intl = useIntl();\n  const source = useSource();\n  const appTypes = useSelector(({ sources }) => sources.appTypes, shallowEqual);\n  const sourceTypes = useSelector(({ sources }) => sources.sourceTypes, shallowEqual);\n\n  return (\n    <PageHeader>\n      <Breadcrumbs />\n      <Flex className=\"pf-u-mb-sm\">\n        <FlexItem>\n          <Title headingLevel=\"h1\" size=\"2xl\">\n            {source.name}\n          </Title>\n        </FlexItem>\n        <FlexItem>{availabilityFormatter(undefined, source, { appTypes, sourceTypes })}</FlexItem>\n        <FlexItem align={{ default: 'alignRight' }}>\n          <SourceKebab />\n        </FlexItem>\n      </Flex>\n      <TextContent>\n        <Text>\n          {intl.formatMessage({\n            id: 'detail.description',\n            defaultMessage: 'View details and manage connections for this source.',\n          })}\n        </Text>\n      </TextContent>\n    </PageHeader>\n  );\n};\n\nexport default DetailHeader;\n","import React, { useEffect, useReducer } from 'react';\nimport { useIntl } from 'react-intl';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport get from 'lodash/get';\n\nimport { Table, TableHeader, TableBody } from '@patternfly/react-table';\n\nimport { Card, CardBody, CardTitle, Text, Spinner, Bullseye, Tabs, Tab, TabTitleText, Alert } from '@patternfly/react-core';\n\nimport NoApplications from './NoApplications';\nimport { useSource } from '../../hooks/useSource';\nimport { useIsLoaded } from '../../hooks/useIsLoaded';\nimport { doLoadSourceForEdit } from '../../api/doLoadSourceForEdit';\nimport { authenticationFields } from '../SourceEditForm/parser/authentication';\nimport { prepareInitialValues } from '../SourceEditForm/helpers';\nimport ResourcesEmptyState from './ResourcesEmptyState';\nimport { pausedAppAlert } from '../../utilities/alerts';\n\nconst createColumns = (intl) => [\n  intl.formatMessage({ id: 'resourceTable.resourceType', defaultMessage: 'Resource type' }),\n  intl.formatMessage({ id: 'resourceTable.resourceValue', defaultMessage: 'Value' }),\n];\n\nconst convertFieldsToRows = (fields, initialValues) =>\n  fields\n    .flatMap((x) => x)\n    .map(\n      (field) => !field.hideField && [<React.Fragment key=\"label\">{field.label}</React.Fragment>, get(initialValues, field.name)]\n    )\n    .filter(Boolean);\n\nconst createRows = (source, appTypes, sourceType) => {\n  const applicationsRows = source.applications.reduce((acc, app) => {\n    const appType = appTypes.find(({ id }) => id === app.application_type_id);\n\n    const applicationFieldsSchema = authenticationFields(\n      app.authentications?.filter((auth) => Object.keys(auth).length > 1),\n      sourceType,\n      appType?.name,\n      app.id\n    );\n\n    const initialValues = prepareInitialValues(source, sourceType.product_name);\n    const applicationRows = convertFieldsToRows(applicationFieldsSchema, initialValues);\n\n    return { ...acc, [app.id]: applicationRows };\n  }, {});\n\n  return applicationsRows;\n};\n\nconst initialValues = (source) => ({\n  loading: Boolean(source.applications?.length),\n  columns: [],\n  applicationsRows: {},\n  activeTab: 0,\n});\n\nconst reducer = (state, { type, intl, source, activeTab, appTypes, sourceType }) => {\n  switch (type) {\n    case 'loaded':\n      return {\n        ...state,\n        columns: createColumns(intl),\n        applicationsRows: createRows(source, appTypes, sourceType),\n        loading: false,\n        activeTab: source.applications[0].id,\n      };\n    case 'switchTab':\n      return {\n        ...state,\n        activeTab,\n      };\n    case 'setLoading':\n      return {\n        ...state,\n        loading: true,\n      };\n  }\n};\n\nconst ResourcesTable = () => {\n  const intl = useIntl();\n  const source = useSource();\n  const isLoaded = useIsLoaded();\n\n  const { sourceTypes, appTypes, sourceTypesLoaded, appTypesLoaded } = useSelector(({ sources }) => sources, shallowEqual);\n\n  const [{ activeTab, loading, columns, applicationsRows }, dispatch] = useReducer(reducer, initialValues(source));\n\n  useEffect(() => {\n    if (source && isLoaded && appTypesLoaded && sourceTypesLoaded && source?.applications?.length) {\n      dispatch({ type: 'setLoading' });\n\n      doLoadSourceForEdit(source, appTypes, sourceTypes).then((source) => {\n        const sourceType = sourceTypes.find(({ id }) => id === source.source.source_type_id);\n\n        dispatch({ type: 'loaded', source, intl, sourceType, appTypes });\n      });\n    }\n  }, [source?.applications?.length, isLoaded, appTypesLoaded, sourceTypesLoaded]);\n\n  return (\n    <Card className=\"pf-u-m-lg pf-u-mt-0\">\n      <CardTitle>\n        {intl.formatMessage({\n          id: 'resourceTable.title',\n          defaultMessage: 'Connected application resources',\n        })}\n      </CardTitle>\n      <CardBody>\n        {loading && (\n          <Bullseye className=\"pf-u-m-2xl\">\n            <Spinner />\n          </Bullseye>\n        )}\n        {!loading && !source.applications.length && <NoApplications />}\n        {!loading && source.applications.length > 0 && (\n          <React.Fragment>\n            <Text className=\"pf-u-mb-md\">\n              {intl.formatMessage({\n                id: 'resourceTable.description',\n                defaultMessage: 'View resources for your connected applications.',\n              })}\n            </Text>\n            <Tabs isBox activeKey={activeTab} onSelect={(_e, activeTab) => dispatch({ type: 'switchTab', activeTab })}>\n              {source.applications.map((app) => {\n                const appName =\n                  appTypes.find(({ id }) => id === app.application_type_id)?.display_name || app.application_type_id;\n\n                const { description, ...alertProps } = app.paused_at ? pausedAppAlert(intl, appName) : {};\n\n                return (\n                  <Tab eventKey={app.id} key={app.id} title={<TabTitleText>{appName}</TabTitleText>}>\n                    {app.paused_at && !source.paused_at && (\n                      <Alert isInline className=\"pf-u-mt-lg\" {...alertProps}>\n                        {description}\n                      </Alert>\n                    )}\n                    {applicationsRows[app.id]?.length ? (\n                      <Table\n                        aria-label={intl.formatMessage({\n                          id: 'resourceTable.title',\n                          defaultMessage: 'Connected application resources',\n                        })}\n                        variant=\"compact\"\n                        cells={columns}\n                        rows={applicationsRows[app.id]}\n                        className=\"pf-u-mt-md\"\n                      >\n                        <TableHeader />\n                        <TableBody />\n                      </Table>\n                    ) : (\n                      <ResourcesEmptyState applicationName={appName} />\n                    )}\n                  </Tab>\n                );\n              })}\n            </Tabs>\n          </React.Fragment>\n        )}\n      </CardBody>\n    </Card>\n  );\n};\n\nexport default ResourcesTable;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\nimport { useDispatch } from 'react-redux';\nimport { useSource } from '../../hooks/useSource';\n\nimport { Alert, AlertActionLink, GridItem, Tooltip } from '@patternfly/react-core';\nimport PauseIcon from '@patternfly/react-icons/dist/esm/icons/pause-icon';\n\nimport { useHasWritePermissions } from '../../hooks/useHasWritePermissions';\nimport { resumeSource } from '../../redux/sources/actions';\nimport { disabledMessage } from '../../utilities/disabledTooltipProps';\n\nconst PauseAlert = () => {\n  const intl = useIntl();\n  const writePermissions = useHasWritePermissions();\n  const dispatch = useDispatch();\n  const source = useSource();\n\n  return (\n    <GridItem md={12} className=\"pf-u-m-lg pf-u-mb-0\">\n      <Alert\n        customIcon={<PauseIcon />}\n        variant=\"default\"\n        isInline\n        title={intl.formatMessage({\n          id: 'source.detail.pausedTitle',\n          defaultMessage: 'Source paused',\n        })}\n        actionLinks={\n          writePermissions ? (\n            <AlertActionLink onClick={() => dispatch(resumeSource(source.id, source.name, intl))}>\n              {intl.formatMessage({\n                id: 'source.detail.resumeConnection',\n                defaultMessage: 'Resume connection',\n              })}\n            </AlertActionLink>\n          ) : (\n            <Tooltip content={disabledMessage(intl)}>\n              <AlertActionLink isDisabled>\n                {intl.formatMessage({\n                  id: 'source.detail.resumeConnection',\n                  defaultMessage: 'Resume connection',\n                })}\n              </AlertActionLink>\n            </Tooltip>\n          )\n        }\n      >\n        {intl.formatMessage({\n          id: 'source.detail.pausedDescription',\n          defaultMessage:\n            'No data is being collected for this source. Turn the source back on to reestablish connection and data collection. Previous credentials will be restored and application connections will continue as seen on this page.',\n        })}\n      </Alert>\n    </GridItem>\n  );\n};\n\nexport default PauseAlert;\n","import React, { lazy, Suspense } from 'react';\n\nimport { Grid, GridItem } from '@patternfly/react-core';\n\nimport SourceSummaryCard from '../components/SourceDetail/SourceSummaryCard';\nimport ApplicationsCard from '../components/SourceDetail/ApplicationsCard';\nimport ApplicationResourcesCard from '../components/SourceDetail/ApplicationResourcesCard';\nimport RedirectNoId from '../components/RedirectNoId/RedirectNoId';\nimport { useSource } from '../hooks/useSource';\nimport { DetailLoader } from '../components/SourcesTable/loaders';\nimport CustomRoute from '../components/CustomRoute/CustomRoute';\nimport { replaceRouteId, routes } from '../Routes';\nimport DetailHeader from '../components/SourceDetail/DetailHeader';\nimport isSuperKey from '../utilities/isSuperKey';\nimport ResourcesTable from '../components/SourceDetail/ResourcesTable';\nimport PauseAlert from '../components/SourceDetail/PauseAlert';\n\nconst SourceRemoveModal = lazy(() =>\n  import(\n    /* webpackChunkName: \"removeSource\" */\n    '../components/SourceRemoveModal/SourceRemoveModal'\n  )\n);\n\nconst AddApplication = lazy(() =>\n  import(\n    /* webpackChunkName: \"addApplication\" */\n    '../components/AddApplication/AddApplication'\n  )\n);\n\nconst RemoveAppModal = lazy(() =>\n  import(\n    /* webpackChunkName: \"removeApplication\" */\n    '../components/AddApplication/RemoveAppModal'\n  )\n);\n\nconst SourceRenameModal = lazy(() =>\n  import(\n    /* webpackChunkName: \"renameSource\" */\n    '../components/SourceDetail/SourceRenameModal'\n  )\n);\n\nconst EditCredentials = lazy(() =>\n  import(\n    /* webpackChunkName: \"credentialsForm\" */\n    '../components/CredentialsForm/CredentialsForm'\n  )\n);\n\nconst Detail = () => {\n  const source = useSource();\n\n  if (!source) {\n    return (\n      <React.Fragment>\n        <DetailLoader />\n        <RedirectNoId />\n      </React.Fragment>\n    );\n  }\n\n  const superKey = isSuperKey(source);\n\n  return (\n    <div className=\"src-c-detail-page\">\n      <Suspense fallback={null}>\n        <CustomRoute\n          exact\n          route={routes.sourcesDetailRemove}\n          Component={SourceRemoveModal}\n          componentProps={{ backPath: replaceRouteId(routes.sourcesDetail.path, source.id) }}\n        />\n        <CustomRoute exact route={routes.sourcesDetailAddApp} Component={AddApplication} />\n        <CustomRoute exact route={routes.sourcesDetailRemoveApp} Component={RemoveAppModal} />\n        <CustomRoute exact route={routes.sourcesDetailRename} Component={SourceRenameModal} />\n        <CustomRoute exact route={routes.sourcesDetailEditCredentials} Component={EditCredentials} />\n      </Suspense>\n      <DetailHeader />\n      {source.paused_at && <PauseAlert />}\n      <Grid>\n        <GridItem md=\"6\">\n          <SourceSummaryCard />\n        </GridItem>\n        <GridItem md=\"6\">\n          <ApplicationsCard />\n        </GridItem>\n        <GridItem md=\"12\">{superKey ? <ResourcesTable /> : <ApplicationResourcesCard />}</GridItem>\n      </Grid>\n    </div>\n  );\n};\n\nexport default Detail;\n","export const ACTION_TYPES = [\n  'LOAD_ENTITIES',\n  'CREATE_SOURCE',\n  'REMOVE_SOURCE',\n  'LOAD_SOURCE_TYPES',\n  'LOAD_APP_TYPES',\n  'REMOVE_APPLICATION',\n  'RENAME_SOURCE',\n].reduce(\n  (acc, curr) => ({\n    ...acc,\n    [curr]: curr,\n    [`${curr}_PENDING`]: `${curr}_PENDING`,\n    [`${curr}_FULFILLED`]: `${curr}_FULFILLED`,\n    [`${curr}_REJECTED`]: `${curr}_REJECTED`,\n  }),\n  {}\n);\n\nexport const SORT_ENTITIES = 'SORT_ENTITIES';\nexport const PAGE_AND_SIZE = 'PAGE_AND_SIZE';\nexport const FILTER_SOURCES = 'FILTER_SOURCES';\nexport const ADD_APP_TO_SOURCE = 'ADD_APP_TO_SOURCE';\nexport const SET_COUNT = 'SET_COUNT';\nexport const ADD_HIDDEN_SOURCE = 'ADD_HIDDEN_SOURCE';\nexport const CLEAR_FILTERS = 'CLEAR_FILTERS';\nexport const SET_VENDOR = 'SET_VENDOR';\n","import React from 'react';\n\nimport PauseIcon from '@patternfly/react-icons/dist/esm/icons/pause-icon';\nimport PlayIcon from '@patternfly/react-icons/dist/esm/icons/play-icon';\n\nimport { ADD_NOTIFICATION, REMOVE_NOTIFICATION } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport {\n  ACTION_TYPES,\n  SORT_ENTITIES,\n  PAGE_AND_SIZE,\n  FILTER_SOURCES,\n  ADD_APP_TO_SOURCE,\n  ADD_HIDDEN_SOURCE,\n  CLEAR_FILTERS,\n  SET_VENDOR,\n} from './actionTypes';\nimport { doLoadAppTypes, doRemoveSource, doLoadEntities, doDeleteApplication, getSourcesApi } from '../../api/entities';\nimport { doLoadSourceTypes } from '../../api/source_types';\nimport { bold } from '../../utilities/intlShared';\nimport handleError from '../../api/handleError';\nimport tryAgainMessage from '../../utilities/tryAgainMessage';\n\nexport const loadEntities = (options) => (dispatch, getState) => {\n  dispatch({\n    type: ACTION_TYPES.LOAD_ENTITIES_PENDING,\n    options: typeof options === 'function' ? options(getState) : options,\n  });\n\n  const { pageSize, pageNumber, sortBy, sortDirection, filterValue, activeVendor } = getState().sources;\n\n  return doLoadEntities({\n    pageSize,\n    pageNumber,\n    sortBy,\n    sortDirection,\n    filterValue,\n    activeVendor,\n  })\n    .then(({ sources, sources_aggregate }) =>\n      dispatch({\n        type: ACTION_TYPES.LOAD_ENTITIES_FULFILLED,\n        payload: { sources, sources_aggregate },\n      })\n    )\n    .catch((error) =>\n      dispatch({\n        type: ACTION_TYPES.LOAD_ENTITIES_REJECTED,\n        meta: { noError: true },\n        payload: {\n          error: {\n            detail: error.detail || error.data,\n            title: error.title || 'Fetching data failed, try refresh page',\n          },\n        },\n      })\n    );\n};\n\nexport const loadSourceTypes = () => (dispatch) => {\n  dispatch({ type: ACTION_TYPES.LOAD_SOURCE_TYPES_PENDING });\n\n  return doLoadSourceTypes()\n    .then((sourceTypes) =>\n      dispatch({\n        type: ACTION_TYPES.LOAD_SOURCE_TYPES_FULFILLED,\n        payload: sourceTypes,\n      })\n    )\n    .catch((error) =>\n      dispatch({\n        type: ACTION_TYPES.LOAD_SOURCE_TYPES_REJECTED,\n        payload: { error },\n        meta: { noError: true },\n      })\n    );\n};\n\nexport const loadAppTypes = () => (dispatch) => {\n  dispatch({ type: ACTION_TYPES.LOAD_APP_TYPES_PENDING });\n\n  return doLoadAppTypes()\n    .then((appTypes) =>\n      dispatch({\n        type: ACTION_TYPES.LOAD_APP_TYPES_FULFILLED,\n        payload: appTypes.data,\n      })\n    )\n    .catch((error) =>\n      dispatch({\n        type: ACTION_TYPES.LOAD_APP_TYPES_REJECTED,\n        payload: { error },\n        meta: { noError: true },\n      })\n    );\n};\n\nexport const sortEntities = (column, direction) => (dispatch) => {\n  dispatch({\n    type: SORT_ENTITIES,\n    payload: { column, direction },\n  });\n\n  return dispatch(loadEntities());\n};\n\nexport const pageAndSize = (page, size) => (dispatch) => {\n  dispatch({\n    type: PAGE_AND_SIZE,\n    payload: { page, size },\n  });\n\n  return dispatch(loadEntities({ paginationClicked: true }));\n};\n\nexport const filterSources = (value) => (dispatch) => {\n  dispatch({\n    type: FILTER_SOURCES,\n    payload: { value },\n  });\n\n  return dispatch(loadEntities());\n};\n\nexport const addMessage = (props) => (dispatch) =>\n  dispatch({\n    type: ADD_NOTIFICATION,\n    payload: {\n      dismissable: true,\n      ...props,\n    },\n  });\n\nexport const removeSource = (sourceId, title) => (dispatch) => {\n  dispatch({\n    type: ACTION_TYPES.REMOVE_SOURCE_PENDING,\n    meta: {\n      sourceId,\n    },\n  });\n\n  return doRemoveSource(sourceId)\n    .then(() => dispatch(loadEntities({ loaded: 0 })))\n    .then(() => {\n      dispatch({\n        type: ACTION_TYPES.REMOVE_SOURCE_FULFILLED,\n        meta: {\n          sourceId,\n        },\n      });\n      dispatch(addMessage({ title, variant: 'success' }));\n    })\n    .catch(() =>\n      dispatch({\n        type: ACTION_TYPES.REMOVE_SOURCE_REJECTED,\n        meta: {\n          sourceId,\n        },\n      })\n    );\n};\n\nexport const removeMessage = (id) => ({\n  type: REMOVE_NOTIFICATION,\n  payload: id,\n});\n\nexport const removeApplication = (appId, sourceId, successTitle, errorTitle) => ({\n  type: ACTION_TYPES.REMOVE_APPLICATION,\n  payload: () => doDeleteApplication(appId, errorTitle),\n  meta: {\n    appId,\n    sourceId,\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: successTitle,\n        dismissable: true,\n      },\n    },\n  },\n});\n\nexport const addAppToSource = (sourceId, app) => ({\n  type: ADD_APP_TO_SOURCE,\n  payload: {\n    sourceId,\n    app,\n  },\n});\n\nexport const addHiddenSource = (source) => ({\n  type: ADD_HIDDEN_SOURCE,\n  payload: {\n    source,\n  },\n});\n\nexport const clearFilters = () => (dispatch) => {\n  dispatch({\n    type: CLEAR_FILTERS,\n  });\n\n  return dispatch(loadEntities());\n};\n\nexport const renameSource = (id, name, errorTitle) => (dispatch, getState) => {\n  const oldName = getState().sources.entities.find((source) => source.id === id)?.name;\n\n  dispatch({ type: ACTION_TYPES.RENAME_SOURCE_PENDING, payload: { id, name } });\n\n  return getSourcesApi()\n    .updateSource(id, { name })\n    .catch((error) =>\n      dispatch({\n        type: ACTION_TYPES.RENAME_SOURCE_REJECTED,\n        payload: { error: { detail: error.errors?.[0]?.detail || error, title: errorTitle }, id, name: oldName },\n      })\n    );\n};\n\nexport const setActiveVendor = (vendor) => (dispatch) => {\n  dispatch({\n    type: SET_VENDOR,\n    payload: { vendor },\n  });\n\n  return dispatch(loadEntities());\n};\n\nexport const pauseSource = (sourceId, sourceName, intl) => (dispatch) => {\n  return getSourcesApi()\n    .pauseSource(sourceId)\n    .then(() => {\n      dispatch(\n        addMessage({\n          title: intl.formatMessage({ id: 'source.paused.alert.title', defaultMessage: 'Source paused' }),\n          description: intl.formatMessage(\n            {\n              id: 'source.paused.alert.description',\n              defaultMessage:\n                'Source <b>{ sourceName }</b> is now paused. Data collection for all connected applications will be disabled until the source is resumed.',\n            },\n            { sourceName, b: bold }\n          ),\n          variant: 'default',\n          customIcon: <PauseIcon />,\n        })\n      );\n      dispatch(loadEntities({ loaded: 0 }));\n    })\n    .catch((error) => {\n      dispatch(\n        addMessage({\n          title: intl.formatMessage({ id: 'source.paused.alert.error', defaultMessage: 'Source pause failed' }),\n          description: tryAgainMessage(intl, handleError(error)),\n          variant: 'danger',\n        })\n      );\n    });\n};\n\nexport const resumeSource = (sourceId, sourceName, intl) => (dispatch) => {\n  return getSourcesApi()\n    .unpauseSource(sourceId)\n    .then(() => {\n      dispatch(\n        addMessage({\n          title: intl.formatMessage({ id: 'source.resumed.alert.title', defaultMessage: 'Source resumed' }),\n          description: intl.formatMessage(\n            {\n              id: 'source.resumed.alert.description',\n              defaultMessage: 'Source <b>{ sourceName }</b> will recontinue data collection for connected applications.',\n            },\n            { sourceName, b: bold }\n          ),\n          variant: 'default',\n          customIcon: <PlayIcon />,\n        })\n      );\n      dispatch(loadEntities({ loaded: 0 }));\n    })\n    .catch((error) => {\n      dispatch(\n        addMessage({\n          title: intl.formatMessage({ id: 'source.resume.alert.error', defaultMessage: 'Source resume failed' }),\n          description: tryAgainMessage(intl, handleError(error)),\n          variant: 'danger',\n        })\n      );\n    });\n};\n","export const disabledMessage = (intl) =>\n  intl.formatMessage({\n    id: 'sources.notAdminButton',\n    defaultMessage:\n      'To perform this action, you must be granted Sources Administrator permissions from your Organization Administrator.',\n  });\n\nconst disabledTooltipProps = (intl) => ({\n  tooltip: disabledMessage(intl),\n  isDisabled: true,\n  className: 'src-m-dropdown-item-disabled',\n});\n\nexport default disabledTooltipProps;\n","import { CLOUD_VENDOR, REDHAT_VENDOR, TOPOLOGY_INV_NAME } from './constants';\n\nconst filterApps = (type) => type.name !== TOPOLOGY_INV_NAME;\n\nexport const filterVendorAppTypes =\n  (sourceTypes, activeVendor) =>\n  ({ supported_source_types }) =>\n    supported_source_types.find((type) =>\n      activeVendor === CLOUD_VENDOR\n        ? (sourceTypes.find(({ name }) => type === name)?.vendor || REDHAT_VENDOR) !== REDHAT_VENDOR\n        : sourceTypes.find(({ name }) => type === name)?.vendor === REDHAT_VENDOR\n    );\n\nexport default filterApps;\n","const tryAgainMessage = (intl, error) =>\n  intl.formatMessage(\n    {\n      id: 'tryAgain.text',\n      defaultMessage: '{ error }. Please try again.',\n    },\n    { error }\n  );\n\nexport default tryAgainMessage;\n","import React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { ReactReduxContext } from './Context';\nimport { createSubscription } from '../utils/Subscription';\nimport { useIsomorphicLayoutEffect } from '../utils/useIsomorphicLayoutEffect';\n\nfunction Provider(_ref) {\n  var store = _ref.store,\n      context = _ref.context,\n      children = _ref.children;\n  var contextValue = useMemo(function () {\n    var subscription = createSubscription(store);\n    subscription.onStateChange = subscription.notifyNestedSubs;\n    return {\n      store: store,\n      subscription: subscription\n    };\n  }, [store]);\n  var previousState = useMemo(function () {\n    return store.getState();\n  }, [store]);\n  useIsomorphicLayoutEffect(function () {\n    var subscription = contextValue.subscription;\n    subscription.trySubscribe();\n\n    if (previousState !== store.getState()) {\n      subscription.notifyNestedSubs();\n    }\n\n    return function () {\n      subscription.tryUnsubscribe();\n      subscription.onStateChange = null;\n    };\n  }, [contextValue, previousState]);\n  var Context = context || ReactReduxContext;\n  return /*#__PURE__*/React.createElement(Context.Provider, {\n    value: contextValue\n  }, children);\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  Provider.propTypes = {\n    store: PropTypes.shape({\n      subscribe: PropTypes.func.isRequired,\n      dispatch: PropTypes.func.isRequired,\n      getState: PropTypes.func.isRequired\n    }),\n    context: PropTypes.object,\n    children: PropTypes.any\n  };\n}\n\nexport default Provider;"],"names":["PrivateIconConfig","name","height","width","svgPath","yOffset","xOffset","PrivateIcon","RedoIconConfig","RedoIcon","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","addNotification","notifications","_ref","payload","concat","id","Date","getTime","Math","random","toString","slice","removeNotification","_ref2","index","findIndex","_ref3","defaultState","state","undefined","action","type","urlOrHost","formData","url","scheme","host","port","path","u","URL","protocol","replace","hostname","defaultPort","pathname","error","parseUrl","endpoint","doUpdateSource","values","promises","getSourcesApi","updateSource","endPointPort","parseInt","endpointData","isNaN","updateEndpoint","endpoints","authentications","idWithoutPrefix","updateAuthentication","applications","updateApplication","extra","Promise","all","handleError","errorMessage","sourceId","get","JSON","stringify","deleteSource","then","errorDelete","errorDeleteDetail","doLoadSourceTypes","listSourceTypes","data","intl","useIntl","writePermissions","useHasWritePermissions","dispatch","useDispatch","useEffect","title","formatMessage","defaultMessage","description","disabledMessage","addMessage","variant","Redirect","to","routes","useSource","paused_at","replaceRouteId","CustomRouteInternal","route","children","redirectNoId","noPaused","writeAccess","RedirectNoId","propTypes","PropTypes","isRequired","CustomRoute","componentProps","Component","props","Route","useParams","loaded","useIsLoaded","useSelector","sources","shallowEqual","appTypesLoaded","sourceTypesLoaded","useState","applicationIsLoaded","setIsApplicationLoaded","doLoadSource","addHiddenSource","user","entities","find","loading","setLoading","Button","onClick","checkSourceStatus","isDisabled","Spinner","size","DescriptionListItem","term","DescriptionListGroup","DescriptionListTerm","DescriptionListDescription","awsAccountNumber","sourceTypes","source_type_id","arnType","authtype","includes","username","match","Card","className","CardTitle","CardBody","DescriptionList","columnModifier","default","sourceTypeFormatter","last_checked_at","last_available_at","dateFormatter","created_at","updated_at","app_creation_workflow","configurationModeFormatter","sourceType","ApplicationKebab","app","removeApp","addApp","isOpen","setOpen","useHistory","hasRightAccess","wrappedFunction","func","disabledProps","disabledTooltipProps","pausedTooltip","pausedProps","tooltip","pausedButton","DropdownItem","removedButton","Dropdown","isPlain","position","dropdownItems","toggle","KebabToggle","onToggle","open","initialState","selectedApps","reducer","addResumeNotification","typeId","appTypes","appName","display_name","customIcon","addPausedNotification","addErrorNotification","create","pause","resume","tryAgainMessage","useReducer","stateDispatch","sourceTypeName","filteredAppTypes","supported_source_types","filterApps","isPaused","unpauseApplication","loadEntities","pauseApplication","isSuperKey","doCreateApplication","source_id","application_type_id","map","connectedApp","APP_NAMES","descriptionMapper","appExist","Boolean","pausedApp","isChecked","FormGroup","Switch","label","isDeleting","onChange","value","showStatusText","EmptyState","EmptyStateIcon","icon","PlusCircleIcon","Title","headingLevel","EmptyStateBody","doLoadSourceForEdit","showSource","listSourceEndpoints","doLoadApplicationsForEdit","sourceData","apps","basicValues","addToApp","appAuthenticationIds","auth","showAuthentication","appAuths","listEndpointAuthentications","pausedAppAlert","application","b","bold","CHECK_ENDPOINT_COMMAND","selectOnlyEditedValues","editing","filteredValues","set","prepareInitialValues","rest","auhenticationsFinal","mergeAuths","reduce","acc","curr","endpointToUrl","applicationsFinal","source_type","addIfUnique","array","item","getEditedApplications","editedApplications","editedId","startsWith","resource_type","onSubmit","setState","startDate","messages","checkApplications","checkInfo","checkAppAvailability","statusResults","availability_status","availability_status_error","AVAILABLE","UNAVAILABLE","IN_PROGRESS","parseSourceToSchema","fields","applicationsFields","initialValues","schema","isSubmitting","initialLoad","submitError","submitMessages","product_name","LoadingStep","customText","ErroredModal","onRetry","ErroredStep","onClose","secondaryActions","Text","component","href","rel","returnButtonTitle","sourceRedux","isLoaded","message","prepareMessages","isLoading","Bullseye","hideFormControls","every","SourcesFormRenderer","formApi","getState","dirtyFields","FormTemplate","canReset","showFormControls","submitLabel","disableSubmit","clearedValue","Breadcrumb","BreadcrumbItem","Link","isActive","resumeSource","pauseSource","PageHeader","Flex","FlexItem","availabilityFormatter","align","TextContent","createColumns","createRows","appType","applicationRows","authenticationFields","flatMap","x","field","hideField","activeTab","columns","applicationsRows","Tabs","isBox","activeKey","onSelect","_e","alertProps","Tab","eventKey","TabTitleText","Alert","isInline","Table","cells","rows","TableHeader","TableBody","ResourcesEmptyState","applicationName","GridItem","md","actionLinks","AlertActionLink","Tooltip","content","SourceRemoveModal","lazy","AddApplication","RemoveAppModal","SourceRenameModal","EditCredentials","superKey","Suspense","fallback","exact","backPath","Grid","ACTION_TYPES","SORT_ENTITIES","PAGE_AND_SIZE","FILTER_SOURCES","ADD_APP_TO_SOURCE","SET_COUNT","ADD_HIDDEN_SOURCE","CLEAR_FILTERS","SET_VENDOR","options","pageSize","pageNumber","sortBy","sortDirection","filterValue","activeVendor","doLoadEntities","sources_aggregate","meta","noError","detail","loadSourceTypes","loadAppTypes","doLoadAppTypes","sortEntities","column","direction","pageAndSize","page","paginationClicked","filterSources","ADD_NOTIFICATION","dismissable","removeSource","doRemoveSource","removeMessage","REMOVE_NOTIFICATION","removeApplication","appId","successTitle","errorTitle","doDeleteApplication","fulfilled","clearFilters","renameSource","oldName","errors","setActiveVendor","vendor","sourceName","unpauseSource","filterVendorAppTypes","CLOUD_VENDOR","REDHAT_VENDOR","TOPOLOGY_INV_NAME","store","context","contextValue","useMemo","subscription","onStateChange","notifyNestedSubs","previousState","trySubscribe","tryUnsubscribe","Context","Provider"],"sourceRoot":""}